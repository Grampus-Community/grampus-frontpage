(this.webpackJsonpgrampuscommunity=this.webpackJsonpgrampuscommunity||[]).push([[8],{1009:function(e,t,n){"use strict";var r,c,i,o,a,l=n(18),s=n(5),u=n(1),d=n(4),j=n(17),b=n(43),p=n(76),x=n(127),O=n(0),f=d.default.div(r||(r=Object(s.a)(["\n  padding: 0 4px;\n"]))),h=d.default.div(c||(c=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  ",":first-child {\n    padding-left: 0;\n  }\n\n  ",":last-child {\n    padding-right: 0;\n  }\n\n  "," {\n    flex-direction: row;\n  }\n"])),f,f,(function(e){return e.theme.mediaQueries.sm})),m=[{label:"0.1%",value:.1},{label:"0.5%",value:.5},{label:"1%",value:1}],v=function(e){var t=e.t,n=Object(p.n)(),r=Object(l.a)(n,2),c=r[0],i=r[1],o=Object(u.useState)(c/100),a=Object(l.a)(o,2),s=a[0],d=a[1],b=Object(u.useState)(null),v=Object(l.a)(b,2),g=v[0],y=v[1];return Object(u.useEffect)((function(){try{var e=100*s;!Number.isNaN(e)&&e>0&&e<5e3?(i(e),y(null)):y(t("Enter a valid slippage percentage"))}catch(n){y(t("Enter a valid slippage percentage"))}}),[s,y,i,t]),Object(u.useEffect)((function(){c<50?y(t("Your transaction may fail")):c>500&&y(t("Your transaction may be frontrun"))}),[c,y,t]),Object(O.jsxs)(j.Box,{mb:"16px",children:[Object(O.jsxs)(j.Flex,{alignItems:"center",mb:"8px",children:[Object(O.jsx)(j.Text,{bold:!0,children:t("Slippage tolerance")}),Object(O.jsx)(x.a,{text:t("Your transaction will revert if the price changes unfavorably by more than this percentage.")})]}),Object(O.jsxs)(h,{children:[Object(O.jsx)(j.Flex,{mb:["8px","8px",0],mr:[0,0,"8px"],children:m.map((function(e){var t=e.label,n=e.value;return Object(O.jsx)(f,{children:Object(O.jsx)(j.Button,{variant:s===n?"primary":"tertiary",onClick:function(){return d(n)},children:t})},n)}))}),Object(O.jsxs)(j.Flex,{alignItems:"center",children:[Object(O.jsx)(f,{children:Object(O.jsx)(j.Input,{type:"number",scale:"lg",step:.1,min:.1,placeholder:"5%",value:s,onChange:function(e){var t=e.target.value;d(parseFloat(t))},isWarning:null!==g})}),Object(O.jsx)(f,{children:Object(O.jsx)(j.Text,{fontSize:"18px",children:"%"})})]})]}),g&&Object(O.jsx)(j.Text,{mt:"8px",color:"failure",children:g})]})},g=d.default.div(i||(i=Object(s.a)(["\n  align-items: center;\n  display: inline-flex;\n\n  & > "," {\n    max-width: 100px;\n  }\n"])),j.Input),y=function(e){var t=e.t,n=Object(p.m)(),r=Object(l.a)(n,2),c=r[0],i=r[1],o=Object(u.useState)(c/60),a=Object(l.a)(o,2),s=a[0],d=a[1],b=Object(u.useState)(null),f=Object(l.a)(b,2),h=f[0],m=f[1];return Object(u.useEffect)((function(){try{var e=60*s;!Number.isNaN(e)&&e>0?(i(e),m(null)):m(t("Enter a valid deadline"))}catch(n){m(t("Enter a valid deadline"))}}),[s,m,i,t]),Object(O.jsxs)(j.Box,{mb:"16px",children:[Object(O.jsxs)(j.Flex,{alignItems:"center",mb:"8px",children:[Object(O.jsx)(j.Text,{bold:!0,children:t("Transaction deadline")}),Object(O.jsx)(x.a,{text:t("Your transaction will revert if it is pending for more than this long.")})]}),Object(O.jsxs)(g,{children:[Object(O.jsx)(j.Input,{type:"number",step:"1",min:"1",value:s,onChange:function(e){var t=e.target.value;d(parseInt(t,10))}}),Object(O.jsx)(j.Text,{fontSize:"14px",ml:"8px",children:t("Minutes")})]}),h&&Object(O.jsx)(j.Text,{mt:"8px",color:"failure",children:h})]})},T=function(e){var t=e.t,n=Object(j.useMatchBreakpoints)(),r=n.isSm,c=n.isXs,i=Object(p.d)(),o=Object(l.a)(i,2),a=o[0],s=o[1];return Object(O.jsxs)(j.Box,{mb:"16px",children:[Object(O.jsx)(j.Flex,{alignItems:"center",mb:"8px",children:Object(O.jsx)(j.Text,{bold:!0,children:t("Audio")})}),Object(O.jsx)(j.Box,{children:Object(O.jsx)(j.PancakeToggle,{scale:r||c?"sm":"md",checked:a,onChange:s})})]})},w=function(){return null},k=function(e){var t=e.onDismiss,n=void 0===t?w:t,r=e.t;return Object(O.jsxs)(j.Modal,{title:r("Settings"),onDismiss:n,children:[Object(O.jsx)(v,{t:r}),Object(O.jsx)(y,{t:r}),Object(O.jsx)(T,{t:r})]})},C=n(10),S=n(29),I=n(204),P=n(244),A=function(){return null},U=function(e,t){return t.addedTime-e.addedTime},E=function(e){var t=e.onDismiss,n=void 0===t?A:t,r=e.t,c=Object(S.a)(),i=c.account,o=c.chainId,a=Object(I.b)(),l=Object(u.useMemo)((function(){return Object.values(a).filter(I.a).sort(U)}),[a]);return Object(O.jsxs)(j.Modal,{title:r("Recent transactions"),onDismiss:n,children:[!i&&Object(O.jsxs)(j.Flex,{justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(O.jsx)(j.Text,{mb:"8px",bold:!0,children:r("pctoseept")}),Object(O.jsx)(j.Button,{variant:"tertiary",scale:"sm",mt:"10px",onClick:n,children:r("Close")})]}),i&&o&&0===l.length&&Object(O.jsxs)(j.Flex,{justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(O.jsx)(j.Text,{mb:"8px",bold:!0,children:r("No recent transactions")}),Object(O.jsx)(j.Button,{variant:"tertiary",scale:"sm",mt:"10px",onClick:n,children:r("Close")})]}),i&&o&&l.map((function(e){var t=e.hash,n=e.summary,r=function(e){var t=e.hash,n=e.receipt;return t?t&&1===(null===n||void 0===n?void 0:n.status)?{icon:Object(O.jsx)(j.CheckmarkCircleIcon,{color:"success"}),color:"success"}:{icon:Object(O.jsx)(j.ErrorIcon,{color:"failure"}),color:"failure"}:{icon:Object(O.jsx)(P.a,{}),color:"text"}}(e),c=r.icon,i=r.color;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(j.Flex,{alignItems:"center",justifyContent:"space-between",mb:"4px",children:[Object(O.jsx)(j.LinkExternal,{href:Object(C.Q)(o,t,"transaction"),color:i,children:null!==n&&void 0!==n?n:t}),c]},t)})}))]})},N=d.default.div(o||(o=Object(s.a)(["\n  border-bottom: 1px solid ",";\n  padding: 24px;\n"])),(function(e){return e.theme.colors.borderColor})),z=d.default.div(a||(a=Object(s.a)(["\n  flex: 1;\n"])));t.a=function(e){var t=e.title,n=e.description,r=e.children,c=Object(b.c)().t,i=Object(j.useModal)(Object(O.jsx)(k,{t:c})),o=Object(l.a)(i,1)[0],a=Object(j.useModal)(Object(O.jsx)(E,{t:c})),s=Object(l.a)(a,1)[0];return Object(O.jsxs)(N,{children:[Object(O.jsxs)(j.Flex,{alignItems:"center",children:[Object(O.jsxs)(z,{children:[Object(O.jsx)(j.Heading,{mb:"8px",children:t}),n&&Object(O.jsx)(j.Text,{color:"textSubtle",fontSize:"14px",children:n})]}),Object(O.jsx)(j.IconButton,{variant:"text",onClick:o,title:c("Settings"),children:Object(O.jsx)(j.TuneIcon,{width:"24px",color:"currentColor"})}),Object(O.jsx)(j.IconButton,{variant:"text",onClick:s,title:c("Recent transactions"),children:Object(O.jsx)(j.HistoryIcon,{width:"24px",color:"currentColor"})})]}),r&&Object(O.jsx)(j.Text,{mt:"16px",children:r})]})}},1201:function(e,t,n){"use strict";var r=n(1),c=n.n(r),i=n(22),o=n.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var s=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=l(e,["color","size"]);return c.a.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),c.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.a.createElement("polyline",{points:"19 12 12 19 5 12"}))}));s.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},s.displayName="ArrowDown",t.a=s},1258:function(e,t,n){"use strict";n.r(t);var r,c,i,o,a=n(2),l=n(12),s=n(18),u=n(10),d=n(36),j=n(1),b=n.n(j),p=n(1201),x=n(17),O=n(4),f=n(239),h=n(5),m=n(43),v=n(384),g=n(29),y=n(100),T=n(38),w=n(30),k=n(0),C=O.default.div(r||(r=Object(h.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ",";\n  z-index: 1;\n  width: 100%;\n"])),(function(e){return e.theme.colors.invertedContrast})),S=O.default.div(c||(c=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1.25rem;\n  border: 1px solid ",";\n  transition: border-color 300ms ",",\n    color 500ms ",";\n  background-color: ",";\n"])),(function(e){var t=e.error,n=e.theme;return t?n.colors.failure:n.colors.invertedContrast}),(function(e){return e.error?"step-end":"step-start"}),(function(e){return e.error?"step-end":"step-start"}),(function(e){return e.theme.colors.invertedContrast})),I=O.default.div(i||(i=Object(h.a)(["\n  flex: 1;\n  padding: 1rem;\n"]))),P=O.default.input(o||(o=Object(h.a)(["\n  font-size: 1.25rem;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  width: 0;\n  background-color: ",";\n  transition: color 300ms ",";\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 500;\n  width: 100%;\n  ::placeholder {\n    color: ",";\n  }\n  padding: 0px;\n  -webkit-appearance: textfield;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.invertedContrast}),(function(e){return e.error?"step-end":"step-start"}),(function(e){var t=e.error,n=e.theme;return t?n.colors.failure:n.colors.primary}),(function(e){return e.theme.colors.textDisabled}),(function(e){return e.theme.colors.textDisabled}));function A(e){var t=e.id,n=e.value,r=e.onChange,c=Object(g.a)().chainId,i=Object(m.c)().t,o=Object(v.a)(n),a=o.address,l=o.loading,s=o.name,d=Object(j.useCallback)((function(e){var t=e.target.value.replace(/\s+/g,"");r(t)}),[r]),b=Boolean(n.length>0&&!l&&!a);return Object(k.jsx)(C,{id:t,children:Object(k.jsx)(S,{error:b,children:Object(k.jsx)(I,{children:Object(k.jsxs)(T.a,{gap:"md",children:[Object(k.jsxs)(w.b,{children:[Object(k.jsx)(x.Text,{color:"textSubtle",fontWeight:500,fontSize:"14px",children:i("Recipient")}),a&&c&&Object(k.jsx)(y.a,{href:Object(u.Q)(c,null!==s&&void 0!==s?s:a,"address"),style:{fontSize:"14px"},children:i("(View on Scan)")})]}),Object(k.jsx)(P,{className:"recipient-address-input",type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:i("Wallet Address or ENS name"),error:b,pattern:"^(0x[a-fA-F0-9]{40})$",onChange:d,value:n})]})})})})}var U=n(205),E=n(346),N=n(22),z=n.n(N);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var M=Object(j.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,c=e.size,i=void 0===c?24:c,o=F(e,["color","size"]);return b.a.createElement("svg",B({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),b.a.createElement("polyline",{points:"17 1 21 5 17 9"}),b.a.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),b.a.createElement("polyline",{points:"7 23 3 19 7 15"}),b.a.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))}));M.propTypes={color:z.a.string,size:z.a.oneOfType([z.a.string,z.a.number])},M.displayName="Repeat";var D=M,L=n(34),R=n(240),W=n(127),_=n(362);function V(e){var t=e.priceImpact;return Object(k.jsx)(_.d,{fontSize:"14px",severity:Object(R.d)(t),children:t?t.lessThan(u.D)?"<0.01%":"".concat(t.toFixed(2),"%"):"-"})}function H(e){var t,n,r,c,i=e.trade,o=e.onConfirm,a=e.allowedSlippage,l=e.swapErrorMessage,d=e.disabledConfirm,b=Object(j.useState)(!1),p=Object(s.a)(b,2),O=p[0],f=p[1],h=Object(g.a)().chainId,v=null!==h&&void 0!==h?h:Object(u.K)(),y=Object(j.useMemo)((function(){return Object(R.a)(v,i,a)}),[a,i,v]),C=Object(j.useMemo)((function(){return Object(R.b)(v,i)}),[i,v]),S=C.priceImpactWithoutFee,I=C.realizedLPFee,P=Object(R.d)(S),A=Object(m.c)().t;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(T.a,{gap:"0px",children:[Object(k.jsxs)(w.b,{align:"center",children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:"Price"}),Object(k.jsxs)(x.Text,{fontSize:"14px",style:{justifyContent:"center",alignItems:"center",display:"flex",textAlign:"right",paddingLeft:"8px",fontWeight:500},children:[Object(R.c)(i,O),Object(k.jsx)(_.f,{onClick:function(){return f(!O)},children:Object(k.jsx)(D,{size:14})})]})]}),Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:i.tradeType===u.G.EXACT_INPUT?A("Minimum received"):A("Maximum sold")}),Object(k.jsx)(W.a,{text:A("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.")})]}),Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:i.tradeType===u.G.EXACT_INPUT?null!==(t=null===(n=y[L.a.OUTPUT])||void 0===n?void 0:n.toSignificant(4))&&void 0!==t?t:"-":null!==(r=null===(c=y[L.a.INPUT])||void 0===c?void 0:c.toSignificant(4))&&void 0!==r?r:"-"}),Object(k.jsx)(x.Text,{fontSize:"14px",marginLeft:"4px",children:i.tradeType===u.G.EXACT_INPUT?i.outputAmount.currency.symbol:i.inputAmount.currency.symbol})]})]}),Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:A("Price Impact")}),Object(k.jsx)(W.a,{text:A("The difference between the market price and your price due to trade size.")})]}),Object(k.jsx)(V,{priceImpact:S})]}),Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:A("Liquidity Provider Fee")}),Object(k.jsx)(W.a,{text:A("For each trade a 0.2% fee is paid. 0.17% goes to liquidity providers and 0.03% goes to the PancakeSwap treasury.")})]}),Object(k.jsx)(x.Text,{fontSize:"14px",children:I?"".concat(null===I||void 0===I?void 0:I.toSignificant(6)," ").concat(i.inputAmount.currency.symbol):"-"})]})]}),Object(k.jsxs)(w.a,{children:[Object(k.jsx)(x.Button,{onClick:o,disabled:d,variant:P>2?"danger":"primary",mt:"10px",id:"confirm-swap-or-send",width:"100%",children:A(P>2?"Swap Anyway":"Confirm Swap")}),l?Object(k.jsx)(_.g,{error:l}):null]})]})}var G,q=n(930),X=n(49),Y=n(85),K=Object(O.default)(x.Text)(G||(G=Object(h.a)(["\n  font-style: italic;\n  line-height: 1.3;\n\n  span {\n    color: ",";\n    font-weight: 600;\n  }\n"])),(function(e){return e.theme.colors.primary}));function Q(e){var t,n,r=e.trade,c=e.allowedSlippage,i=e.recipient,o=e.showAcceptChanges,a=e.onAcceptChanges,l=Object(g.a)().chainId,s=null!==l&&void 0!==l?l:Object(u.K)(),d=Object(j.useMemo)((function(){return Object(R.a)(s,r,c)}),[r,c,s]),b=Object(j.useMemo)((function(){return Object(R.b)(s,r)}),[r,s]).priceImpactWithoutFee,f=Object(R.d)(b),h=Object(j.useContext)(O.ThemeContext);return Object(k.jsxs)(T.a,{gap:"md",style:{marginTop:"20px"},children:[Object(k.jsxs)(w.b,{align:"flex-end",children:[Object(k.jsxs)(w.c,{gap:"0px",children:[Object(k.jsx)(Y.a,{currency:r.inputAmount.currency,size:"24px",style:{marginRight:"12px"}}),Object(k.jsx)(x.Text,{fontSize:"24px",color:o&&r.tradeType===u.G.EXACT_OUTPUT?h.colors.primary:"text",children:r.inputAmount.toSignificant(6)})]}),Object(k.jsx)(w.c,{gap:"0px",children:Object(k.jsx)(x.Text,{fontSize:"24px",style:{marginLeft:"10px",fontWeight:500},children:r.inputAmount.currency.symbol})})]}),Object(k.jsx)(w.c,{children:Object(k.jsx)(p.a,{size:"16",color:h.colors.textSubtle,style:{marginLeft:"4px",minWidth:"16px"}})}),Object(k.jsxs)(w.b,{align:"flex-end",children:[Object(k.jsxs)(w.c,{gap:"0px",children:[Object(k.jsx)(Y.a,{currency:r.outputAmount.currency,size:"24px",style:{marginRight:"12px"}}),Object(k.jsx)(x.Text,{fontSize:"24px",style:{marginLeft:"10px",fontWeight:500},color:f>2?h.colors.failure:o&&r.tradeType===u.G.EXACT_INPUT?h.colors.primary:"text",children:r.outputAmount.toSignificant(6)})]}),Object(k.jsx)(w.c,{gap:"0px",children:Object(k.jsx)(x.Text,{fontSize:"24px",style:{marginLeft:"10px",fontWeight:500},children:r.outputAmount.currency.symbol})})]}),o?Object(k.jsx)(_.h,{justify:"flex-start",gap:"0px",children:Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(q.a,{size:20,style:{marginRight:"8px",minWidth:24}}),Object(k.jsx)(x.Text,{color:"primary",children:" Price Updated"})]}),Object(k.jsx)(x.Button,{onClick:a,children:"Accept"})]})}):null,Object(k.jsx)(T.a,{justify:"flex-start",gap:"sm",style:{padding:"16px 0 0"},children:r.tradeType===u.G.EXACT_INPUT?Object(k.jsxs)(K,{children:["Output is estimated. You will receive at least ",Object(k.jsxs)("span",{children:[null===(t=d[L.a.OUTPUT])||void 0===t?void 0:t.toSignificant(6)," ",r.outputAmount.currency.symbol]})," or the transaction will revert."]}):Object(k.jsxs)(K,{children:["Input is estimated. You will sell at most ",Object(k.jsxs)("span",{children:[null===(n=d[L.a.INPUT])||void 0===n?void 0:n.toSignificant(6)," ",r.inputAmount.currency.symbol]})," or the transaction will revert."]})}),null!==i?Object(k.jsx)(T.a,{justify:"flex-start",gap:"sm",style:{padding:"16px 0 0"},children:Object(k.jsxs)(x.Text,{children:["Output will be sent to"," ",Object(k.jsx)("b",{title:i,children:Object(X.g)(i)?Object(X.i)(i):i})]})}):null]})}function J(e){var t,n,r,c,i,o,a=e.trade,l=e.originalTrade,s=e.onAcceptChanges,d=e.allowedSlippage,b=e.onConfirm,p=e.onDismiss,x=e.recipient,O=e.swapErrorMessage,f=e.isOpen,h=e.attemptingTxn,m=e.txHash,v=e.t,g=Object(j.useMemo)((function(){return Boolean(a&&l&&(t=l,(e=a).tradeType!==t.tradeType||!Object(u.H)(e.inputAmount.currency,t.inputAmount.currency)||!e.inputAmount.equalTo(t.inputAmount)||!Object(u.H)(e.outputAmount.currency,t.outputAmount.currency)||!e.outputAmount.equalTo(t.outputAmount)));var e,t}),[l,a]),y=Object(j.useCallback)((function(){return a?Object(k.jsx)(Q,{trade:a,allowedSlippage:d,recipient:x,showAcceptChanges:g,onAcceptChanges:s}):null}),[d,s,x,g,a]),T=Object(j.useCallback)((function(){return a?Object(k.jsx)(H,{onConfirm:b,trade:a,disabledConfirm:g,swapErrorMessage:O,allowedSlippage:d}):null}),[d,b,g,O,a]),w="Swapping ".concat(null===a||void 0===a||null===(t=a.inputAmount)||void 0===t?void 0:t.toSignificant(6)," ").concat(null===a||void 0===a||null===(n=a.inputAmount)||void 0===n||null===(r=n.currency)||void 0===r?void 0:r.symbol," for ").concat(null===a||void 0===a||null===(c=a.outputAmount)||void 0===c?void 0:c.toSignificant(6)," ").concat(null===a||void 0===a||null===(i=a.outputAmount)||void 0===i||null===(o=i.currency)||void 0===o?void 0:o.symbol),C=Object(j.useCallback)((function(){return O?Object(k.jsx)(E.b,{onDismiss:p,message:O}):Object(k.jsx)(E.a,{title:v("Confirm Swap"),onDismiss:p,topContent:y,bottomContent:T})}),[p,T,y,O,v]);return Object(k.jsx)(E.c,{t:v,isOpen:f,onDismiss:p,attemptingTxn:h,hash:m,content:C,pendingText:w})}var $=n(347),Z=n(375),ee=n(33),te=n(498),ne=n(76);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var ie=Object(j.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,c=e.size,i=void 0===c?24:c,o=ce(e,["color","size"]);return b.a.createElement("svg",re({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),b.a.createElement("polyline",{points:"9 18 15 12 9 6"}))}));ie.propTypes={color:z.a.string,size:z.a.oneOfType([z.a.string,z.a.number])},ie.displayName="ChevronRight";var oe,ae=ie,le=Object(j.memo)((function(e){var t=e.trade,n=Object(j.useContext)(O.ThemeContext);return Object(k.jsx)(x.Flex,{px:"1rem",py:"0.5rem",my:"0.5rem",style:{border:"1px solid ".concat(n.colors.tertiary),borderRadius:"1rem"},flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"center",children:t.route.path.map((function(e,t,n){var r=t===n.length-1;return Object(k.jsxs)(j.Fragment,{children:[Object(k.jsxs)(x.Flex,{my:"0.5rem",alignItems:"center",style:{flexShrink:0},children:[Object(k.jsx)(Y.a,{currency:e,size:"1.5rem"}),Object(k.jsx)(x.Text,{fontSize:"14px",color:"text",ml:"0.5rem",children:e.symbol})]}),r?null:Object(k.jsx)(ae,{color:"textSubtle"})]},t)}))})}));function se(e){var t,n,r,c,i=e.trade,o=e.allowedSlippage,a=Object(g.a)().chainId,l=null!==a&&void 0!==a?a:Object(u.K)(),s=Object(R.b)(l,i),d=s.priceImpactWithoutFee,j=s.realizedLPFee,b=i.tradeType===u.G.EXACT_INPUT,p=Object(R.a)(l,i,o),O=Object(m.c)().t;return Object(k.jsx)(x.Card,{children:Object(k.jsxs)(x.CardBody,{children:[Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:O(b?"Minimum received":"Maximum sold")}),Object(k.jsx)(W.a,{text:O("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.")})]}),Object(k.jsx)(w.c,{children:Object(k.jsx)(x.Text,{fontSize:"14px",children:b?null!==(t="".concat(null===(n=p[L.a.OUTPUT])||void 0===n?void 0:n.toSignificant(4)," ").concat(i.outputAmount.currency.symbol))&&void 0!==t?t:"-":null!==(r="".concat(null===(c=p[L.a.INPUT])||void 0===c?void 0:c.toSignificant(4)," ").concat(i.inputAmount.currency.symbol))&&void 0!==r?r:"-"})})]}),Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:O("Price Impact")}),Object(k.jsx)(W.a,{text:O("The difference between the market price and estimated price due to trade size.")})]}),Object(k.jsx)(V,{priceImpact:d})]}),Object(k.jsxs)(w.b,{children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:O("Liquidity Provider Fee")}),Object(k.jsx)(W.a,{text:O("For each trade a 0.2% fee is paid. 0.17% goes to liquidity providers and 0.03% goes to the PancakeSwap treasury.")})]}),Object(k.jsx)(x.Text,{fontSize:"14px",children:j?"".concat(j.toSignificant(4)," ").concat(i.inputAmount.currency.symbol):"-"})]})]})})}function ue(e){var t=e.trade,n=Object(ne.n)(),r=Object(s.a)(n,1)[0],c=Object(m.c)().t,i=Boolean(t&&t.route.path.length>2);return Object(k.jsx)(T.a,{gap:"md",children:t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(se,{trade:t,allowedSlippage:r}),i&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.e,{}),Object(k.jsxs)(T.a,{style:{padding:"0 24px"},children:[Object(k.jsxs)(w.c,{children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:c("Route")}),Object(k.jsx)(W.a,{text:c("rtftrade")})]}),Object(k.jsx)(le,{trade:t})]})]})]})})}var de=O.default.div(oe||(oe=Object(h.a)(["\n  padding-top: calc(16px + 2rem);\n  padding-bottom: 20px;\n  margin-top: -2rem;\n  width: 100%;\n  max-width: 400px;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  color: ",";\n  z-index: 1;\n\n  transform: ",";\n  transition: transform 300ms ease-in-out;\n"])),(function(e){return e.theme.colors.textSubtle}),(function(e){return e.show?"translateY(0%)":"translateY(-100%)"}));function je(e){var t,n=e.trade,r=Object(ee.a)(e,["trade"]),c=Object(te.b)(n);return Object(k.jsx)(de,{show:Boolean(n),children:Object(k.jsx)(ue,Object(a.a)(Object(a.a)({},r),{},{trade:null!==(t=null!==n&&void 0!==n?n:c)&&void 0!==t?t:void 0}))})}function be(e){var t,n,r,c,i,o=e.price,a=e.showInverted,l=e.setShowInverted,s=a?null===o||void 0===o?void 0:o.toSignificant(6):null===o||void 0===o||null===(t=o.invert())||void 0===t?void 0:t.toSignificant(6),u=Boolean((null===o||void 0===o?void 0:o.baseCurrency)&&(null===o||void 0===o?void 0:o.quoteCurrency)),d=a?"".concat(null===o||void 0===o||null===(n=o.quoteCurrency)||void 0===n?void 0:n.symbol," per ").concat(null===o||void 0===o||null===(r=o.baseCurrency)||void 0===r?void 0:r.symbol):"".concat(null===o||void 0===o||null===(c=o.baseCurrency)||void 0===c?void 0:c.symbol," per ").concat(null===o||void 0===o||null===(i=o.quoteCurrency)||void 0===i?void 0:i.symbol);return Object(k.jsx)(x.Text,{fontSize:"14px",style:{justifyContent:"center",alignItems:"center",display:"flex"},children:u?Object(k.jsxs)(k.Fragment,{children:[null!==s&&void 0!==s?s:"-"," ",d,Object(k.jsx)(_.f,{onClick:function(){return l(!a)},children:Object(k.jsx)(x.SyncAltIcon,{width:"20px",color:"primary"})})]}):"-"})}var pe,xe,Oe,fe,he,me=n(96),ve=n(257),ge=O.default.div(pe||(pe=Object(h.a)(["\n  background: ",";\n  padding: 0.75rem;\n  border-radius: 20px;\n"])),(function(e){var t=e.theme;return Object(me.b)(.6,t.colors.tertiary)})),ye=O.default.div(xe||(xe=Object(h.a)(["\n  max-width: 420px;\n  width: 100%;\n  padding: 1rem;\n  background: rgba(242, 150, 2, 0.05);\n  border: 1px solid #f3841e;\n  border-radius: 20px;\n  overflow: auto;\n"]))),Te=Object(O.default)(q.a)(Oe||(Oe=Object(h.a)(["\n  stroke: ",";\n"])),(function(e){return e.theme.colors.failure}));function we(e){var t,n,r,c,i=e.token,o=Object(g.a)().chainId,a=Object(m.c)().t,l=null!==(t=null===i||void 0===i||null===(n=i.symbol)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:"",s=null!==(r=null===i||void 0===i||null===(c=i.name)||void 0===c?void 0:c.toLowerCase())&&void 0!==r?r:"",d=Object(ne.c)(),b=Object(j.useMemo)((function(){return!(!i||!o)&&Object.keys(d).some((function(e){var t,n,r=d[e];return!r.equals(i)&&((null===(t=r.symbol)||void 0===t?void 0:t.toLowerCase())===l||(null===(n=r.name)||void 0===n?void 0:n.toLowerCase())===s)}))}),[i,o,d,l,s]);return i?Object(k.jsx)(ge,{error:b,children:Object(k.jsxs)(w.a,{gap:"6px",children:[Object(k.jsxs)(T.a,{gap:"24px",children:[Object(k.jsx)(Y.a,{currency:i,size:"16px"}),Object(k.jsx)("div",{children:" "})]}),Object(k.jsxs)(T.a,{gap:"10px",justify:"flex-start",children:[Object(k.jsxs)(x.Text,{children:[i&&i.name&&i.symbol&&i.name!==i.symbol?"".concat(i.name," (").concat(i.symbol,")"):i.name||i.symbol," "]}),o&&Object(k.jsx)(y.a,{style:{fontWeight:400},href:Object(u.Q)(o,i.address,"token"),children:Object(k.jsxs)(x.Text,{title:i.address,children:[Object(X.i)(i.address)," ",a("(View on Scan)")]})})]})]})}):null}function ke(e){var t=e.isOpen,n=e.tokens,r=e.onConfirm,c=Object(j.useState)(!1),i=Object(s.a)(c,2),o=i[0],a=i[1],l=Object(j.useCallback)((function(){return a((function(e){return!e}))}),[]),u=Object(m.c)().t,d=Object(j.useCallback)((function(){return null}),[]);return Object(k.jsx)(ve.a,{isOpen:t,onDismiss:d,maxHeight:90,children:Object(k.jsx)(ye,{className:"token-warning-container",children:Object(k.jsxs)(T.a,{gap:"lg",children:[Object(k.jsxs)(w.a,{gap:"6px",children:[Object(k.jsx)(Te,{}),Object(k.jsx)(x.Text,{color:"failure",children:u("Token imported")})]}),Object(k.jsx)(x.Text,{children:u("Anyone can create a BEP20 token on BSC with any name, including creating fake versions of existing tokens and tokens that claim to represent projects that do not have a token.")}),Object(k.jsx)(x.Text,{children:u("This interface can load arbitrary tokens by token addresses. Please take extra caution and do your research when interacting with arbitrary BEP20 tokens.")}),Object(k.jsx)(x.Text,{children:u("If you purchase an arbitrary token, you may be unable to sell it back.")}),n.map((function(e){return Object(k.jsx)(we,{token:e},e.address)})),Object(k.jsxs)(w.b,{children:[Object(k.jsx)("div",{children:Object(k.jsxs)("label",{htmlFor:"understand-checkbox",style:{cursor:"pointer",userSelect:"none"},children:[Object(k.jsx)("input",{id:"understand-checkbox",type:"checkbox",className:"understand-checkbox",checked:o,onChange:l})," ",Object(k.jsx)(x.Text,{as:"span",ml:"4px",children:u("I understand")})]})}),Object(k.jsx)(x.Button,{disabled:!o,variant:"danger",style:{width:"140px"},className:"token-dismiss-button",onClick:function(){r()},children:u("Continue")})]})]})})})}var Ce,Se,Ie,Pe,Ae,Ue=O.default.div(fe||(fe=Object(h.a)(["\n  max-width: 420px;\n  width: 100%;\n  padding: 1rem;\n  background: rgba(242, 150, 2, 0.05);\n  border: 1px solid #f3841e;\n  border-radius: 20px;\n  overflow: auto;\n"]))),Ee=Object(O.default)(q.a)(he||(he=Object(h.a)(["\n  stroke: ",";\n"])),(function(e){return e.theme.colors.binance}));function Ne(e){var t,n,r,c,i,o,a,l,u,d,b,p,O,f,h,v,g,y,C,S,I=e.isOpen,P=e.token,A=e.onConfirm,U=Object(j.useState)(!1),E=Object(s.a)(U,2),N=E[0],z=E[1],B=Object(j.useCallback)((function(){return z((function(e){return!e}))}),[]),F=Object(j.useCallback)((function(){return null}),[]),M=Object(m.c)().t;return Object(k.jsx)(ve.a,{isOpen:I,onDismiss:F,maxHeight:90,children:Object(k.jsx)(Ue,{className:"token-warning-container",children:Object(k.jsxs)(T.a,{gap:"lg",children:[Object(k.jsxs)(w.a,{gap:"6px",children:[Object(k.jsx)(Ee,{}),Object(k.jsx)(x.Text,{children:M("trandnotice",{name:(null===P||void 0===P?void 0:P.symbol)?null===P||void 0===P?void 0:P.symbol:""})})]}),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(x.Text,{children:[M("tnsetting",{name:(null===P||void 0===P?void 0:P.symbol)?null===P||void 0===P?void 0:P.symbol:""}),Object(k.jsxs)("strong",{children:[M("setST",{value:((null===P||void 0===P||null===(t=P.tokenInfo)||void 0===t||null===(n=t.extensions)||void 0===n?void 0:n.fee)+2).toString()}),"%+"]})]}),Object(k.jsx)(x.Text,{children:M("setReason",{name:(null===P||void 0===P?void 0:P.symbol)?null===P||void 0===P?void 0:P.symbol:"",value:((null===P||void 0===P||null===(r=P.tokenInfo)||void 0===r||null===(c=r.extensions)||void 0===c?void 0:c.fee)+0).toString()})}),(null===P||void 0===P||null===(i=P.tokenInfo)||void 0===i||null===(o=i.extensions)||void 0===o?void 0:o.share_fee)&&Object(k.jsxs)(x.Text,{children:["\u2022 ",M("setShareFee",{value:((null===P||void 0===P||null===(a=P.tokenInfo)||void 0===a||null===(l=a.extensions)||void 0===l?void 0:l.share_fee)+0).toString()})]}),(null===P||void 0===P||null===(u=P.tokenInfo)||void 0===u||null===(d=u.extensions)||void 0===d?void 0:d.lp_fee)&&Object(k.jsxs)(x.Text,{children:["\u2022 ",M("setlpFee",{value:((null===P||void 0===P||null===(b=P.tokenInfo)||void 0===b||null===(p=b.extensions)||void 0===p?void 0:p.lp_fee)+0).toString()})]}),(null===P||void 0===P||null===(O=P.tokenInfo)||void 0===O||null===(f=O.extensions)||void 0===f?void 0:f.burn_fee)&&Object(k.jsxs)(x.Text,{children:["\u2022 ",M("setBurnFee",{value:((null===P||void 0===P||null===(h=P.tokenInfo)||void 0===h||null===(v=h.extensions)||void 0===v?void 0:v.burn_fee)+0).toString()})]}),(null===P||void 0===P||null===(g=P.tokenInfo)||void 0===g||null===(y=g.extensions)||void 0===y?void 0:y.bonus_fee)&&Object(k.jsxs)(x.Text,{children:["\u2022 ",M("setBonusFee",{value:((null===P||void 0===P||null===(C=P.tokenInfo)||void 0===C||null===(S=C.extensions)||void 0===S?void 0:S.bonus_fee)+0).toString()})]})]}),Object(k.jsxs)(w.b,{children:[Object(k.jsx)("div",{children:Object(k.jsxs)("label",{htmlFor:"understand-checkbox",style:{cursor:"pointer",userSelect:"none"},children:[Object(k.jsx)("input",{id:"understand-safeMoonWarning",type:"checkbox",className:"understand-checkbox",checked:N,onChange:B})," ",Object(k.jsx)(x.Text,{as:"span",children:M("I understand")})]})}),Object(k.jsx)(x.Button,{id:"confirm-safeMoonWarning",disabled:!N,variant:"danger",style:{width:"140px"},onClick:function(){z(!1),A()},children:M("Continue")})]})]})})})}var ze=Object(O.default)(T.a)(Ce||(Ce=Object(h.a)(["\n  margin-top: 1.25rem;\n"]))),Be=Object(O.default)(w.b)(Se||(Se=Object(h.a)(["\n  width: 50%;\n"]))),Fe=O.default.div(Ie||(Ie=Object(h.a)(["\n  min-width: 20px;\n  min-height: 20px;\n  background-color: ",";\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 8px;\n  font-size: 12px;\n  color: ",";\n"])),(function(e){var t=e.theme,n=e.confirmed;return e.disabled?t.colors.backgroundDisabled:n?t.colors.success:t.colors.primary}),(function(e){var t=e.theme,n=e.confirmed;return e.disabled?t.colors.text:n?t.colors.success:"#FFFFFF"})),Me=O.default.div(Pe||(Pe=Object(h.a)(["\n  width: calc(100% - 20px);\n  display: flex;\n  align-items: center;\n"]))),De=O.default.div(Ae||(Ae=Object(h.a)(["\n  width: 100%;\n  height: 2px;\n  background-color: ;\n  background: linear-gradient(\n    90deg,\n    "," 0%,\n    "," 80%\n  );\n  opacity: 0.6;\n"])),(function(e){var t=e.theme,n=e.prevConfirmed;return Object(me.b)(.5,n?t.colors.success:t.colors.primary)}),(function(e){var t=e.theme;return e.prevConfirmed?t.colors.primary:t.colors.backgroundDisabled}));function Le(e){var t=e.steps;return Object(k.jsx)(ze,{justify:"center",children:Object(k.jsxs)(Be,{children:[t.map((function(e,n){return Object(k.jsxs)(Me,{children:[Object(k.jsx)(Fe,{confirmed:e,disabled:!t[n-1]&&0!==n,children:e?"\u2713":n+1}),Object(k.jsx)(De,{prevConfirmed:e})]},n)})),Object(k.jsx)(Fe,{disabled:!t[t.length-1],children:t.length+1})]})})}var Re,We=n(370),_e=n(83),Ve=n(8),He=n.n(Ve),Ge=n(39),qe=n(26),Xe=n(77),Ye=n(378),Ke=n(204),Qe=n(184);function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.m,r=arguments.length>3?arguments[3]:void 0,c=Object(g.a)(),i=c.account,o=c.chainId,a=c.library,l=Object(v.a)(r),s=l.address,d=null===r?i:s;return Object(j.useMemo)((function(){if(!e||!d||!a||!i||!o)return[];var r=Object(X.f)(o,a,i);if(!r)return[];var c=[];return c.push(Ye.a.swapCallParameters(e,{feeOnTransfer:!1,allowedSlippage:new Xe.a(u.z.BigInt(Math.floor(t)),u.h),recipient:d,ttl:n})),e.tradeType===u.G.EXACT_INPUT&&c.push(Ye.a.swapCallParameters(e,{feeOnTransfer:!0,allowedSlippage:new Xe.a(u.z.BigInt(Math.floor(t)),u.h),recipient:d,ttl:n})),c.map((function(e){return{parameters:e,contract:r}}))}),[i,t,o,n,a,d,e])}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.m,r=arguments.length>3?arguments[3]:void 0,c=Object(g.a)(),i=c.account,o=c.chainId,l=c.library,s=Je(e,t,n,r),d=Object(Ke.d)(),b=Object(v.a)(r),p=b.address,x=null===r?i:p;return Object(j.useMemo)((function(){return e&&l&&i&&o?x?{state:Re.VALID,callback:function(){var t=Object(qe.a)(He.a.mark((function t(){var n,c,o,l,j,b,p,O,f,h,m,v;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.map((function(e){var t,n=e.parameters,r=n.methodName,c=n.args,i=n.value,o=e.contract,a=!i||Object(Qe.a)(i)?{}:{value:i};return(t=o.estimateGas)[r].apply(t,Object(Ge.a)(c).concat([a])).then((function(t){return{call:e,gasEstimate:t}})).catch((function(t){var n;return console.info("Gas estimate failed, trying eth_call to extract error",e),(n=o.callStatic)[r].apply(n,Object(Ge.a)(c).concat([a])).then((function(n){return console.info("Unexpected successful call after failed estimate gas",e,t,n),{call:e,error:new Error("Unexpected issue with estimating the gas. Please try again.")}})).catch((function(t){var n;switch(console.info("Call threw error",e,t),t.reason){case"UniswapV2Router: INSUFFICIENT_OUTPUT_AMOUNT":case"UniswapV2Router: EXCESSIVE_INPUT_AMOUNT":n="This transaction will not succeed either due to price movement or fee on transfer. Try increasing your slippage tolerance.";break;default:n="The transaction cannot succeed due to error: ".concat(t.reason,". This is probably an issue with one of the tokens you are swapping.")}return{call:e,error:new Error(n)}}))}))})));case 2:if(n=t.sent,(c=n.find((function(e,t,n){return"gasEstimate"in e&&(t===n.length-1||"gasEstimate"in n[t+1])})))||(c=n.find((function(e){return"gasEstimate"in e}))),c){t.next=10;break}if(!((o=n.filter((function(e){return e.error}))).length>0)){t.next=9;break}throw o[o.length-1].error;case 9:throw new Error("Unexpected error. Please contact support: none of the calls threw an error");case 10:return j=(l=c).call,b=j.contract,p=j.parameters,O=p.methodName,f=p.args,h=p.value,m=l.gasEstimate,v=l.error,t.abrupt("return",b[O].apply(b,Object(Ge.a)(f).concat([Object(a.a)({gasLimit:v?u.n:Object(X.b)(m)},h&&!Object(Qe.a)(h)?{value:h,from:i}:{from:i})])).then((function(t){var n=e.inputAmount.currency.symbol,c=e.outputAmount.currency.symbol,o=e.inputAmount.toSignificant(3),a=e.outputAmount.toSignificant(3),l="Swap ".concat(o," ").concat(n," for ").concat(a," ").concat(c),s=x===i?l:"".concat(l," to ").concat(r&&Object(X.g)(r)?Object(X.i)(r):r);return d(t,{summary:s}),t.hash})).catch((function(e){throw 4001===(null===e||void 0===e?void 0:e.code)?new Error("Transaction rejected."):(console.error("Swap failed",e,O,f,h),new Error("Swap failed: ".concat(e.message)))})));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),error:null}:null!==r?{state:Re.INVALID,callback:null,error:"Invalid recipient"}:{state:Re.LOADING,callback:null,error:null}:{state:Re.INVALID,callback:null,error:"Missing dependencies"}}),[e,l,i,o,x,r,s,d])}!function(e){e[e.INVALID=0]="INVALID",e[e.LOADING=1]="LOADING",e[e.VALID=2]="VALID"}(Re||(Re={}));var Ze,et=n(310),tt=n(94),nt=n(62);!function(e){e[e.NOT_APPLICABLE=0]="NOT_APPLICABLE",e[e.WRAP=1]="WRAP",e[e.UNWRAP=2]="UNWRAP"}(Ze||(Ze={}));var rt={wrapType:Ze.NOT_APPLICABLE};var ct=n(501),it=n(244),ot=n(1009),at=n(383),lt=n(371);t.default=function(){var e,t,n,r,c,i,o,b,h,v,C,S,I,P,E,N,z,B,F=Object(g.a)(),M=F.account,D=F.chainId,W=null!==D&&void 0!==D?D:Object(u.K)(),V=Object(et.b)(),H=Object(m.c)().t,G=Object(j.useState)(5),q=Object(s.a)(G,2),X=q[0],Y=q[1],K=Object(j.useState)(!1),Q=Object(s.a)(K,2),ee=Q[0],te=Q[1],re=Object(j.useState)(!1),ce=Object(s.a)(re,2),ie=ce[0],oe=ce[1],ae=[Object(ne.e)(W,null===V||void 0===V?void 0:V.inputCurrencyId),Object(ne.e)(W,null===V||void 0===V?void 0:V.outputCurrencyId)],le=ae[0],se=ae[1],ue=Object(j.useState)(!1),de=Object(s.a)(ue,2),pe=de[0],xe=de[1],Oe=Object(j.useState)({selectedToken:null,purchaseType:null}),fe=Object(s.a)(Oe,2),he=fe[0],me=fe[1],ve=Object(j.useMemo)((function(){var e,t;return null!==(e=null===(t=[le,se])||void 0===t?void 0:t.filter((function(e){return e instanceof d.a})))&&void 0!==e?e:[]}),[le,se]),ge=Object(j.useCallback)((function(){xe(!0)}),[]),ye=Object(j.useContext)(O.ThemeContext),Te=Object(ne.f)(),we=Object(s.a)(Te,1)[0],Ce=Object(ne.m)(),Se=Object(s.a)(Ce,1)[0],Ie=Object(ne.n)(),Pe=Object(s.a)(Ie,1)[0],Ae=Object(et.e)(),Ue=Ae.independentField,Ee=Ae.typedValue,ze=Ae.recipient,Be=Object(et.c)(),Fe=Be.v2Trade,Me=Be.currencyBalances,De=Be.parsedAmount,Re=Be.currencies,Ve=Be.inputError,Ge=function(e,t,n){var r=Object(g.a)(),c=r.account,i=r.chainId,o=Object(nt.j)(i),a=Object(m.c)().t,l=Object(tt.b)(null!==c&&void 0!==c?c:void 0,e),s=Object(j.useMemo)((function(){return Object(et.a)(i,n,e)}),[i,e,n]),d=Object(Ke.d)();return Object(j.useMemo)((function(){if(!o||!i||!e||!t)return rt;var n=s&&l&&!l.lessThan(s);return e===Object(u.L)()&&Object(u.H)(Object(u.R)(),t)?{wrapType:Ze.WRAP,execute:n&&s?Object(qe.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.deposit({value:"0x".concat(s.raw.toString(16))});case 3:t=e.sent,d(t,{summary:"Wrap ".concat(s.toSignificant(6)," ").concat(Object(u.M)()," to ").concat(Object(u.S)())}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Could not deposit",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))):void 0,inputError:n?void 0:a("insufficientBalance",{name:Object(u.M)()})}:Object(u.H)(Object(u.R)(),e)&&t===Object(u.L)()?{wrapType:Ze.UNWRAP,execute:n&&s?Object(qe.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.withdraw("0x".concat(s.raw.toString(16)));case 3:t=e.sent,d(t,{summary:"Unwrap ".concat(s.toSignificant(6)," ").concat(Object(u.S)()," to ").concat(Object(u.M)())}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Could not withdraw",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))):void 0,inputError:n?void 0:a("insufficientBalance",{name:Object(u.S)()})}:rt}),[o,i,e,t,s,l,d,a])}(Re[L.a.INPUT],Re[L.a.OUTPUT],Ee),Xe=Ge.wrapType,Ye=Ge.execute,Qe=Ge.inputError,Je=Xe!==Ze.NOT_APPLICABLE,st=Je?void 0:Fe;Object(j.useEffect)((function(){var e,t,n=["BNB","BUSD","USDT","USDC","CAKE","BUNNY","ETH","BTCB","AUTO","XVS"],r=(null===(e=Re[L.a.INPUT])||void 0===e?void 0:e.symbol)||"",c=(null===(t=Re[L.a.OUTPUT])||void 0===t?void 0:t.symbol)||"",i=n.includes(r),o=n.includes(c);if(i&&o){ee||te(!0);var a=setInterval((function(){Y((function(e){return e-1}))}),1e3);return ie&&(clearInterval(a),Y(5)),X<=0&&(window.location.href="/swap"),function(){clearInterval(a)}}}),[Re,ee,X,ie]);var ut=Je?(e={},Object(l.a)(e,L.a.INPUT,De),Object(l.a)(e,L.a.OUTPUT,De),e):(t={},Object(l.a)(t,L.a.INPUT,Ue===L.a.INPUT?De:null===st||void 0===st?void 0:st.inputAmount),Object(l.a)(t,L.a.OUTPUT,Ue===L.a.OUTPUT?De:null===st||void 0===st?void 0:st.outputAmount),t),dt=Object(et.d)(),jt=dt.onSwitchTokens,bt=dt.onCurrencySelection,pt=dt.onUserInput,xt=dt.onChangeRecipient,Ot=!Ve,ft=Ue===L.a.INPUT?L.a.OUTPUT:L.a.INPUT,ht=Object(j.useCallback)((function(e){pt(L.a.INPUT,e)}),[pt]),mt=Object(j.useCallback)((function(e){pt(L.a.OUTPUT,e)}),[pt]),vt=Object(j.useState)({showConfirm:!1,tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),gt=Object(s.a)(vt,2),yt=gt[0],Tt=yt.showConfirm,wt=yt.tradeToConfirm,kt=yt.swapErrorMessage,Ct=yt.attemptingTxn,St=yt.txHash,It=gt[1],Pt=(o={},Object(l.a)(o,Ue,Ee),Object(l.a)(o,ft,Je?null!==(n=null===(r=ut[Ue])||void 0===r?void 0:r.toExact())&&void 0!==n?n:"":null!==(c=null===(i=ut[ft])||void 0===i?void 0:i.toSignificant(6))&&void 0!==c?c:""),o),At=null===st||void 0===st?void 0:st.route,Ut=Boolean(Re[L.a.INPUT]&&Re[L.a.OUTPUT]&&(null===(b=ut[Ue])||void 0===b?void 0:b.greaterThan(u.z.BigInt(0)))),Et=!At,Nt=Object(_e.c)(st,Pe),zt=Object(s.a)(Nt,2),Bt=zt[0],Ft=zt[1],Mt=Object(j.useState)(!1),Dt=Object(s.a)(Mt,2),Lt=Dt[0],Rt=Dt[1];Object(j.useEffect)((function(){Bt===_e.a.PENDING&&Rt(!0)}),[Bt,Lt]);var Wt=Object(ct.a)(W,Me[L.a.INPUT]),_t=Boolean(Wt&&(null===(h=ut[L.a.INPUT])||void 0===h?void 0:h.equalTo(Wt))),Vt=$e(st,Pe,Se,ze),Ht=Vt.callback,Gt=Vt.error,qt=Object(R.b)(W,st).priceImpactWithoutFee,Xt=Object(j.useCallback)((function(){qt&&!function(e){return e.lessThan(u.E)?!!e.lessThan(u.b)||window.confirm("This swap has a price impact of at least ".concat(u.b.toFixed(0),"%. Please confirm that you would like to continue with this swap.")):"confirm"===window.prompt("This swap has a price impact of at least ".concat(u.E.toFixed(0),'%. Please type the word "confirm" to continue with this swap.'))}(qt)||Ht&&(It((function(e){return Object(a.a)(Object(a.a)({},e),{},{attemptingTxn:!0,swapErrorMessage:void 0,txHash:void 0})})),Ht().then((function(e){It((function(t){return Object(a.a)(Object(a.a)({},t),{},{attemptingTxn:!1,swapErrorMessage:void 0,txHash:e})}))})).catch((function(e){It((function(t){return Object(a.a)(Object(a.a)({},t),{},{attemptingTxn:!1,swapErrorMessage:e.message,txHash:void 0})}))})))}),[qt,Ht,It]),Yt=Object(j.useState)(!1),Kt=Object(s.a)(Yt,2),Qt=Kt[0],Jt=Kt[1],$t=Object(R.d)(qt),Zt=!Ve&&(Bt===_e.a.NOT_APPROVED||Bt===_e.a.PENDING||Lt&&Bt===_e.a.APPROVED)&&!($t>3&&!we),en=Object(j.useCallback)((function(){It((function(e){return Object(a.a)(Object(a.a)({},e),{},{showConfirm:!1})})),St&&pt(L.a.INPUT,"")}),[pt,St,It]),tn=Object(j.useCallback)((function(){It((function(e){return Object(a.a)(Object(a.a)({},e),{},{tradeToConfirm:st})}))}),[st]),nn=Object(j.useCallback)((function(e,t){var n,r;(null===e||void 0===e||null===(n=e.tokenInfo)||void 0===n||null===(r=n.extensions)||void 0===r?void 0:r.fee)&&me({selectedToken:e,purchaseType:t})}),[me]),rn=Object(j.useState)(void 0),cn=Object(s.a)(rn,2),on=cn[0],an=cn[1],ln=Object(j.useState)(void 0),sn=Object(s.a)(ln,2),un=sn[0],dn=sn[1],jn=Object(j.useCallback)((function(e){var t,n;an(e),te(!1),oe(!1),Rt(!1),bt(L.a.INPUT,e),(null===e||void 0===e||null===(t=e.tokenInfo)||void 0===t||null===(n=t.extensions)||void 0===n?void 0:n.fee)&&nn(e,"Selling")}),[bt,Rt,nn,an]),bn=Object(j.useCallback)((function(){Wt&&pt(L.a.INPUT,Wt.toExact())}),[Wt,pt]),pn=Object(j.useCallback)((function(e){var t,n;dn(e),te(!1),oe(!1),bt(L.a.OUTPUT,e),(null===e||void 0===e||null===(t=e.tokenInfo)||void 0===t||null===(n=t.extensions)||void 0===n?void 0:n.fee)&&nn(e,"Buying")}),[bt,nn,dn]);return Object(k.jsx)(f.a,{children:Object(k.jsxs)(We.a,{children:[Object(k.jsx)(ke,{isOpen:ve.length>0&&!pe,tokens:ve,onConfirm:ge}),Object(k.jsx)(Ne,{token:he.selectedToken,isOpen:he.selectedToken,onConfirm:function(){me({selectedToken:null,purchaseType:null})}}),Object(k.jsx)(Z.a,{}),Object(k.jsx)(lt.a,{children:Object(k.jsxs)(_.i,{id:"swap-page",children:[Object(k.jsx)(J,{t:H,isOpen:Tt,trade:st,originalTrade:wt,onAcceptChanges:tn,attemptingTxn:Ct,txHash:St,recipient:ze,allowedSlippage:Pe,onConfirm:Xt,swapErrorMessage:kt,onDismiss:en}),Object(k.jsx)(ot.a,{title:H("Exchange"),description:H("Trade tokens in an instant")}),Object(k.jsxs)(x.CardBody,{children:[Object(k.jsxs)(T.a,{gap:"md",children:[Object(k.jsx)($.a,{label:Ue===L.a.OUTPUT&&!Je&&st?H("From (estimated)"):H("From"),value:Pt[L.a.INPUT],showMaxButton:!_t,currency:Re[L.a.INPUT],onUserInput:ht,onMax:bn,onCurrencySelect:jn,otherCurrency:Re[L.a.OUTPUT],id:"swap-currency-input"}),Object(k.jsx)(T.a,{justify:"space-between",children:Object(k.jsxs)(w.a,{justify:we?"space-between":"center",style:{padding:"0 1rem"},children:[Object(k.jsx)(_.a,{clickable:!0,children:Object(k.jsx)(x.IconButton,{variant:"tertiary",onClick:function(){Rt(!1),jt()},style:{borderRadius:"50%"},scale:"sm",children:Object(k.jsx)(x.ArrowDownIcon,{color:"primary",width:"24px"})})}),null===ze&&!Je&&we?Object(k.jsx)(y.b,{id:"add-recipient-button",onClick:function(){return xt("")},children:"+ Add a send (optional)"}):null]})}),Object(k.jsx)($.a,{value:Pt[L.a.OUTPUT],onUserInput:mt,label:Ue===L.a.INPUT&&!Je&&st?H("To (estimated)"):H("To"),showMaxButton:!1,currency:Re[L.a.OUTPUT],onCurrencySelect:pn,otherCurrency:Re[L.a.INPUT],id:"swap-currency-output"}),null===ze||Je?null:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(w.a,{justify:"space-between",style:{padding:"0 1rem"},children:[Object(k.jsx)(_.a,{clickable:!1,children:Object(k.jsx)(p.a,{size:"16",color:ye.colors.textSubtle})}),Object(k.jsx)(y.b,{id:"remove-recipient-button",onClick:function(){return xt(null)},children:"- Remove send"})]}),Object(k.jsx)(A,{id:"recipient",value:ze,onChange:xt})]}),Je?null:Object(k.jsx)(U.c,{padding:".25rem .75rem 0 .75rem",borderRadius:"20px",children:Object(k.jsxs)(T.a,{gap:"4px",children:[Boolean(st)&&Object(k.jsxs)(w.b,{align:"center",children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:H("Price")}),Object(k.jsx)(be,{price:null===st||void 0===st?void 0:st.executionPrice,showInverted:Qt,setShowInverted:Jt})]}),Pe!==u.y&&Object(k.jsxs)(w.b,{align:"center",children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:H("Slippage tolerance")}),Object(k.jsxs)(x.Text,{fontSize:"14px",children:[Pe/100,"%"]})]}),(null===on||void 0===on||null===(v=on.tokenInfo)||void 0===v||null===(C=v.extensions)||void 0===C?void 0:C.fee)&&Object(k.jsxs)(w.b,{align:"center",children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:H("ccfee",{name:null===on||void 0===on?void 0:on.symbol})}),Object(k.jsxs)(x.Text,{fontSize:"14px",children:[null===on||void 0===on||null===(S=on.tokenInfo)||void 0===S||null===(I=S.extensions)||void 0===I?void 0:I.fee,"%"]})]}),(null===un||void 0===un||null===(P=un.tokenInfo)||void 0===P||null===(E=P.extensions)||void 0===E?void 0:E.fee)&&Object(k.jsxs)(w.b,{align:"center",children:[Object(k.jsx)(x.Text,{fontSize:"14px",children:H("ccfee",{name:null===un||void 0===un?void 0:un.symbol})}),Object(k.jsxs)(x.Text,{fontSize:"14px",children:[null===un||void 0===un||null===(N=un.tokenInfo)||void 0===N||null===(z=N.extensions)||void 0===z?void 0:z.fee,"%"]})]})]})})]}),Object(k.jsxs)(_.b,{children:[M?Je?Object(k.jsx)(x.Button,{disabled:Boolean(Qe),onClick:Ye,width:"100%",children:null!==Qe&&void 0!==Qe?Qe:Xe===Ze.WRAP?"Wrap":Xe===Ze.UNWRAP?"Unwrap":null}):Et&&Ut?Object(k.jsx)(U.a,{style:{textAlign:"center"},children:Object(k.jsxs)(x.Text,{mb:"4px",children:[H("Insufficient liquidity for this trade"),"."]})}):Zt?Object(k.jsxs)(w.b,{children:[Object(k.jsx)(x.Button,{onClick:Ft,disabled:Bt!==_e.a.NOT_APPROVED||Lt,style:{width:"48%"},variant:Bt===_e.a.APPROVED?"success":"primary",children:Bt===_e.a.PENDING?Object(k.jsxs)(w.a,{gap:"6px",justify:"center",children:["Approving ",Object(k.jsx)(it.a,{stroke:"white"})]}):Lt&&Bt===_e.a.APPROVED?H("Approved"):"Approve ".concat(null===(B=Re[L.a.INPUT])||void 0===B?void 0:B.symbol)}),Object(k.jsx)(x.Button,{onClick:function(){we?Xt():It({tradeToConfirm:st,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},style:{width:"48%"},id:"swap-button",disabled:!Ot||Bt!==_e.a.APPROVED||$t>3&&!we,variant:Ot&&$t>2?"danger":"primary",children:"".concat(H($t>3&&!we?"Price Impact High":$t>2?"Swap Anyway":"Swap"))})]}):Object(k.jsx)(x.Button,{onClick:function(){we?Xt():It({tradeToConfirm:st,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},id:"swap-button",disabled:!Ot||$t>3&&!we||!!Gt,variant:Ot&&$t>2&&!Gt?"danger":"primary",width:"100%",children:Ve||"".concat(H($t>3&&!we?"Price Impact Too High":$t>2?"Swap Anyway":"Swap"))}):Object(k.jsx)(at.a,{width:"100%"}),Zt&&Object(k.jsx)(Le,{steps:[Bt===_e.a.APPROVED]}),we&&kt?Object(k.jsx)(_.g,{error:kt}):null]})]})]})}),Object(k.jsx)(je,{trade:st})]})})}}}]);
//# sourceMappingURL=8.6c7fb6dd.chunk.js.map