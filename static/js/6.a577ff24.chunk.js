(this.webpackJsonpgrampuscommunity=this.webpackJsonpgrampuscommunity||[]).push([[6],{1008:function(e,t,n){"use strict";var c,r,a=n(5),o=(n(1),n(4)),i=n(17),s=n(43),l=n(981),d=n(0),u=o.default.div(c||(c=Object(a.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(4, auto);\n  margin-bottom: 24px;\n"]))),b=o.default.div(r||(r=Object(a.a)(["\n  margin-bottom: '10px';\n"])));t.a=function(e){var t=e.onDismiss,n=e.tokenPrice,c=e.apr,r=e.linkLabel,a=e.linkHref,o=e.earningTokenSymbol,j=void 0===o?"CAKE":o,x=e.roundingDecimals,O=void 0===x?2:x,m=e.compoundFrequency,p=void 0===m?1:m,h=e.performanceFee,f=void 0===h?0:h,g=Object(s.c)().t,k=1e3/n,v=Object(l.b)({numberOfDays:1,farmApr:c,tokenPrice:n,roundingDecimals:O,compoundFrequency:p,performanceFee:f}),y=Object(l.b)({numberOfDays:7,farmApr:c,tokenPrice:n,roundingDecimals:O,compoundFrequency:p,performanceFee:f}),w=Object(l.b)({numberOfDays:30,farmApr:c,tokenPrice:n,roundingDecimals:O,compoundFrequency:p,performanceFee:f}),S=Object(l.b)({numberOfDays:365,farmApr:c,tokenPrice:n,roundingDecimals:O,compoundFrequency:p,performanceFee:f});return Object(d.jsxs)(i.Modal,{title:"ROI",onDismiss:t,children:[Object(d.jsxs)(u,{children:[Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",mb:"20px",children:g("Timeframe")})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",mb:"20px",children:g("ROI")})}),Object(d.jsx)(b,{children:Object(d.jsxs)(i.Text,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",mb:"20px",children:[j," ",g("per")," $1000"]})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:"1d"})}),Object(d.jsx)(b,{children:Object(d.jsxs)(i.Text,{children:[Object(l.a)({amountEarned:v,amountInvested:k}).toFixed(O),"%"]})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:v})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:"7d"})}),Object(d.jsx)(b,{children:Object(d.jsxs)(i.Text,{children:[Object(l.a)({amountEarned:y,amountInvested:k}).toFixed(O),"%"]})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:y})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:"30d"})}),Object(d.jsx)(b,{children:Object(d.jsxs)(i.Text,{children:[Object(l.a)({amountEarned:w,amountInvested:k}).toFixed(O),"%"]})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:w})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:"365d(APY)"})}),Object(d.jsx)(b,{children:Object(d.jsxs)(i.Text,{children:[Object(l.a)({amountEarned:S,amountInvested:k}).toFixed(O),"%"]})}),Object(d.jsx)(b,{children:Object(d.jsx)(i.Text,{children:S})})]}),Object(d.jsxs)(i.Box,{mb:"28px",maxWidth:"280px",children:[Object(d.jsx)(i.Text,{fontSize:"12px",color:"textSubtle",children:g("Calculated based on current rates. Compounding %freq%x daily. Rates are estimates provided for your convenience only, and by no means represent guaranteed returns.",{freq:p.toLocaleString()})}),f>0&&Object(d.jsx)(i.Text,{mt:"14px",fontSize:"12px",color:"textSubtle",children:g("All estimated rates take into account this pool's %fee%% performance fee",{fee:f})})]}),Object(d.jsx)(i.Flex,{justifyContent:"center",children:Object(d.jsx)(i.LinkExternal,{href:a,children:r})})]})}},1257:function(e,t,n){"use strict";n.r(t);var c,r,a,o,i,s,l,d=n(1),u=n.n(d),b=n(373),j=n(361),x=n(18),O=n(972),m=n(239),p=n(43),h=n(41),f=n.n(h),g=n(78),k=n(17),v=n(1041),y=n.n(v),w=n(1050),S=n.n(w),T=n(971),F=n(970),C=n(10),I=n(964),D=n(170),B=n(981),P=n(952),A=n(1008),E=n(0),M=function(e){var t=e.pool,n=e.stakingTokenPrice,c=e.isAutoVault,r=void 0!==c&&c,a=e.compoundFrequency,o=void 0===a?1:a,i=e.performanceFee,s=void 0===i?0:i,l=Object(p.c)().t,d=t.stakingToken,u=t.earningToken,b=t.totalStaked,O=t.isFinished,m=t.tokenPerBlock,h=l(r?"APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),g=Object(k.useTooltip)(h,{placement:"bottom-end"}),v=g.targetRef,y=g.tooltip,w=g.tooltipVisible,S=Object(j.f)(u.address?u.address:""),T=function(e,t,n,c){var r=new f.a(t).times(c).times(C.j),a=new f.a(e).times(n),o=r.div(a).times(100);return o.isNaN()||!o.isFinite()?null:o.toNumber()}(n,S,Object(D.b)(b,d.decimals),parseFloat(m)),F=Math.round(S/1e3)>0,I=F?4:2,M=d.address&&"$/#/swap?outputCurrency=".concat(d.address),z=Object(k.useModal)(Object(E.jsx)(A.a,{tokenPrice:S,apr:T,linkLabel:"".concat(l("Get")," ").concat(d.symbol),linkHref:M||"/#/swap",earningTokenSymbol:u.symbol,roundingDecimals:F?4:2,compoundFrequency:o,performanceFee:s})),R=Object(x.a)(z,1)[0];return Object(E.jsxs)(k.Flex,{alignItems:"center",justifyContent:"space-between",children:[w&&y,Object(E.jsxs)(k.TooltipText,{ref:v,children:[l(r?"APY":"APR"),":"]}),O||!T?Object(E.jsx)(k.Skeleton,{width:"82px",height:"32px"}):Object(E.jsxs)(k.Flex,{alignItems:"center",children:[Object(E.jsx)(P.a,{fontSize:"16px",isDisabled:O,value:function(){if(r){var e=1e3/S,t=Object(B.b)({numberOfDays:365,farmApr:T,tokenPrice:S,roundingDecimals:I,compoundFrequency:o,performanceFee:s});return Object(B.a)({amountEarned:t,amountInvested:e})}return T}(),decimals:2,unit:"%",bold:!0}),Object(E.jsx)(k.IconButton,{onClick:R,variant:"text",scale:"sm",children:Object(E.jsx)(k.CalculateIcon,{color:"textSubtle",width:"18px"})})]})]})},z=n(5),R=n(4),L=Object(R.keyframes)(c||(c=Object(z.a)(["\n  0% {\n    background-position: 50% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 50% 0%;\n  }\n"]))),H=Object(R.default)(k.Card)(r||(r=Object(z.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n\n  ","\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){var t=e.isPromotedPool,n=e.theme;return t?Object(R.css)(a||(a=Object(z.a)(["\n          background: linear-gradient(180deg, ",", ",");\n          padding: 1px 1px 3px 1px;\n          background-size: 400% 400%;\n          animation: "," 3s ease infinite;\n        "])),n.colors.primaryBright,n.colors.secondary,L):"background: ".concat((function(e){return e.theme.card.background}),";")}),(function(e){return e.theme.mediaQueries.sm})),V=Object(R.default)(k.Box)(o||(o=Object(z.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){return e.theme.card.background}),(function(e){var t=e.isPromotedPool,n=e.theme;return t?"31px":n.radii.card})),N=n(963),q=Object(R.default)(k.Flex)(i||(i=Object(z.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),U=function(e){var t=e.pool,n=e.performanceFee,c=void 0===n?0:n,r=e.isAutoVault,a=void 0!==r&&r,o=e.totalCakeInVault,i=Object(p.c)().t,s=Object(j.b)().currentBlock,l=t.stakingToken,d=t.totalStaked,u=t.startBlock,b=t.endBlock,x=t.isFinished,O=Boolean(!x&&u&&b),m=Math.max(u-s,0),h=Math.max(b-s,0),f=0===m&&h>0,g=Object(k.useTooltip)(i("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-end"}),v=g.targetRef,y=g.tooltip,w=g.tooltipVisible;return Object(E.jsxs)(q,{flexDirection:"column",children:[Object(E.jsxs)(k.Flex,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(E.jsxs)(k.Text,{small:!0,children:[i("Total staked"),":"]}),Object(E.jsx)(k.Flex,{alignItems:"flex-start",children:d?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P.a,{fontSize:"14px",value:a?Object(D.b)(o,l.decimals):Object(D.b)(d,l.decimals)}),Object(E.jsx)(k.Text,{ml:"4px",fontSize:"14px",children:l.symbol})]}):Object(E.jsx)(k.Skeleton,{width:"90px",height:"21px"})})]}),O&&Object(E.jsxs)(k.Flex,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(E.jsxs)(k.Text,{small:!0,children:[i(f?"End":"Start"),":"]}),Object(E.jsxs)(k.Flex,{alignItems:"center",children:[h||m?Object(E.jsx)(P.a,{color:"primary",fontSize:"14px",value:f?h:m,decimals:0}):Object(E.jsx)(k.Skeleton,{width:"54px",height:"21px"}),Object(E.jsx)(k.Text,{ml:"4px",color:"primary",small:!0,children:i("blocks")}),Object(E.jsx)(k.TimerIcon,{ml:"4px",color:"primary"})]})]}),a&&Object(E.jsxs)(k.Flex,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[w&&y,Object(E.jsx)(k.TooltipText,{ref:v,small:!0,children:i("Performance Fee")}),Object(E.jsx)(k.Flex,{alignItems:"center",children:Object(E.jsxs)(k.Text,{ml:"4px",small:!0,children:[c/100,"%"]})})]})]})},Y=u.a.memo(U),G=Object(R.default)(k.Flex)(s||(s=Object(z.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),K=function(e){var t=e.pool,n=e.account,c=e.performanceFee,r=void 0===c?0:c,a=e.isAutoVault,o=void 0!==a&&a,i=e.totalCakeInVault,s=Object(p.c)().t,l=Object(d.useState)(!1),u=Object(x.a)(l,2),b=u[0],j=u[1],O=s("You must harvest and compound your earnings from this pool manually."),m=s("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),h=Object(k.useTooltip)(o?m:O,{placement:"bottom-end"}),f=h.targetRef,g=h.tooltip,v=h.tooltipVisible;return Object(E.jsxs)(k.CardFooter,{children:[Object(E.jsxs)(G,{children:[Object(E.jsxs)(k.Flex,{alignItems:"center",children:[o?Object(E.jsx)(N.b,{}):Object(E.jsx)(N.d,{}),v&&g,Object(E.jsx)(k.Box,{ref:f,children:Object(E.jsx)(k.HelpIcon,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(E.jsx)(k.ExpandableLabel,{expanded:b,onClick:function(){return j(!b)},children:s(b?"Hide":"Details")})]}),b&&Object(E.jsx)(Y,{pool:t,account:n,performanceFee:r,isAutoVault:o,totalCakeInVault:i})]})},W=Object(R.default)(k.CardHeader)(l||(l=Object(z.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.isFinished,n=e.background,c=e.theme;return t?c.colors.backgroundDisabled:c.colors.gradients[n]}),(function(e){var t=e.theme;return e.isPromotedPool?"31px 31px 0 0":"".concat(t.radii.card," ").concat(t.radii.card," 0 0")})),_=function(e){var t=e.earningTokenSymbol,n=e.stakingTokenSymbol,c=e.isFinished,r=void 0!==c&&c,a=e.isAutoVault,o=void 0!==a&&a,i=e.isStaking,s=void 0!==i&&i,l=e.isPromotedPool,d=void 0!==l&&l,u=Object(p.c)().t,b="CAKE"===t&&"CAKE"===n,j=s?"bubblegum":"cardHeader";return Object(E.jsx)(W,{isPromotedPool:d,isFinished:r,background:j,children:Object(E.jsx)(k.Flex,{alignItems:"center",justifyContent:"space-between",children:Object(E.jsxs)(k.Flex,{flexDirection:"column",children:[Object(E.jsx)(k.Heading,{color:r?"textDisabled":"body",scale:"lg",children:"".concat("".concat(u(o?"Auto":b?"Manual":"Earn"))," ").concat(t)}),Object(E.jsx)(k.Text,{color:r?"textDisabled":"textSubtle",children:o?"".concat(u("Automatic restaking")):b?"".concat(u("Earn CAKE, stake CAKE")):"".concat(u("Stake")," ").concat(n)})]})})})},J=n(8),$=n.n(J),Q=n(26),X=n(83),Z=n(941),ee=n(377),te=n(155),ne=n(93),ce=n(49),re=n(62),ae=n(50);var oe,ie=n(237),se=function(e){var t=e.pool,n=e.isLoading,c=void 0!==n&&n,r=e.setNeedsApproval,a=t.syrupId,o=t.stakingToken,i=t.earningToken,s=t.isFinished,l=Object(p.c)().t,u=Object(d.useState)(!1),b=Object(x.a)(u,2),j=b[0],O=b[1],m=function(e,t,n){var c=Object(g.d)().account,r=Object(te.b)(),a=Object(ee.d)(t),o=Object(re.i)(e.address),i=Object(d.useMemo)((function(){return[c,a]}),[c,a]),s=Object(ae.c)(o,"allowance",i).result,l=Object(d.useMemo)((function(){return[s?new f.a(s.toString()):void 0]}),[s]),u=Object(x.a)(l,1)[0],b=Object(d.useMemo)((function(){return e&&a&&u?u.gt(0)?X.a.APPROVED:X.a.NOT_APPROVED:X.a.UNKNOWN}),[e,a,u]),j=Object(d.useCallback)(Object(Q.a)($.a.mark((function e(){var i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===X.a.NOT_APPROVED){e.next=3;break}return console.error("approve was called unnecessarily"),e.abrupt("return");case 3:if(o){e.next=6;break}return console.error("tokenContract is null"),e.abrupt("return");case 6:if(a){e.next=9;break}return console.error("no spender"),e.abrupt("return");case 9:return e.next=11,o.estimateGas.approve(a,Z.a);case 11:i=e.sent,o.approve(a,Z.a,{gasLimit:Object(ce.b)(i)}).then((function(){r(Object(ne.k)(t,c)),n()})).catch((function(e){throw console.error("Failed to approve token",e),e}));case 13:case"end":return e.stop()}}),e)}))),[b,o,a,r,t,c,n]);return[b,j]}(o,a,(function(){S("".concat(l("Contract Enabled")),"".concat(l("You can now stake in the ".concat(i.symbol," pool!")))),O(!1),r(!1)})),h=Object(x.a)(m,2),v=h[0],y=h[1],w=Object(ie.a)(),S=w.toastSuccess,T=w.toastError,F=Object(d.useCallback)(Object(Q.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,y();case 4:v===X.a.UNKNOWN?(T("".concat(l("Error")),"".concat(l("Please try again. Confirm the transaction and make sure you are paying enough gas!"))),O(!1)):v===X.a.APPROVED&&(S("".concat(l("Contract Enabled")),"".concat(l("You can now stake in the ".concat(i.symbol," pool!")))),O(!1),r(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),T("Error",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[v,y,O,T,l,i,r,S]);return Object(E.jsx)(E.Fragment,{children:c?Object(E.jsx)(k.Skeleton,{width:"100%",height:"52px"}):Object(E.jsx)(k.Button,{isLoading:j,endIcon:j?Object(E.jsx)(k.AutoRenewIcon,{spin:!0,color:"currentColor"}):null,disabled:s||j,onClick:F,width:"100%",children:l("Enable")})})},le=n(368),de=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(p.c)().t,r=Object(le.a)().theme;return Object(E.jsxs)(k.Modal,{title:"".concat(t," ").concat(c("required")),onDismiss:n,headerBackground:r.colors.gradients.cardHeader,children:[Object(E.jsx)(k.Text,{color:"failure",bold:!0,children:c("insufficientBalance",{name:t})}),Object(E.jsx)(k.Text,{mt:"24px",children:c("You\u2019ll need %tokensymbol% to stake in this pool!",{tokensymbol:t})}),Object(E.jsx)(k.Text,{children:c("Buy some %tokensymbol%, or make sure your %tokensymbol% isn\u2019t in another pool or LP.",{tokensymbol:t})}),Object(E.jsxs)(k.Button,{mt:"24px",as:"a",external:!0,href:"/#/swap",children:[c("Buy")," ",t]}),Object(E.jsx)(k.Button,{variant:"text",onClick:n,children:c("Close window")})]})};var ue,be,je=Object(R.default)(k.Button)(oe||(oe=Object(z.a)(["\n  flex-grow: 1;\n"]))),xe=function(e){var t=e.children,n=e.onClick;return Object(E.jsx)(je,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},Oe=Object(R.default)(k.Link)(ue||(ue=Object(z.a)(["\n  width: 100%;\n"]))),me=function(e){var t=e.pool,n=e.stakingMax,c=e.stakingTokenPrice,r=e.isRemovingStake,a=void 0!==r&&r,o=e.onDismiss,i=t.syrupId,s=t.stakingToken,l=t.earningToken,u=Object(p.c)().t,b=Object(le.a)().theme,j=function(e,t){var n=Object(g.d)().account,c=Object(te.b)(),r=Object(re.h)(e);return[Object(d.useCallback)(function(){var a=Object(Q.a)($.a.mark((function a(o){var i,s,l=arguments;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=l.length>1&&void 0!==l[1]?l[1]:18,r){a.next=4;break}return console.error("syrup pool contract is null"),a.abrupt("return");case 4:return a.next=6,r.estimateGas.deposit(new f.a(o).times(C.f.pow(i)).toString());case 6:s=a.sent,r.deposit(new f.a(o).times(C.f.pow(i)).toString(),{gasLimit:Object(ce.b)(s)}).then((function(){c(Object(ne.n)(e,n)),c(Object(ne.l)(e,n)),t()})).catch((function(e){throw console.error("Failed to stake token",e),e}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[r,c,e,n,t])]}(i,(function(){y("".concat(u("Staked"),"!"),u("Your ".concat(s.symbol," funds have been staked in the pool!"))),I(!1),o()})),O=Object(x.a)(j,1)[0],m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,c=Object(g.d)().account,r=Object(te.b)(),a=Object(re.h)(e);return[Object(d.useCallback)(function(){var o=Object(Q.a)($.a.mark((function o(i){var s,l,d,u=arguments;return $.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(s=u.length>1&&void 0!==u[1]?u[1]:18,a){o.next=4;break}return console.error("syrup pool contract is null"),o.abrupt("return");case 4:if(!t){o.next=11;break}return o.next=7,a.estimateGas.emergencyWithdraw();case 7:l=o.sent,a.emergencyWithdraw({gasLimit:Object(ce.b)(l)}).then((function(){n(),r(Object(ne.n)(e,c)),r(Object(ne.l)(e,c)),r(Object(ne.m)(e,c))})).catch((function(e){throw console.error("Failed to approve token",e),e})),o.next=15;break;case 11:return o.next=13,a.estimateGas.withdraw(new f.a(i).times(C.f.pow(s)).toString());case 13:d=o.sent,a.withdraw(new f.a(i).times(C.f.pow(s)).toString(),{gasLimit:Object(ce.b)(d)}).then((function(){r(Object(ne.n)(e,c)),r(Object(ne.l)(e,c)),r(Object(ne.m)(e,c)),n()})).catch((function(e){throw console.error("Failed to unstake token",e),e}));case 15:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}(),[a,r,e,c,n,t])]}(i,t.enableEmergencyWithdraw,(function(){y("".concat(u("Unstaked"),"!"),u("Your ".concat(l.symbol," earnings have also been harvested to your wallet!"))),I(!1),o()})),h=Object(x.a)(m,1)[0],v=Object(ie.a)(),y=v.toastSuccess,w=v.toastError,S=Object(d.useState)(!1),T=Object(x.a)(S,2),F=T[0],I=T[1],B=Object(d.useState)(""),P=Object(x.a)(B,2),A=P[0],M=P[1],z=Object(d.useState)(0),R=Object(x.a)(z,2),L=R[0],H=R[1],V=A&&Object(D.a)(new f.a(A).times(c).toNumber()),N=function(e){if(e>0){var t=n.dividedBy(100).multipliedBy(e),c=Object(D.d)(t,s.decimals,s.decimals);M(c)}else M("");H(e)},q=function(){var e=Object(Q.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),!a){e.next=13;break}return e.prev=2,e.next=5,h(A,s.decimals);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),w(u("Canceled"),u("Please try again and confirm the transaction.")),I(!1);case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,O(A,s.decimals);case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(13),w(u("Canceled"),u("Please try again and confirm the transaction.")),I(!1);case 22:case"end":return e.stop()}}),e,null,[[2,7],[13,18]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(k.Modal,{title:u(a?"Unstake":"Stake in Syrup Pool"),onDismiss:o,headerBackground:b.colors.gradients.cardHeader,children:[Object(E.jsxs)(k.Flex,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(E.jsxs)(k.Text,{bold:!0,children:[u(a?"Unstake":"Stake"),":"]}),Object(E.jsxs)(k.Flex,{alignItems:"center",minWidth:"70px",children:[Object(E.jsx)(k.Image,{src:"/images/coins/".concat(s.address,".png"),width:24,height:24,alt:s.symbol}),Object(E.jsx)(k.Text,{ml:"4px",bold:!0,children:s.symbol})]})]}),Object(E.jsx)(k.BalanceInput,{value:A,onUserInput:function(e){if(e){var t=Object(D.c)(new f.a(e),s.decimals),c=Math.floor(t.dividedBy(n).multipliedBy(100).toNumber());H(Math.min(c,100))}else H(0);M(e)},currencyValue:"~".concat(V||0," USD")}),Object(E.jsxs)(k.Text,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:[u("Balance"),": ",Object(D.d)(n,s.decimals)]}),Object(E.jsx)(k.Slider,{min:0,max:100,value:L,onValueChanged:N,name:"stake",valueLabel:"".concat(L,"%"),step:1}),Object(E.jsxs)(k.Flex,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(E.jsx)(xe,{onClick:function(){return N(25)},children:"25%"}),Object(E.jsx)(xe,{onClick:function(){return N(50)},children:"50%"}),Object(E.jsx)(xe,{onClick:function(){return N(75)},children:"75%"}),Object(E.jsx)(xe,{onClick:function(){return N(100)},children:"MAX"})]}),Object(E.jsx)(k.Button,{isLoading:F,endIcon:F?Object(E.jsx)(k.AutoRenewIcon,{spin:!0,color:"currentColor"}):null,onClick:q,disabled:!A||0===parseFloat(A),mt:"24px",children:u(F?"Confirming":"Confirm")}),!a&&Object(E.jsx)(Oe,{external:!0,href:"/#/swap",children:Object(E.jsx)(k.Button,{width:"100%",mt:"8px",variant:"secondary",children:u("getLP",{name:s.symbol})})})]})},pe=Object(R.default)(P.a)(be||(be=Object(z.a)(["\n  display: inline;\n"]))),he=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakingTokenPrice,r=e.stakedBalance,a=e.isStaked,o=e.isLoading,i=void 0!==o&&o,s=t.stakingToken,l=t.earningToken,d=t.stakingLimit,u=t.isFinished,b=Object(p.c)().t,j=Object(D.c)(new f.a(d),l.decimals),O=d&&n.isGreaterThan(j)?j:n,m=Object(D.b)(r,s.decimals),h=Object(D.b)(r.multipliedBy(c),s.decimals),g=Object(k.useModal)(Object(E.jsx)(de,{tokenSymbol:s.symbol})),v=Object(x.a)(g,1)[0],y=Object(k.useModal)(Object(E.jsx)(me,{stakingMax:O,pool:t,stakingTokenPrice:c})),w=Object(x.a)(y,1)[0],S=Object(k.useModal)(Object(E.jsx)(me,{stakingMax:r,pool:t,stakingTokenPrice:c,isRemovingStake:!0})),T=Object(x.a)(S,1)[0];return Object(E.jsx)(k.Flex,{flexDirection:"column",children:i?Object(E.jsx)(k.Skeleton,{width:"100%",height:"52px"}):a?Object(E.jsxs)(k.Flex,{justifyContent:"space-between",alignItems:"center",children:[Object(E.jsx)(k.Flex,{flexDirection:"column",children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P.a,{bold:!0,fontSize:"20px",decimals:3,value:m}),Object(E.jsxs)(k.Text,{fontSize:"12px",color:"textSubtle",children:["~",Object(E.jsx)(pe,{fontSize:"12px",color:"textSubtle",decimals:2,value:h,unit:" USD"})]})]})}),Object(E.jsxs)(k.Flex,{children:[Object(E.jsx)(k.IconButton,{variant:"secondary",onClick:T,mr:"6px",children:Object(E.jsx)(k.MinusIcon,{color:"primary",width:"24px"})}),Object(E.jsx)(k.IconButton,{variant:"secondary",onClick:n.gt(0)?w:v,disabled:u,children:Object(E.jsx)(k.AddIcon,{color:"primary",width:"24px",height:"24px"})})]})]}):Object(E.jsx)(k.Button,{disabled:u,onClick:n.gt(0)?w:v,children:b("Stake")})})};var fe,ge,ke=function(e){var t=e.formattedBalance,n=e.earningToken,c=e.earningsDollarValue,r=e.syrupId,a=e.onDismiss,o=Object(p.c)().t,i=Object(le.a)().theme,s=Object(ie.a)(),l=s.toastSuccess,u=s.toastError,b=function(e,t){var n=Object(g.d)().account,c=Object(te.b)(),r=Object(re.h)(e);return[Object(d.useCallback)(Object(Q.a)($.a.mark((function a(){var o;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r){a.next=3;break}return console.error("syrup pool contract is null"),a.abrupt("return");case 3:return a.next=5,r.estimateGas.getReward();case 5:o=a.sent,r.getReward({gasLimit:Object(ce.b)(o)}).then((function(){c(Object(ne.m)(e,n)),c(Object(ne.l)(e,n)),t()})).catch((function(e){throw console.error("Failed to harvest token",e),e}));case 7:case"end":return a.stop()}}),a)}))),[r,c,e,n,t])]}(r,(function(){l("".concat(o("Harvested"),"!"),o("Your ".concat(n.symbol," earnings have been sent to your wallet!"))),f(!1),a()})),j=Object(x.a)(b,1)[0],O=Object(d.useState)(!1),m=Object(x.a)(O,2),h=m[0],f=m[1],v=function(){var e=Object(Q.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,j();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),u(o("Canceled"),o("Please try again and confirm the transaction.")),f(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(k.Modal,{title:"".concat(n.symbol," ").concat(o("Harvest")),onDismiss:a,headerBackground:i.colors.gradients.cardHeader,children:[Object(E.jsxs)(k.Flex,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(E.jsxs)(k.Text,{children:[o("Harvesting"),":"]}),Object(E.jsxs)(k.Flex,{flexDirection:"column",children:[Object(E.jsxs)(k.Heading,{children:[t," ",n.symbol]}),Object(E.jsx)(k.Text,{fontSize:"12px",color:"textSubtle",children:"~".concat(c||0," USD")})]})]}),Object(E.jsx)(k.Button,{mt:"8px",onClick:v,isLoading:h,endIcon:h?Object(E.jsx)(k.AutoRenewIcon,{spin:!0,color:"currentColor"}):null,children:o(h?"Confirming":"Confirm")}),Object(E.jsx)(k.Button,{variant:"text",onClick:a,pb:"0px",children:o("Close window")})]})},ve=Object(R.default)(P.a)(fe||(fe=Object(z.a)(["\n  display: inline;\n"]))),ye=function(e){var t=e.earnings,n=e.earningToken,c=e.syrupId,r=e.isLoading,a=void 0!==r&&r,o=Object(p.c)().t,i=Object(j.f)(n.address?n.address:""),s=Object(D.b)(t,n.decimals),l=Object(D.b)(t.multipliedBy(i),n.decimals),d=Object(D.d)(t,n.decimals),u=Object(D.a)(s,3,3),b=Object(D.a)(l),O=t.toNumber()>0,m=Object(k.useModal)(Object(E.jsx)(ke,{formattedBalance:u,fullBalance:d,earningToken:n,earningsDollarValue:b,syrupId:c})),h=Object(x.a)(m,1)[0];return Object(E.jsx)(k.Flex,{flexDirection:"column",mb:"16px",children:Object(E.jsxs)(k.Flex,{justifyContent:"space-between",alignItems:"center",children:[Object(E.jsx)(k.Flex,{flexDirection:"column",children:a?Object(E.jsx)(k.Skeleton,{width:"80px",height:"48px"}):Object(E.jsxs)(E.Fragment,{children:[O?Object(E.jsx)(P.a,{bold:!0,fontSize:"20px",decimals:5,value:s}):Object(E.jsx)(k.Heading,{color:"textDisabled",children:"0"}),Object(E.jsxs)(k.Text,{fontSize:"12px",color:O?"textSubtle":"textDisabled",children:["~",O?Object(E.jsx)(ve,{fontSize:"12px",color:"textSubtle",decimals:2,value:l,unit:" USD"}):"0 USD"]})]})}),Object(E.jsx)(k.Flex,{children:Object(E.jsx)(k.Button,{disabled:!O,onClick:h,children:o("Harvest")})})]})})},we=Object(R.default)(k.Text)(ge||(ge=Object(z.a)(["\n  display: inline;\n"]))),Se=function(e){var t=e.pool,n=e.stakedBalance,c=e.stakingTokenPrice,r=t.syrupId,a=t.stakingToken,o=t.earningToken,i=t.harvest,s=t.userData,l=Object(p.c)().t,u=(null===s||void 0===s?void 0:s.stakingTokenBalance)?new f.a(s.stakingTokenBalance):C.g,b=(null===s||void 0===s?void 0:s.allowance)?new f.a(s.allowance):C.g,j=(null===s||void 0===s?void 0:s.pendingReward)?new f.a(s.pendingReward):C.g,O=!b.gt(0),m=Object(d.useState)(O),h=Object(x.a)(m,2),g=h[0],v=h[1];g!==O&&v(O);var y=n.gt(0),w=!s;return Object(E.jsx)(k.Flex,{flexDirection:"column",children:Object(E.jsxs)(k.Flex,{flexDirection:"column",children:[i&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(k.Box,{display:"inline",children:[Object(E.jsx)(we,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(o.symbol," ")}),Object(E.jsx)(we,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("Earned")})]}),Object(E.jsx)(ye,{earnings:j,earningToken:o,syrupId:r,isLoading:w})]}),Object(E.jsxs)(k.Box,{display:"inline",children:[Object(E.jsxs)(we,{color:y?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[y?a.symbol:l("Stake")," "]}),Object(E.jsx)(we,{color:y?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:y?l("Staked"):"".concat(a.symbol)})]}),g?Object(E.jsx)(se,{pool:t,isLoading:w,setNeedsApproval:v}):Object(E.jsx)(he,{isLoading:w,pool:t,stakingTokenBalance:u,stakingTokenPrice:c,stakedBalance:n,isStaked:y})]})})},Te=function(e){var t=e.pool,n=e.account,c=t.syrupId,r=t.stakingToken,a=t.earningToken,o=t.isFinished,i=t.userData,s=Object(p.c)().t,l=(null===i||void 0===i?void 0:i.stakedBalance)?new f.a(i.stakedBalance):C.g,d=l.gt(0),u=Object(j.f)(r.address?r.address:"");return Object(E.jsx)(H,{isFinished:o&&0!==c,ribbon:o&&Object(E.jsx)(k.CardRibbon,{variantColor:"textDisabled",text:"".concat(s("Finished"))}),children:Object(E.jsxs)(V,{children:[Object(E.jsx)(_,{isStaking:d,earningTokenSymbol:a.symbol,stakingTokenSymbol:r.symbol,isFinished:o&&0!==c}),Object(E.jsxs)(k.CardBody,{children:[Object(E.jsx)(M,{pool:t,stakingTokenPrice:u}),Object(E.jsx)(k.Flex,{mt:"24px",flexDirection:"column",children:n?Object(E.jsx)(Se,{pool:t,stakedBalance:l,stakingTokenPrice:u}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(k.Text,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:s("Start Earning")}),Object(E.jsx)(I.a,{})]})})]}),Object(E.jsx)(K,{pool:t,account:n})]})})},Fe=function(e){var t=e.showHistory,n=e.setShowHistory,c=e.stakedOnly,r=e.setStakedOnly,a=e.hasStakeInFinishedPools,o=Object(p.c)().t;return Object(E.jsx)(k.Flex,{alignItems:"center",justifyContent:"center",mb:"32px",children:Object(E.jsxs)(k.Flex,{alignItems:"center",flexDirection:["column",null,"row",null],children:[Object(E.jsxs)(k.ButtonMenu,{activeIndex:t?1:0,onItemClick:function(e){return n(1===e)},scale:"sm",variant:"subtle",children:[Object(E.jsx)(k.ButtonMenuItem,{children:o("Live")}),Object(E.jsx)(k.NotificationDot,{show:a,children:Object(E.jsx)(k.ButtonMenuItem,{children:o("Finished")})})]}),Object(E.jsxs)(k.Flex,{mt:["4px",null,0,null],ml:[0,null,"24px",null],justifyContent:"center",alignItems:"center",children:[Object(E.jsx)(k.Toggle,{scale:"sm",checked:c,onChange:function(){return r((function(e){return!e}))}}),Object(E.jsx)(k.Text,{ml:"8px",children:o("Staked only")})]})]})})},Ce=function(){var e=Object(p.c)().t,t=Object(g.d)().account,n=Object(j.i)(t),c=Object(j.b)().currentBlock,r=Object(T.a)(!1,"grampus_syrup_pool_staked"),a=Object(x.a)(r,2),o=a[0],i=a[1],s=Object(T.a)(!0,"grampus_syrup_pool_history"),l=Object(x.a)(s,2),u=l[0],b=l[1],h=Object(d.useMemo)((function(){return S()(n,(function(e){return e.isFinished||c>e.endBlock&&e.endBlock>0}))}),[c,n]),v=Object(x.a)(h,2),w=v[0],C=v[1],I=Object(d.useMemo)((function(){return w.filter((function(e){return e.userData&&new f.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[w]),D=Object(d.useMemo)((function(){return C.filter((function(e){return e.userData&&new f.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[C]),B=I.length>0;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(O.a,{children:Object(E.jsx)(k.Flex,{justifyContent:"space-between",flexDirection:["column",null,"row"],children:Object(E.jsxs)(k.Flex,{flexDirection:"column",mr:["8px",0],children:[Object(E.jsx)(k.Heading,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:e("Stake Pools")}),Object(E.jsx)(k.Heading,{scale:"md",color:"text",children:e("Stake some tokens to earn new tokens")})]})})}),Object(E.jsxs)(m.a,{children:[Object(E.jsx)(Fe,{showHistory:u,setShowHistory:b,stakedOnly:o,setStakedOnly:i,hasStakeInFinishedPools:B}),u?Object(E.jsx)(F.a,{children:Object(E.jsx)(E.Fragment,{children:o?y()(I,["sortOrder"]).map((function(e){return Object(E.jsx)(Te,{pool:e,account:t},e.syrupId)})):y()(w,["sortOrder"]).map((function(e){return Object(E.jsx)(Te,{pool:e,account:t},e.syrupId)}))})}):Object(E.jsx)(F.a,{children:Object(E.jsx)(E.Fragment,{children:o?y()(D,["sortOrder"]).map((function(e){return Object(E.jsx)(Te,{pool:e,account:t},e.syrupId)})):y()(C,["sortOrder"]).map((function(e){return Object(E.jsx)(Te,{pool:e,account:t},e.syrupId)}))})})]})]})},Ie=function(){return Object(j.e)(),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Ce,{})})};t.default=function(){return Object(E.jsx)(b.b,{children:Object(E.jsx)(Ie,{})})}},952:function(e,t,n){"use strict";var c=n(2),r=n(33),a=n(1),o=n(960),i=n.n(o),s=n(17),l=n(0),d=function(e){var t=e.value,n=e.fontSize,o=e.color,d=e.decimals,u=e.isDisabled,b=e.unit,j=e.bold,x=Object(r.a)(e,["value","fontSize","color","decimals","isDisabled","unit","bold"]),O=Object(a.useRef)(0);return Object(a.useEffect)((function(){O.current=t}),[t]),Object(l.jsxs)(s.Text,Object(c.a)(Object(c.a)({bold:j,color:u?"textDisabled":o,fontSize:n},x),{},{children:[Object(l.jsx)(i.a,{start:O.current,end:t,decimals:d,duration:1,separator:","}),t&&b&&Object(l.jsx)("span",{children:b})]}))};d.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3},t.a=d},963:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l}));var c=n(2),r=(n(1),n(17)),a=n(0),o=function(e){return Object(a.jsx)(r.Tag,Object(c.a)(Object(c.a)({variant:"secondary",outline:!0,startIcon:Object(a.jsx)(r.VerifiedIcon,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Core"}))},i=function(e){return Object(a.jsx)(r.Tag,Object(c.a)(Object(c.a)({variant:"textSubtle",outline:!0,startIcon:Object(a.jsx)(r.CommunityIcon,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Community"}))},s=function(e){return Object(a.jsx)(r.Tag,Object(c.a)(Object(c.a)({variant:"secondary",outline:!0,startIcon:Object(a.jsx)(r.RefreshIcon,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Manual"}))},l=function(e){return Object(a.jsx)(r.Tag,Object(c.a)(Object(c.a)({variant:"success",outline:!0,startIcon:Object(a.jsx)(r.AutoRenewIcon,{width:"18px",color:"success",mr:"4px"})},e),{},{children:"Auto"}))}},964:function(e,t,n){"use strict";var c=n(2),r=(n(1),n(17)),a=n(10),o=n(29),i=n(243),s=n(43),l=n(0);t.a=function(e){var t=Object(s.c)().t,n=Object(i.a)(),d=n.login,u=n.logout,b=Object(o.a)().chainId,j=null!==b&&void 0!==b?b:Object(a.K)(),x=Object(r.useWalletModal)(d,u,t,j).onPresentConnectModal;return Object(l.jsx)(r.Button,Object(c.a)(Object(c.a)({onClick:x},e),{},{children:t("Unlock Wallet")}))}},970:function(e,t,n){"use strict";var c,r=n(5),a=n(4).default.div(c||(c=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  & > * {\n    min-width: 280px;\n    max-width: 31.5%;\n    width: 100%;\n    margin: 0 8px;\n    margin-bottom: 32px;\n  }\n"])));t.a=a},971:function(e,t,n){"use strict";var c=n(18),r=n(1);t.a=function(e,t){var n=Object(r.useState)((function(){try{var n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(c){return e}})),a=Object(c.a)(n,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o,t]),[o,i]}},972:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var c,r,a=n(2),o=n(33),i=n(5),s=(n(1),n(4)),l=n(17),d=n(374),u=n(0),b=Object(s.default)(l.Box)(c||(c=Object(i.a)(["\n  background: ",";\n"])),(function(e){var t=e.theme;return e.background||t.colors.gradients.bubblegum})),j=Object(s.default)(d.a)(r||(r=Object(i.a)(["\n  padding-top: 32px;\n  padding-bottom: 32px;\n"]))),x=function(e){var t=e.background,n=e.children,c=Object(o.a)(e,["background","children"]);return Object(u.jsx)(b,Object(a.a)(Object(a.a)({background:t},c),{},{children:Object(u.jsx)(j,{children:n})}))}},981:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var c=function(e){var t=e.numberOfDays,n=e.farmApr,c=e.tokenPrice,r=e.roundingDecimals,a=void 0===r?2:r,o=e.compoundFrequency,i=void 0===o?1:o,s=e.performanceFee,l=void 0===s?0:s,d=365*i,u=n/100;l&&(u=(n-n/100*l)/100);var b=t/365,j=1e3/c,x=j*Math.pow(1+u/d,d*b);return parseFloat((x-j).toFixed(a))},r=function(e){return e.amountEarned/e.amountInvested*100}}}]);
//# sourceMappingURL=6.a577ff24.chunk.js.map