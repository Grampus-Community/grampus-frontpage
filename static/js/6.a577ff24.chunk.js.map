{"version":3,"sources":["components/ApyCalculatorModal/index.tsx","views/SyrupPools/AprRow.tsx","utils/apr.ts","views/SyrupPools/StyledCard.tsx","views/SyrupPools/CardFooter/ExpandedFooter.tsx","views/SyrupPools/CardFooter/index.tsx","views/SyrupPools/StyledCardHeader.tsx","views/SyrupPools/CardActions/ApprovalAction.tsx","hooks/useSyrupApprove.ts","views/SyrupPools/Modals/NotEnoughTokensModal.tsx","views/SyrupPools/Modals/PercentageButton.tsx","views/SyrupPools/Modals/StakeModal.tsx","hooks/useSyrupStake.ts","hooks/useSyrupUnstake.ts","views/SyrupPools/CardActions/StakeActions.tsx","views/SyrupPools/Modals/CollectModal.tsx","hooks/useSyrupHarvest.ts","views/SyrupPools/CardActions/HarvestActions.tsx","views/SyrupPools/CardActions/index.tsx","views/SyrupPools/Syruppoolcard.tsx","views/SyrupPools/SyruppoolTab.tsx","views/SyrupPools/Syruppools.tsx","views/SyrupPools/Syruppoolsagent.tsx","views/SyrupPools/Syruppoolswrapper.tsx","components/Balance.tsx","components/Tags.tsx","components/UnlockButton.tsx","components/layout/Flex.tsx","hooks/usePersistState.ts","components/FarmsPageHeader/FarmsPageHeader.tsx","utils/compoundApyHelpers.ts"],"names":["Grid","styled","div","GridItem","ApyCalculatorModal","onDismiss","tokenPrice","apr","linkLabel","linkHref","earningTokenSymbol","roundingDecimals","compoundFrequency","performanceFee","t","useTranslation","oneThousandDollarsWorthOfToken","tokenEarnedPerThousand1D","tokenEarnedPerThousandDollarsCompounding","numberOfDays","farmApr","tokenEarnedPerThousand7D","tokenEarnedPerThousand30D","tokenEarnedPerThousand365D","title","fontSize","bold","color","textTransform","mb","getRoi","amountEarned","amountInvested","toFixed","maxWidth","freq","toLocaleString","mt","fee","justifyContent","href","AprRow","pool","stakingTokenPrice","isAutoVault","stakingToken","earningToken","totalStaked","isFinished","tokenPerBlock","tooltipContent","useTooltip","placement","targetRef","tooltip","tooltipVisible","earningTokenPrice","useGetApiPrice","address","rewardTokenPrice","totalRewardPricePerYear","BigNumber","times","BLOCKS_PER_YEAR","totalStakingTokenInPool","isNaN","isFinite","toNumber","getPoolApr","getBalanceNumber","decimals","parseFloat","isHighValueToken","Math","round","apyModalLink","useModal","symbol","onPresentApyModal","alignItems","ref","width","height","Balance","isDisabled","value","earningsPercentageToDisplay","unit","onClick","variant","scale","PromotedGradient","keyframes","StyledCard","Card","theme","colors","isPromotedPool","css","primaryBright","secondary","props","card","background","mediaQueries","sm","StyledCardInner","Box","radii","ExpandedWrapper","Flex","ExpandedFooter","totalCakeInVault","currentBlock","useBlock","startBlock","endBlock","shouldShowBlockCountdown","Boolean","blocksUntilStart","max","blocksRemaining","hasPoolStarted","flexDirection","small","ml","React","memo","ExpandableButtonWrapper","Footer","account","useState","isExpanded","setIsExpanded","manualTooltipText","autoTooltipText","expanded","Wrapper","CardHeader","backgroundDisabled","gradients","StyledCardHeader","stakingTokenSymbol","isStaking","isCakePool","ApprovalAction","isLoading","setNeedsApproval","syrupId","requestedApproval","setRequestedApproval","token","callback","useWeb3React","dispatch","useAppDispatch","syrupPoolContract","getSyrupPoolContractAddress","tokenContract","useTokenContract","inputs","useMemo","allowance","useSingleCallResult","result","toString","undefined","currentallowance","approvalState","gt","ApprovalState","APPROVED","NOT_APPROVED","UNKNOWN","approve","useCallback","a","console","error","estimateGas","MaxUint256","estimatedGas","gasLimit","calculateGasMargin","then","updateUserAllowance","catch","useSyrupApprove","toastSuccess","approveCallback","useToast","toastError","handleApprove","message","endIcon","spin","disabled","NotEnoughTokensModal","tokenSymbol","useTheme","headerBackground","cardHeader","name","tokensymbol","as","external","StyledButton","Button","PercentageButton","children","mx","p","StyledLink","Link","StakeModal","stakingMax","isRemovingStake","useSyrupPoolContract","amount","deposit","BIG_TEN","pow","updateUserStakedBalance","updateUserBalance","useSyrupStake","setPendingTx","onStake","enableEmergencyWithdraw","emergencyWithdraw","estimatedGas_em","updateUserPendingReward","withdraw","useSyrupUnstake","onUnstake","pendingTx","stakeAmount","setStakeAmount","percent","setPercent","usdValueStaked","formatNumber","handleChangePercent","sliderPercent","percentageOfStakingMax","dividedBy","multipliedBy","amountToStake","getFullDisplayBalance","handleConfirmClick","minWidth","src","alt","onUserInput","input","convertedInput","getDecimalAmount","percentage","floor","min","currencyValue","onValueChanged","valueLabel","step","InlineBalance","StakeAction","stakingTokenBalance","stakedBalance","isStaked","stakingLimit","convertedLimit","isGreaterThan","stakedTokenBalance","stakedTokenDollarBalance","onPresentTokenRequired","onPresentStake","onPresentUnstake","mr","CollectModal","formattedBalance","earningsDollarValue","getReward","useSyrupHarvest","onReward","handleHarvestConfirm","pb","HarvestActions","earnings","earningTokenBalance","earningTokenDollarBalance","fullBalance","hasEarnings","onPresentCollect","InlineText","Text","CardActions","harvest","userData","BIG_ZERO","pendingReward","notEnoughAllowance","needsApproval","display","StakeActions","Syruppoolcard","accountHasStakedBalance","ribbon","variantColor","text","UnlockButton","CardFooter","SyruppoolTab","showHistory","setShowHistory","stakedOnly","setStakedOnly","hasStakeInFinishedPools","activeIndex","onItemClick","index","show","checked","onChange","prev","Syruppools","pools","useSyrupPools","usePersistState","partition","finishedPools","openPools","stakedOnlyFinishedPools","filter","stakedOnlyOpenPools","length","FarmsPageHeader","Page","orderBy","map","Syruppoolsagent","useFetchPublicData","Syruppoolwrapper","RefreshContext","previousValue","useRef","useEffect","current","start","end","duration","separator","defaultProps","CoreTag","outline","startIcon","CommunityTag","ManualPoolTag","CompoundingPoolTag","useAuth","login","logout","chainId","useActiveWeb3React","activeChainId","getENVChainId","onPresentConnectModal","useWalletModal","FlexLayout","initialValue","localStorageKey","valueFromLS","localStorage","getItem","JSON","parse","setValue","setItem","stringify","Outer","bubblegum","Inner","Container","timesCompounded","aprAsDecimal","daysAsDecimalOfYear","principal","finalAmount"],"mappings":"oLAkBMA,EAAOC,UAAOC,IAAV,wJAOJC,EAAWF,UAAOC,IAAV,sDAwJCE,IApJ+C,SAAC,GAUxD,IATLC,EASI,EATJA,UACAC,EAQI,EARJA,WACAC,EAOI,EAPJA,IACAC,EAMI,EANJA,UACAC,EAKI,EALJA,SAKI,IAJJC,0BAII,MAJiB,OAIjB,MAHJC,wBAGI,MAHe,EAGf,MAFJC,yBAEI,MAFgB,EAEhB,MADJC,sBACI,MADa,EACb,EACIC,EAAMC,cAAND,EACFE,EAAiC,IAAOV,EAExCW,EAA2BC,YAAyC,CACxEC,aAAc,EACdC,QAASb,EACTD,aACAK,mBACAC,oBACAC,mBAEIQ,EAA2BH,YAAyC,CACxEC,aAAc,EACdC,QAASb,EACTD,aACAK,mBACAC,oBACAC,mBAEIS,EAA4BJ,YAAyC,CACzEC,aAAc,GACdC,QAASb,EACTD,aACAK,mBACAC,oBACAC,mBAEIU,EAA6BL,YAAyC,CAC1EC,aAAc,IACdC,QAASb,EACTD,aACAK,mBACAC,oBACAC,mBAGF,OACE,eAAC,QAAD,CAAOW,MAAM,MAAMnB,UAAWA,EAA9B,UACE,eAACL,EAAD,WACE,cAACG,EAAD,UACE,cAAC,OAAD,CAAMsB,SAAS,OAAOC,MAAI,EAACC,MAAM,aAAaC,cAAc,YAAYC,GAAG,OAA3E,SACGf,EAAE,iBAGP,cAACX,EAAD,UACE,cAAC,OAAD,CAAMsB,SAAS,OAAOC,MAAI,EAACC,MAAM,aAAaC,cAAc,YAAYC,GAAG,OAA3E,SACGf,EAAE,WAGP,cAACX,EAAD,UACE,eAAC,OAAD,CAAMsB,SAAS,OAAOC,MAAI,EAACC,MAAM,aAAaC,cAAc,YAAYC,GAAG,OAA3E,UACGnB,EADH,IACwBI,EAAE,OAD1B,cAKF,cAACX,EAAD,UACE,cAAC,OAAD,mBAEF,cAACA,EAAD,UACE,eAAC,OAAD,WACG2B,YAAO,CAAEC,aAAcd,EAA0Be,eAAgBhB,IAAkCiB,QAClGtB,GAFJ,SAOF,cAACR,EAAD,UACE,cAAC,OAAD,UAAOc,MAGT,cAACd,EAAD,UACE,cAAC,OAAD,mBAEF,cAACA,EAAD,UACE,eAAC,OAAD,WACG2B,YAAO,CAAEC,aAAcV,EAA0BW,eAAgBhB,IAAkCiB,QAClGtB,GAFJ,SAOF,cAACR,EAAD,UACE,cAAC,OAAD,UAAOkB,MAGT,cAAClB,EAAD,UACE,cAAC,OAAD,oBAEF,cAACA,EAAD,UACE,eAAC,OAAD,WACG2B,YAAO,CACNC,aAAcT,EACdU,eAAgBhB,IACfiB,QAAQtB,GAJb,SAQF,cAACR,EAAD,UACE,cAAC,OAAD,UAAOmB,MAGT,cAACnB,EAAD,UACE,cAAC,OAAD,0BAEF,cAACA,EAAD,UACE,eAAC,OAAD,WACG2B,YAAO,CACNC,aAAcR,EACdS,eAAgBhB,IACfiB,QAAQtB,GAJb,SAQF,cAACR,EAAD,UACE,cAAC,OAAD,UAAOoB,SAGX,eAAC,MAAD,CAAKM,GAAG,OAAOK,SAAS,QAAxB,UACE,cAAC,OAAD,CAAMT,SAAS,OAAOE,MAAM,aAA5B,SACGb,EAAE,sKAED,CAAEqB,KAAMvB,EAAkBwB,qBAG7BvB,EAAiB,GAChB,cAAC,OAAD,CAAMwB,GAAG,OAAOZ,SAAS,OAAOE,MAAM,aAAtC,SACGb,EAAE,2EAA4E,CAAEwB,IAAKzB,SAI5F,cAAC,OAAD,CAAM0B,eAAe,SAArB,SACE,cAAC,eAAD,CAAcC,KAAM/B,EAApB,SAA+BD,W,qRC9DxBiC,EA1FuB,SAAC,GAMhC,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,kBAII,IAHJC,mBAGI,aAFJhC,yBAEI,MAFgB,EAEhB,MADJC,sBACI,MADa,EACb,EACIC,EAAMC,cAAND,EAEA+B,EAAuEH,EAAvEG,aAAcC,EAAyDJ,EAAzDI,aAAcC,EAA2CL,EAA3CK,YAAaC,EAA8BN,EAA9BM,WAAYC,EAAkBP,EAAlBO,cAEvDC,EACFpC,EADmB8B,EACjB,iHACA,iFAPF,EAS2CO,qBAAWD,EAAgB,CAAEE,UAAW,eAA/EC,EATJ,EASIA,UAAWC,EATf,EASeA,QAASC,EATxB,EASwBA,eAEtBC,EAAoBC,YAAeX,EAAaY,QAAUZ,EAAaY,QAAU,IAEjFnD,EC3BkB,SACxBoC,EACAgB,EACAZ,EACAE,GAEA,IAAMW,EAA0B,IAAIC,IAAUF,GAAkBG,MAAMb,GAAea,MAAMC,KACrFC,EAA0B,IAAIH,IAAUlB,GAAmBmB,MAAMf,GACjExC,EAAMqD,EAAwB1D,IAAI8D,GAAyBF,MAAM,KACvE,OAAOvD,EAAI0D,UAAY1D,EAAI2D,WAAa,KAAO3D,EAAI4D,WDkBvCC,CACVzB,EACAa,EACAa,YAAiBtB,EAAaF,EAAayB,UAC3CC,WAAWtB,IAIPuB,EAAmBC,KAAKC,MAAMlB,EAAoB,KAAQ,EAC1D7C,EAAmB6D,EAAmB,EAAI,EAqB1CG,EACJ9B,EAAaa,SAAb,kCAAmDb,EAAaa,SA5C9D,EA8CwBkB,mBAC1B,cAACxE,EAAA,EAAD,CACEE,WAAYkD,EACZjD,IAAKA,EACLC,UAAS,UAAKM,EAAE,OAAP,YAAiB+B,EAAagC,QACvCpE,SAAUkE,GAAgB,UAC1BjE,mBAAoBoC,EAAa+B,OACjClE,iBAAkB6D,EAAmB,EAAI,EACzC5D,kBAAmBA,EACnBC,eAAgBA,KATbiE,EA9CH,oBA2DJ,OACE,eAAC,OAAD,CAAMC,WAAW,SAASxC,eAAe,gBAAzC,UACGgB,GAAkBD,EACnB,eAAC,cAAD,CAAa0B,IAAK3B,EAAlB,UAA4CvC,EAAd8B,EAAgB,MAAW,OAAzD,OACCI,IAAezC,EACd,cAAC,WAAD,CAAU0E,MAAM,OAAOC,OAAO,SAE9B,eAAC,OAAD,CAAMH,WAAW,SAAjB,UACE,cAACI,EAAA,EAAD,CACE1D,SAAS,OACT2D,WAAYpC,EACZqC,MA9C0B,WAClC,GAAIzC,EAAa,CACf,IAAM5B,EAAiC,IAAOwC,EACxCjC,EAA6BL,YAAyC,CAC1EC,aAAc,IACdC,QAASb,EACTD,WAAYkD,EACZ7C,mBACAC,oBACAC,mBAEF,OAAOiB,YAAO,CACZC,aAAcR,EACdS,eAAgBhB,IAGpB,OAAOT,EA8BQ+E,GACPhB,SAAU,EACViB,KAAK,IACL7D,MAAI,IAEN,cAAC,aAAD,CAAY8D,QAASV,EAAmBW,QAAQ,OAAOC,MAAM,KAA7D,SACE,cAAC,gBAAD,CAAe/D,MAAM,aAAasD,MAAM,kB,cElG9CU,EAAmBC,oBAAH,8KAYTC,EAAa5F,kBAAO6F,OAAP7F,CAAH,0RAOZ,gBAAG+C,EAAH,EAAGA,WAAH,SAAe+C,MAAkBC,OAAOhD,EAAa,eAAiB,gBAG7E,gBAAGiD,EAAH,EAAGA,eAAgBF,EAAnB,EAAmBA,MAAnB,OACAE,EACIC,cADU,qNAE8BH,EAAMC,OAAOG,cAAkBJ,EAAMC,OAAOI,UAGrET,GALL,uBAOK,SAACU,GAAD,OAAWA,EAAMN,MAAMO,KAAKC,aAPjC,QASd,qBAAGR,MAAkBS,aAAaC,MAKzBC,EAAkBzG,kBAAO0G,MAAP1G,CAAH,uEACZ,qBAAG8F,MAAkBO,KAAKC,cACvB,gBAAGN,EAAH,EAAGA,eAAgBF,EAAnB,EAAmBA,MAAnB,OAAgCE,EAAiB,OAASF,EAAMa,MAAMN,Q,SCdnFO,EAAkB5G,kBAAO6G,OAAP7G,CAAH,+EAOf8G,EAAgD,SAAC,GAKhD,IAJLrE,EAII,EAJJA,KAII,IAHJ7B,sBAGI,MAHa,EAGb,MAFJ+B,mBAEI,SADJoE,EACI,EADJA,iBAEQlG,EAAMC,cAAND,EAEAmG,EAAiBC,cAAjBD,aAEApE,EAAgEH,EAAhEG,aAAcE,EAAkDL,EAAlDK,YAAaoE,EAAqCzE,EAArCyE,WAAYC,EAAyB1E,EAAzB0E,SAAUpE,EAAeN,EAAfM,WAEnDqE,EAA2BC,SAAStE,GAAcmE,GAAcC,GAEhEG,EAAmB9C,KAAK+C,IAAIL,EAAaF,EAAc,GAEvDQ,EAAkBhD,KAAK+C,IAAIJ,EAAWH,EAAc,GAEpDS,EAAsC,IAArBH,GAA0BE,EAAkB,EAb/D,EAe2CtE,qBAC7CrC,EAAE,gEACF,CAAEsC,UAAW,eAFPC,EAfJ,EAeIA,UAAWC,EAff,EAeeA,QAASC,EAfxB,EAewBA,eAK5B,OACE,eAACsD,EAAD,CAAiBc,cAAc,SAA/B,UACE,eAAC,OAAD,CAAM9F,GAAG,MAAMU,eAAe,gBAAgBwC,WAAW,SAAzD,UACE,eAAC,OAAD,CAAM6C,OAAK,EAAX,UAAa9G,EAAE,gBAAf,OACA,cAAC,OAAD,CAAMiE,WAAW,aAAjB,SACGhC,EACC,qCACE,cAACoC,EAAA,EAAD,CACE1D,SAAS,OACT4D,MACEzC,EACIyB,YAAiB2C,EAAkBnE,EAAayB,UAChDD,YAAiBtB,EAAaF,EAAayB,YAGnD,cAAC,OAAD,CAAMuD,GAAG,MAAMpG,SAAS,OAAxB,SACGoB,EAAagC,YAIlB,cAAC,WAAD,CAAUI,MAAM,OAAOC,OAAO,cAInCmC,GACC,eAAC,OAAD,CAAMxF,GAAG,MAAMU,eAAe,gBAAgBwC,WAAW,SAAzD,UACE,eAAC,OAAD,CAAM6C,OAAK,EAAX,UAA8B9G,EAAjB4G,EAAmB,MAAW,SAA3C,OACA,eAAC,OAAD,CAAM3C,WAAW,SAAjB,UACG0C,GAAmBF,EAClB,cAACpC,EAAA,EAAD,CACExD,MAAM,UACNF,SAAS,OACT4D,MAAOqC,EAAiBD,EAAkBF,EAC1CjD,SAAU,IAGZ,cAAC,WAAD,CAAUW,MAAM,OAAOC,OAAO,SAEhC,cAAC,OAAD,CAAM2C,GAAG,MAAMlG,MAAM,UAAUiG,OAAK,EAApC,SACG9G,EAAE,YAEL,cAAC,YAAD,CAAW+G,GAAG,MAAMlG,MAAM,kBAI/BiB,GACC,eAAC,OAAD,CAAMf,GAAG,MAAMU,eAAe,gBAAgBwC,WAAW,SAAzD,UACGxB,GAAkBD,EACnB,cAAC,cAAD,CAAa0B,IAAK3B,EAAWuE,OAAK,EAAlC,SACG9G,EAAE,qBAEL,cAAC,OAAD,CAAMiE,WAAW,SAAjB,SACE,eAAC,OAAD,CAAM8C,GAAG,MAAMD,OAAK,EAApB,UACG/G,EAAiB,IADpB,gBAUGiH,MAAMC,KAAKhB,GCzGpBiB,EAA0B/H,kBAAO6G,OAAP7G,CAAH,yHAuDdgI,EA/CuB,SAAC,GAMhC,IALLvF,EAKI,EALJA,KACAwF,EAII,EAJJA,QAII,IAHJrH,sBAGI,MAHa,EAGb,MAFJ+B,mBAEI,SADJoE,EACI,EADJA,iBAEQlG,EAAMC,cAAND,EADJ,EAGgCqH,oBAAS,GAHzC,mBAGGC,EAHH,KAGeC,EAHf,KAKEC,EAAoBxH,EAAE,wEACtByH,EAAkBzH,EACtB,uGAPE,EAU2CqC,qBAAWP,EAAc2F,EAAkBD,EAAmB,CAC3GlF,UAAW,eADLC,EAVJ,EAUIA,UAAWC,EAVf,EAUeA,QAASC,EAVxB,EAUwBA,eAI5B,OACE,eAAC,aAAD,WACE,eAACyE,EAAD,WACE,eAAC,OAAD,CAAMjD,WAAW,SAAjB,UACGnC,EAAc,cAAC,IAAD,IAAyB,cAAC,IAAD,IACvCW,GAAkBD,EACnB,cAAC,MAAD,CAAK0B,IAAK3B,EAAV,SACE,cAAC,WAAD,CAAUwE,GAAG,MAAM5C,MAAM,OAAOC,OAAO,OAAOvD,MAAM,oBAGxD,cAAC,kBAAD,CAAiB6G,SAAUJ,EAAY5C,QAAS,kBAAM6C,GAAeD,IAArE,SACgBtH,EAAbsH,EAAe,OAAY,gBAG/BA,GACC,cAAC,EAAD,CACE1F,KAAMA,EACNwF,QAASA,EACTrH,eAAgBA,EAChB+B,YAAaA,EACboE,iBAAkBA,QC5DtByB,EAAUxI,kBAAOyI,aAAPzI,CAAH,uEACG,gBAAG+C,EAAH,EAAGA,WAAYuD,EAAf,EAAeA,WAAYR,EAA3B,EAA2BA,MAA3B,OACZ/C,EAAa+C,EAAMC,OAAO2C,mBAAqB5C,EAAMC,OAAO4C,UAAUrC,MACvD,gBAAGR,EAAH,EAAGA,MAAH,SAAUE,eACR,gBAAH,UAAwBF,EAAMa,MAAMN,KAApC,YAA4CP,EAAMa,MAAMN,KAAxD,WA4DHuC,EAlDV,SAAC,GAOC,IANLnI,EAMI,EANJA,mBACAoI,EAKI,EALJA,mBAKI,IAJJ9F,kBAII,aAHJJ,mBAGI,aAFJmG,iBAEI,aADJ9C,sBACI,SACInF,EAAMC,cAAND,EAEFkI,EAAoC,SAAvBtI,GAAwD,SAAvBoI,EAC9CvC,EAAawC,EAAY,YAAc,aAyB7C,OACE,cAACN,EAAD,CAASxC,eAAgBA,EAAgBjD,WAAYA,EAAYuD,WAAYA,EAA7E,SACE,cAAC,OAAD,CAAMxB,WAAW,SAASxC,eAAe,gBAAzC,SACE,eAAC,OAAD,CAAMoF,cAAc,SAApB,UACE,cAAC,UAAD,CAAShG,MAAOqB,EAAa,eAAiB,OAAQ0C,MAAM,KAA5D,mBAxBE,GAAN,OAAU5E,EAFR8B,EAEU,OAEVoG,EAEU,SAGF,SAiBN,YAC4BtI,KAE5B,cAAC,OAAD,CAAMiB,MAAOqB,EAAa,eAAiB,aAA3C,SAhBFJ,EACI,GAAN,OAAU9B,EAAE,wBAEVkI,EACI,GAAN,OAAUlI,EAAE,0BAER,GAAN,OAAUA,EAAE,SAAZ,YAAwBgI,a,kHC+BbG,GAnEuC,SAAC,GAAkD,IAAhDvG,EAA+C,EAA/CA,KAA+C,IAAzCwG,iBAAyC,SAAtBC,EAAsB,EAAtBA,iBACxEC,EAAoD1G,EAApD0G,QAASvG,EAA2CH,EAA3CG,aAAcC,EAA6BJ,EAA7BI,aAAcE,EAAeN,EAAfM,WAErClC,EAAMC,cAAND,EAH8F,EAKpDqH,oBAAS,GAL2C,mBAK/FkB,EAL+F,KAK5EC,EAL4E,OCHzF,SACbC,EAAcH,EAASI,GACgB,IAC/BtB,EAAYuB,cAAZvB,QAEFwB,EAAWC,eAEXC,EAAoBC,aAA4BT,GAEhDU,EAAgBC,aAAiBR,EAAM7F,SAEvCsG,EAASC,mBAAQ,iBAAM,CAAC/B,EAAS0B,KAAoB,CAAC1B,EAAS0B,IAE/DM,EAAYC,aAAoBL,EAAe,YAAaE,GAAQI,OAXpC,EAaTH,mBAAQ,iBAAM,CAACC,EAAY,IAAIrG,IAAUqG,EAAUG,iBAAcC,KAAY,CAACJ,IAAnGK,EAb8B,oBAgBhCC,EAA+BP,mBAAQ,WAC3C,OAAKV,GAAUK,GAEVW,EAGEA,EAAiBE,GAAG,GAAKC,IAAcC,SAAWD,IAAcE,aAL9BF,IAAcG,UAMtD,CAACtB,EAAOK,EAAmBW,IAExBO,EAAUC,sBAAW,sBAAC,4BAAAC,EAAA,yDACtBR,IAAkBE,IAAcE,aADV,uBAExBK,QAAQC,MAAM,oCAFU,6BAOrBpB,EAPqB,uBAQxBmB,QAAQC,MAAM,yBARU,6BAarBtB,EAbqB,uBAcxBqB,QAAQC,MAAM,cAdU,2CAmBCpB,EAAcqB,YAAYL,QAAQlB,EAAmBwB,KAnBtD,QAmBpBC,EAnBoB,OAsB1BvB,EACQgB,QAAQlB,EAAmBwB,IAAY,CAAEE,SAAUC,aAAmBF,KACtEG,MAAK,WACL9B,EAAS+B,aAAoBrC,EAASlB,IAEtCsB,OAELkC,OAAM,SAACR,GAEN,MADAD,QAAQC,MAAM,0BAA2BA,GACnCA,KA/BgB,4CAiCzB,CAACV,EAAeV,EAAeF,EAAmBF,EAAUN,EAASlB,EAASsB,IAEjF,MAAO,CAACgB,EAAeM,GD3CoBa,CAAgB9I,EAAcuG,GATxD,WAEfwC,EAAa,GAAD,OAAI9K,EAAE,qBAAN,UAAgCA,EAAE,4BAAD,OAA6BgC,EAAa+B,OAA1C,aAE7CyE,GAAqB,GAErBH,GAAiB,MAbmF,mBAgB9FqB,EAhB8F,KAgB/EqB,EAhB+E,OAkBjEC,eAA7BF,EAlB8F,EAkB9FA,aAAcG,EAlBgF,EAkBhFA,WAEhBC,EAAgBjB,sBAAW,sBAAC,sBAAAC,EAAA,sEAE9B1B,GAAqB,GAFS,SAIxBuC,IAJwB,OAM1BrB,IAAmBE,IAAcG,SAEnCkB,EAAW,GAAD,OACLjL,EAAE,UADG,UAELA,EAAE,wFAGPwI,GAAqB,IACXkB,IAAkBE,IAAcC,WAE1CiB,EAAa,GAAD,OAAI9K,EAAE,qBAAN,UAAgCA,EAAE,4BAAD,OAA6BgC,EAAa+B,OAA1C,aAE7CyE,GAAqB,GAErBH,GAAiB,IApBW,gDAuB9B8B,QAAQC,MAAR,MACAa,EAAW,QAAD,kCAAU,KAAGE,SAxBO,yDA0B/B,CAACzB,EAAeqB,EAAiBvC,EAAsByC,EAAYjL,EAAGgC,EAAcqG,EAAkByC,IAEzG,OACE,mCACG1C,EACC,cAAC,WAAD,CAAUjE,MAAM,OAAOC,OAAO,SAE9B,cAAC,SAAD,CACEgE,UAAWG,EACX6C,QAAS7C,EAAoB,cAAC,gBAAD,CAAe8C,MAAI,EAACxK,MAAM,iBAAoB,KAC3EyK,SAAUpJ,GAAcqG,EACxB7D,QAASwG,EACT/G,MAAM,OALR,SAOGnE,EAAE,e,UErCEuL,GA7BmD,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,YAAajM,EAAgB,EAAhBA,UACxES,EAAMC,cAAND,EACAiF,EAAUwG,eAAVxG,MAER,OACE,eAAC,QAAD,CACEvE,MAAK,UAAK8K,EAAL,YAAoBxL,EAAE,aAC3BT,UAAWA,EACXmM,iBAAkBzG,EAAMC,OAAO4C,UAAU6D,WAH3C,UAKE,cAAC,OAAD,CAAM9K,MAAM,UAAUD,MAAI,EAA1B,SACGZ,EAAE,sBAAuB,CAAE4L,KAAMJ,MAEpC,cAAC,OAAD,CAAMjK,GAAG,OAAT,SAAiBvB,EAAE,wDAAoD,CAAE6L,YAAaL,MACtF,cAAC,OAAD,UACGxL,EAAE,4FAAwF,CACzF6L,YAAaL,MAGjB,eAAC,SAAD,CAAQjK,GAAG,OAAOuK,GAAG,IAAIC,UAAQ,EAACrK,KAAK,UAAvC,UACG1B,EAAE,OADL,IACcwL,KAEd,cAAC,SAAD,CAAQ7G,QAAQ,OAAOD,QAASnF,EAAhC,SACGS,EAAE,sBCzBX,I,MAAMgM,GAAe7M,kBAAO8M,SAAP9M,CAAH,+CAYH+M,GAR2C,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,SAAUzH,EAAc,EAAdA,QACrE,OACE,cAACsH,GAAD,CAAcpH,MAAM,KAAKwH,GAAG,MAAMC,EAAE,WAAW1H,QAAQ,WAAWD,QAASA,EAA3E,SACGyH,KCMDG,GAAanN,kBAAOoN,OAAPpN,CAAH,8CA2JDqN,GAvJ+B,SAAC,GAMxC,IALL5K,EAKI,EALJA,KACA6K,EAII,EAJJA,WACA5K,EAGI,EAHJA,kBAGI,IAFJ6K,uBAEI,SADJnN,EACI,EADJA,UAEQ+I,EAAwC1G,EAAxC0G,QAASvG,EAA+BH,EAA/BG,aAAcC,EAAiBJ,EAAjBI,aAEvBhC,EAAMC,cAAND,EAEAiF,EAAUwG,eAAVxG,MALJ,ECtBS,SACbqD,EAASI,GACgD,IACjDtB,EAAYuB,cAAZvB,QAEFwB,EAAWC,eAEXC,EAAoB6D,aAAqBrE,GA4B/C,MAAO,CA1BS2B,sBAAW,uCAAC,WAAO2C,GAAP,6BAAA1C,EAAA,yDAAuB1G,EAAvB,+BAAkC,GACvDsF,EADqB,uBAExBqB,QAAQC,MAAM,+BAFU,0CAOCtB,EAAkBuB,YAAYwC,QAAQ,IAAI9J,IAAU6J,GAAQ5J,MAAM8J,IAAQC,IAAIvJ,IAAW+F,YAP1F,OAOpBgB,EAPoB,OAU1BzB,EACQ+D,QAAS,IAAI9J,IAAU6J,GAAQ5J,MAAM8J,IAAQC,IAAIvJ,IAAW+F,WAAa,CAAEiB,SAAUC,aAAmBF,KACxGG,MAAK,WACH9B,EAASoE,aAAwB1E,EAASlB,IAE1CwB,EAASqE,aAAkB3E,EAASlB,IAEpCsB,OAEPkC,OAAM,SAACR,GAEN,MADAD,QAAQC,MAAM,wBAAyBA,GACjCA,KArBgB,2CAAD,sDAwBxB,CAACtB,EAAmBF,EAAUN,EAASlB,EAASsB,KDK/BwE,CAAc5E,GAThB,WAEhBwC,EAAa,GAAD,OAAI9K,EAAE,UAAN,KAAoBA,EAAE,QAAD,OAAS+B,EAAagC,OAAtB,0CAEjCoJ,GAAa,GAEb5N,OAGM6N,EAhBJ,sBElBS,SACb9E,GACyD,IADhD+E,EAC+C,wDADd3E,EACc,uCAChDtB,EAAYuB,cAAZvB,QAEFwB,EAAWC,eAEXC,EAAoB6D,aAAqBrE,GAoD/C,MAAO,CAlDW2B,sBAAW,uCAAC,WAAO2C,GAAP,+BAAA1C,EAAA,yDAAuB1G,EAAvB,+BAAkC,GACzDsF,EADuB,uBAE1BqB,QAAQC,MAAM,+BAFY,8BAOxBiD,EAPwB,iCAQIvE,EAAkBuB,YAAYiD,oBARlC,OAQpBC,EARoB,OAW1BzE,EACQwE,kBAAkB,CAAE9C,SAAUC,aAAmB8C,KACjD7C,MAAK,WACHhC,IAEAE,EAASoE,aAAwB1E,EAASlB,IAE1CwB,EAASqE,aAAkB3E,EAASlB,IAEpCwB,EAAS4E,aAAwBlF,EAASlB,OAEjDwD,OAAM,SAACR,GAEN,MADAD,QAAQC,MAAM,0BAA2BA,GACnCA,KAxBgB,yCA4BCtB,EAAkBuB,YAAYoD,SAAS,IAAI1K,IAAU6J,GAAQ5J,MAAM8J,IAAQC,IAAIvJ,IAAW+F,YA5B3F,QA4BpBgB,EA5BoB,OA+B1BzB,EACQ2E,SAAU,IAAI1K,IAAU6J,GAAQ5J,MAAM8J,IAAQC,IAAIvJ,IAAW+F,WAAa,CAAEiB,SAAUC,aAAmBF,KACzGG,MAAK,WACH9B,EAASoE,aAAwB1E,EAASlB,IAE1CwB,EAASqE,aAAkB3E,EAASlB,IAEpCwB,EAAS4E,aAAwBlF,EAASlB,IAE1CsB,OAEPkC,OAAM,SAACR,GAEN,MADAD,QAAQC,MAAM,0BAA2BA,GACnCA,KA5CgB,4CAAD,sDAgD1B,CAACtB,EAAmBF,EAAUN,EAASlB,EAASsB,EAAU2E,KFTvCK,CAAgBpF,EAAS1G,EAAKyL,yBAZhC,WAElBvC,EAAa,GAAD,OACP9K,EAAE,YADK,KAEVA,EAAE,QAAD,OAASgC,EAAa+B,OAAtB,wDAGHoJ,GAAa,GAEb5N,OAGMoO,EA9BJ,sBAgCiC3C,eAA7BF,EAhCJ,EAgCIA,aAAcG,EAhClB,EAgCkBA,WAhClB,EAkC8B5D,oBAAS,GAlCvC,mBAkCGuG,EAlCH,KAkCcT,EAlCd,OAoCkC9F,mBAAS,IApC3C,mBAoCGwG,EApCH,KAoCgBC,EApChB,OAsC0BzG,mBAAS,GAtCnC,mBAsCG0G,EAtCH,KAsCYC,EAtCZ,KAwCEC,EAAiBJ,GAAeK,YAAa,IAAInL,IAAU8K,GAAa7K,MAAMnB,GAAmBwB,YAajG8K,EAAsB,SAACC,GAC3B,GAAIA,EAAgB,EAAG,CACrB,IAAMC,EAAyB5B,EAAW6B,UAAU,KAAKC,aAAaH,GAChEI,EAAgBC,YAAsBJ,EAAwBtM,EAAayB,SAAUzB,EAAayB,UACxGsK,EAAeU,QAEfV,EAAe,IAEjBE,EAAWI,IAGPM,EAAkB,uCAAG,sBAAAxE,EAAA,yDACzBiD,GAAa,IAETT,EAHqB,0CAMfiB,EAAUE,EAAa9L,EAAayB,UANrB,uDAQrByH,EAAWjL,EAAE,YAAaA,EAAE,kDAC5BmN,GAAa,GATQ,2DAcfC,EAAQS,EAAa9L,EAAayB,UAdnB,2DAiBrByH,EAAWjL,EAAE,YAAaA,EAAE,kDAC5BmN,GAAa,GAlBQ,iEAAH,qDAuBxB,OACE,eAAC,QAAD,CACEzM,MAAyBV,EAAlB0M,EAAoB,UAAe,uBAC1CnN,UAAWA,EACXmM,iBAAkBzG,EAAMC,OAAO4C,UAAU6D,WAH3C,UAKE,eAAC,OAAD,CAAM1H,WAAW,SAASxC,eAAe,gBAAgBV,GAAG,MAA5D,UACE,eAAC,OAAD,CAAMH,MAAI,EAAV,UAA8BZ,EAAlB0M,EAAoB,UAAe,SAA/C,OACA,eAAC,OAAD,CAAMzI,WAAW,SAAS0K,SAAS,OAAnC,UACE,cAAC,QAAD,CAAOC,IAAG,wBAAmB7M,EAAaa,QAAhC,QAA+CuB,MAAO,GAAIC,OAAQ,GAAIyK,IAAK9M,EAAagC,SAClG,cAAC,OAAD,CAAMgD,GAAG,MAAMnG,MAAI,EAAnB,SACGmB,EAAagC,eAIpB,cAAC,eAAD,CACEQ,MAAOsJ,EACPiB,YA9DyB,SAACC,GAC9B,GAAIA,EAAO,CACT,IAAMC,EAAiBC,YAAiB,IAAIlM,IAAUgM,GAAQhN,EAAayB,UACrE0L,EAAavL,KAAKwL,MAAMH,EAAeV,UAAU7B,GAAY8B,aAAa,KAAKlL,YACrF2K,EAAWrK,KAAKyL,IAAIF,EAAY,WAEhClB,EAAW,GAEbF,EAAeiB,IAuDXM,cAAa,WAAMpB,GAAkB,EAAxB,UAEf,eAAC,OAAD,CAAM1M,GAAG,MAAMwF,GAAG,OAAOlG,MAAM,aAAaF,SAAS,OAAOI,GAAG,MAA/D,UACGf,EAAE,WADL,KACmByO,YAAsBhC,EAAY1K,EAAayB,aAElE,cAAC,SAAD,CACE4L,IAAK,EACL1I,IAAK,IACLnC,MAAOwJ,EACPuB,eAAgBnB,EAChBvC,KAAK,QACL2D,WAAU,UAAKxB,EAAL,KACVyB,KAAM,IAER,eAAC,OAAD,CAAMvL,WAAW,SAASxC,eAAe,gBAAgBF,GAAG,MAA5D,UACE,cAAC,GAAD,CAAkBmD,QAAS,kBAAMyJ,EAAoB,KAArD,iBACA,cAAC,GAAD,CAAkBzJ,QAAS,kBAAMyJ,EAAoB,KAArD,iBACA,cAAC,GAAD,CAAkBzJ,QAAS,kBAAMyJ,EAAoB,KAArD,iBACA,cAAC,GAAD,CAAkBzJ,QAAS,kBAAMyJ,EAAoB,MAArD,oBAEF,cAAC,SAAD,CACE/F,UAAWwF,EACXxC,QAASwC,EAAY,cAAC,gBAAD,CAAevC,MAAI,EAACxK,MAAM,iBAAoB,KACnE6D,QAASgK,EACTpD,UAAWuC,GAA2C,IAA5BpK,WAAWoK,GACrCtM,GAAG,OALL,SAOevB,EAAZ4N,EAAc,aAAkB,cAEjClB,GACA,cAACJ,GAAD,CAAYP,UAAQ,EAACrK,KAAK,UAA1B,SACE,cAAC,SAAD,CAAQyC,MAAM,OAAO5C,GAAG,MAAMoD,QAAQ,YAAtC,SACG3E,EAAE,QAAS,CAAE4L,KAAM7J,EAAagC,iBGpJvC0L,GAAgBtQ,kBAAOkF,IAAPlF,CAAH,kDA+EJuQ,GA3EkC,SAAC,GAO3C,IANL9N,EAMI,EANJA,KACA+N,EAKI,EALJA,oBACA9N,EAII,EAJJA,kBACA+N,EAGI,EAHJA,cACAC,EAEI,EAFJA,SAEI,IADJzH,iBACI,SACIrG,EAAyDH,EAAzDG,aAAcC,EAA2CJ,EAA3CI,aAAc8N,EAA6BlO,EAA7BkO,aAAc5N,EAAeN,EAAfM,WAC1ClC,EAAMC,cAAND,EACF+P,EAAiBd,YAAiB,IAAIlM,IAAU+M,GAAe9N,EAAawB,UAC5EiJ,EACJqD,GAAgBH,EAAoBK,cAAcD,GAAkBA,EAAiBJ,EACjFM,EAAqB1M,YAAiBqM,EAAe7N,EAAayB,UAClE0M,EAA2B3M,YAC/BqM,EAAcrB,aAAa1M,GAC3BE,EAAayB,UATX,EAY6BM,mBAAS,cAAC,GAAD,CAAsB0H,YAAazJ,EAAagC,UAAnFoM,EAZH,sBAcqBrM,mBACvB,cAAC,GAAD,CAAY2I,WAAYA,EAAY7K,KAAMA,EAAMC,kBAAmBA,KAD9DuO,EAdH,sBAkBuBtM,mBACzB,cAAC,GAAD,CACE2I,WAAYmD,EACZhO,KAAMA,EACNC,kBAAmBA,EACnB6K,iBAAe,KALZ2D,EAlBH,oBAiEJ,OAAO,cAAC,OAAD,CAAMxJ,cAAc,SAApB,SAA8BuB,EAAY,cAAC,WAAD,CAAUjE,MAAM,OAAOC,OAAO,SArCtEyL,EACL,eAAC,OAAD,CAAMpO,eAAe,gBAAgBwC,WAAW,SAAhD,UACE,cAAC,OAAD,CAAM4C,cAAc,SAApB,SACE,qCACE,cAACxC,EAAA,EAAD,CAASzD,MAAI,EAACD,SAAS,OAAO6C,SAAU,EAAGe,MAAO0L,IAClD,eAAC,OAAD,CAAMtP,SAAS,OAAOE,MAAM,aAA5B,cAEE,cAAC4O,GAAD,CACE9O,SAAS,OACTE,MAAM,aACN2C,SAAU,EACVe,MAAO2L,EACPzL,KAAK,iBAKb,eAAC,OAAD,WACE,cAAC,aAAD,CAAYE,QAAQ,YAAYD,QAAS2L,EAAkBC,GAAG,MAA9D,SACE,cAAC,YAAD,CAAWzP,MAAM,UAAUsD,MAAM,WAEnC,cAAC,aAAD,CACEQ,QAAQ,YACRD,QAASiL,EAAoBhG,GAAG,GAAKyG,EAAiBD,EACtD7E,SAAUpJ,EAHZ,SAKE,cAAC,UAAD,CAASrB,MAAM,UAAUsD,MAAM,OAAOC,OAAO,iBAKnD,cAAC,SAAD,CAAQkH,SAAUpJ,EAAYwC,QAASiL,EAAoBhG,GAAG,GAAKyG,EAAiBD,EAApF,SACGnQ,EAAE,cC7DX,I,MAsEeuQ,GAtEmC,SAAC,GAM5C,IALLC,EAKI,EALJA,iBACAxO,EAII,EAJJA,aACAyO,EAGI,EAHJA,oBACAnI,EAEI,EAFJA,QACA/I,EACI,EADJA,UAEQS,EAAMC,cAAND,EAEAiF,EAAUwG,eAAVxG,MAHJ,EAKiC+F,eAA7BF,EALJ,EAKIA,aAAcG,EALlB,EAKkBA,WALlB,EC7BS,SACb3C,EAASI,GACgB,IACjBtB,EAAYuB,cAAZvB,QAEFwB,EAAWC,eAEXC,EAAoB6D,aAAqBrE,GA4B/C,MAAO,CA1BU2B,sBAAW,sBAAC,4BAAAC,EAAA,yDACtBpB,EADsB,uBAEzBqB,QAAQC,MAAM,+BAFW,0CAOAtB,EAAkBuB,YAAYqG,YAP9B,OAOrBnG,EAPqB,OAU3BzB,EACQ4H,UAAU,CAAElG,SAAUC,aAAmBF,KACzCG,MAAK,WACH9B,EAAS4E,aAAwBlF,EAASlB,IAE1CwB,EAASqE,aAAkB3E,EAASlB,IAEpCsB,OAEPkC,OAAM,SAACR,GAEN,MADAD,QAAQC,MAAM,0BAA2BA,GACnCA,KArBiB,2CAwB1B,CAACtB,EAAmBF,EAAUN,EAASlB,EAASsB,KDY9BiI,CAAgBrI,GATd,WAErBwC,EAAa,GAAD,OAAI9K,EAAE,aAAN,KAAuBA,EAAE,QAAD,OAASgC,EAAa+B,OAAtB,8CAEpCoJ,GAAa,GAEb5N,OAGMqR,EAhBJ,sBAkB8BvJ,oBAAS,GAlBvC,mBAkBGuG,EAlBH,KAkBcT,EAlBd,KAoBE0D,EAAoB,uCAAG,sBAAA3G,EAAA,6DAC3BiD,GAAa,GADc,kBAKjByD,IALiB,uDAQvB3F,EAAWjL,EAAE,YAAaA,EAAE,kDAC5BmN,GAAa,GATU,yDAAH,qDAa1B,OACE,eAAC,QAAD,CACEzM,MAAK,UAAKsB,EAAa+B,OAAlB,YAA4B/D,EAAE,YACnCT,UAAWA,EACXmM,iBAAkBzG,EAAMC,OAAO4C,UAAU6D,WAH3C,UAKE,eAAC,OAAD,CAAMlK,eAAe,gBAAgBwC,WAAW,SAASlD,GAAG,OAA5D,UACE,eAAC,OAAD,WAAOf,EAAE,cAAT,OACA,eAAC,OAAD,CAAM6G,cAAc,SAApB,UACE,eAAC,UAAD,WACG2J,EADH,IACsBxO,EAAa+B,UAEnC,cAAC,OAAD,CAAMpD,SAAS,OAAOE,MAAM,aAA5B,oBAA8C4P,GAAuB,EAArE,gBAIJ,cAAC,SAAD,CACElP,GAAG,MACHmD,QAASmM,EACTzI,UAAWwF,EACXxC,QAASwC,EAAY,cAAC,gBAAD,CAAevC,MAAI,EAACxK,MAAM,iBAAoB,KAJrE,SAMeb,EAAZ4N,EAAc,aAAkB,aAEnC,cAAC,SAAD,CAAQjJ,QAAQ,OAAOD,QAASnF,EAAWuR,GAAG,MAA9C,SACG9Q,EAAE,sBE5ELyP,GAAgBtQ,kBAAOkF,IAAPlF,CAAH,kDA4EJ4R,GAxEuC,SAAC,GAKhD,IAJLC,EAII,EAJJA,SACAhP,EAGI,EAHJA,aACAsG,EAEI,EAFJA,QAEI,IADJF,iBACI,SACIpI,EAAMC,cAAND,EAEF0C,EAAoBC,YAAeX,EAAaY,QAAUZ,EAAaY,QAAU,IAEjFqO,EAAsB1N,YAAiByN,EAAUhP,EAAawB,UAE9D0N,EAA4B3N,YAAiByN,EAASzC,aAAa7L,GAAoBV,EAAawB,UAEpG2N,EAAc1C,YAAsBuC,EAAUhP,EAAawB,UAE3DgN,EAAmBtC,YAAa+C,EAAqB,EAAG,GAExDR,EAAsBvC,YAAagD,GAEnCE,EAAcJ,EAAS3N,WAAa,EAftC,EAiBuBS,mBACzB,cAAC,GAAD,CACE0M,iBAAkBA,EAClBW,YAAaA,EACbnP,aAAcA,EACdyO,oBAAqBA,EACrBnI,QAASA,KANN+I,EAjBH,oBA2BJ,OACE,cAAC,OAAD,CAAMxK,cAAc,SAAS9F,GAAG,OAAhC,SACE,eAAC,OAAD,CAAMU,eAAe,gBAAgBwC,WAAW,SAAhD,UACE,cAAC,OAAD,CAAM4C,cAAc,SAApB,SACGuB,EACC,cAAC,WAAD,CAAUjE,MAAM,OAAOC,OAAO,SAE9B,qCACGgN,EACC,cAAC/M,EAAA,EAAD,CAASzD,MAAI,EAACD,SAAS,OAAO6C,SAAU,EAAGe,MAAO0M,IAElD,cAAC,UAAD,CAASpQ,MAAM,eAAf,eAEF,eAAC,OAAD,CAAMF,SAAS,OAAOE,MAAOuQ,EAAc,aAAe,eAA1D,cAEGA,EACC,cAAC,GAAD,CACEzQ,SAAS,OACTE,MAAM,aACN2C,SAAU,EACVe,MAAO2M,EACPzM,KAAK,SAGP,gBAMV,cAAC,OAAD,UACE,cAAC,SAAD,CAAQ6G,UAAW8F,EAAa1M,QAAS2M,EAAzC,SACIrR,EAAE,qBC3EVsR,GAAanS,kBAAOoS,OAAPpS,CAAH,kDAmFDqS,GAvEiC,SAAC,GAAgD,IAA9C5P,EAA6C,EAA7CA,KAAMgO,EAAuC,EAAvCA,cAAe/N,EAAwB,EAAxBA,kBAC9DyG,EAA2D1G,EAA3D0G,QAASvG,EAAkDH,EAAlDG,aAAcC,EAAoCJ,EAApCI,aAAcyP,EAAsB7P,EAAtB6P,QAASC,EAAa9P,EAAb8P,SAG9C1R,EAAMC,cAAND,EAEF2P,GAA8B,OAAR+B,QAAQ,IAARA,OAAA,EAAAA,EAAU/B,qBAAsB,IAAI5M,IAAU2O,EAAS/B,qBAAuBgC,IAEpGvI,GAAoB,OAARsI,QAAQ,IAARA,OAAA,EAAAA,EAAUtI,WAAY,IAAIrG,IAAU2O,EAAStI,WAAauI,IAEtEX,GAAmB,OAARU,QAAQ,IAARA,OAAA,EAAAA,EAAUE,eAAgB,IAAI7O,IAAU2O,EAASE,eAAiBD,IAE7EE,GAAsBzI,EAAUO,GAAG,GAZqD,EAcpDtC,mBAASwK,GAd2C,mBAcvFC,EAduF,KAcxEzJ,EAdwE,KAgB3FyJ,IAAkBD,GAEnBxJ,EAAiBwJ,GAGnB,IAAMhC,EAAWD,EAAcjG,GAAG,GAE5BvB,GAAasJ,EAEnB,OACE,cAAC,OAAD,CAAM7K,cAAc,SAApB,SACE,eAAC,OAAD,CAAMA,cAAc,SAApB,UACG4K,GACC,qCACE,eAAC,MAAD,CAAKM,QAAQ,SAAb,UACE,cAACT,GAAD,CAAYzQ,MAAM,YAAYC,cAAc,YAAYF,MAAI,EAACD,SAAS,OAAtE,mBACMqB,EAAa+B,OADnB,OAGA,cAACuN,GAAD,CAAYzQ,MAAM,aAAaC,cAAc,YAAYF,MAAI,EAACD,SAAS,OAAvE,SACGX,EAAE,eAGP,cAAC,GAAD,CACEgR,SAAUA,EACVhP,aAAcA,EACdsG,QAASA,EACTF,UAAWA,OAIjB,eAAC,MAAD,CAAK2J,QAAQ,SAAb,UACE,eAACT,GAAD,CAAYzQ,MAAOgP,EAAW,YAAc,aAAc/O,cAAc,YAAYF,MAAI,EAACD,SAAS,OAAlG,UACGkP,EAAW9N,EAAagC,OAAS/D,EAAE,SAAU,OAEhD,cAACsR,GAAD,CAAYzQ,MAAOgP,EAAW,aAAe,YAAa/O,cAAc,YAAYF,MAAI,EAACD,SAAS,OAAlG,SACGkP,EAAW7P,EAAE,UAAL,UAAoB+B,EAAagC,aAG7C+N,EACC,cAAC,GAAD,CAAgBlQ,KAAMA,EAAMwG,UAAWA,EAAWC,iBAAkBA,IAEpE,cAAC2J,GAAD,CACE5J,UAAWA,EACXxG,KAAMA,EACN+N,oBAAqBA,EACrB9N,kBAAmBA,EACnB+N,cAAeA,EACfC,SAAUA,UC5BPoC,GA5CwD,SAAC,GAAuB,IAArBrQ,EAAoB,EAApBA,KAAMwF,EAAc,EAAdA,QACtEkB,EAA8D1G,EAA9D0G,QAASvG,EAAqDH,EAArDG,aAAcC,EAAuCJ,EAAvCI,aAAcE,EAAyBN,EAAzBM,WAAYwP,EAAa9P,EAAb8P,SAEjD1R,EAAMC,cAAND,EAEF4P,GAAwB,OAAR8B,QAAQ,IAARA,OAAA,EAAAA,EAAU9B,eAAgB,IAAI7M,IAAU2O,EAAS9B,eAAiB+B,IAElFO,EAA0BtC,EAAcjG,GAAG,GAE3C9H,EAAoBc,YAAeZ,EAAaa,QAAUb,EAAaa,QAAU,IAEvF,OACE,cAACmC,EAAD,CACE7C,WAAYA,GAA0B,IAAZoG,EAC1B6J,OAAQjQ,GAAc,cAAC,aAAD,CAAYkQ,aAAa,eAAeC,KAAI,UAAKrS,EAAE,eAF3E,SAIE,eAAC4F,EAAD,WACE,cAAC,EAAD,CACEqC,UAAWiK,EACXtS,mBAAoBoC,EAAa+B,OACjCiE,mBAAoBjG,EAAagC,OACjC7B,WAAYA,GAA0B,IAAZoG,IAE5B,eAAC,WAAD,WACE,cAAC,EAAD,CAAQ1G,KAAMA,EAAMC,kBAAmBA,IACvC,cAAC,OAAD,CAAMN,GAAG,OAAOsF,cAAc,SAA9B,SACGO,EACC,cAAC,GAAD,CAAaxF,KAAMA,EAAMgO,cAAeA,EAAe/N,kBAAmBA,IAE1E,qCACE,cAAC,OAAD,CAAMd,GAAG,OAAOD,cAAc,YAAYH,SAAS,OAAOE,MAAM,aAAaD,MAAI,EAAjF,SACGZ,EAAE,mBAEL,cAACsS,EAAA,EAAD,YAKR,cAACC,EAAD,CAAY3Q,KAAMA,EAAMwF,QAASA,UChB1BoL,GAzBM,SAAC,GAAyF,IAAvFC,EAAsF,EAAtFA,YAAaC,EAAyE,EAAzEA,eAAgBC,EAAyD,EAAzDA,WAAYC,EAA6C,EAA7CA,cAAeC,EAA8B,EAA9BA,wBACtE7S,EAAMC,cAAND,EAER,OACE,cAAC,OAAD,CAAMiE,WAAW,SAASxC,eAAe,SAASV,GAAG,OAArD,SACE,eAAC,OAAD,CAAMkD,WAAW,SAAS4C,cAAe,CAAC,SAAU,KAAM,MAAO,MAAjE,UACE,eAAC,aAAD,CAAYiM,YAAaL,EAAc,EAAI,EAAGM,YAAa,SAACC,GAAD,OAAWN,EAAyB,IAAVM,IAAcpO,MAAM,KAAKD,QAAQ,SAAtH,UACE,cAAC,iBAAD,UACG3E,EAAE,UAEL,cAAC,kBAAD,CAAiBiT,KAAMJ,EAAvB,SACE,cAAC,iBAAD,UACG7S,EAAE,mBAIT,eAAC,OAAD,CAAMuB,GAAI,CAAC,MAAO,KAAM,EAAG,MAAOwF,GAAI,CAAC,EAAG,KAAM,OAAQ,MAAOtF,eAAe,SAASwC,WAAW,SAAlG,UACE,cAAC,SAAD,CAAQW,MAAM,KAAKsO,QAASP,EAAYQ,SAAU,kBAAMP,GAAc,SAACQ,GAAD,OAAWA,QACjF,cAAC,OAAD,CAAMrM,GAAG,MAAT,SAAgB/G,EAAE,0BCiEbqT,GA/Ec,WAAO,IACxBrT,EAAMC,cAAND,EAEAoH,EAAYuB,cAAZvB,QAEFkM,EAAQC,YAAcnM,GAEpBjB,EAAiBC,cAAjBD,aAPuB,EASKqN,aAAgB,EAAO,6BAT5B,mBASxBb,EATwB,KASZC,EATY,OAWOY,aAAgB,EAAM,8BAX7B,mBAWxBf,EAXwB,KAWXC,EAXW,OAaIvJ,mBACjC,kBAAMsK,IAAUH,GAAO,SAAC1R,GAAD,OAAUA,EAAKM,YAAeiE,EAAevE,EAAK0E,UAAY1E,EAAK0E,SAAW,OACrG,CAACH,EAAcmN,IAfc,mBAaxBI,EAbwB,KAaTC,EAbS,KAkBzBC,EAA0BzK,mBAC9B,kBAAMuK,EAAcG,QAAO,SAACjS,GAAD,OAAUA,EAAK8P,UAAY,IAAI3O,IAAUnB,EAAK8P,SAAS9B,eAAeI,cAAc,QAC/G,CAAC0D,IAGGI,EAAsB3K,mBAC1B,kBAAMwK,EAAUE,QAAO,SAACjS,GAAD,OAAUA,EAAK8P,UAAY,IAAI3O,IAAUnB,EAAK8P,SAAS9B,eAAeI,cAAc,QAC3G,CAAC2D,IAGGd,EAA0Be,EAAwBG,OAAS,EAEjE,OACE,qCACE,cAACC,EAAA,EAAD,UACC,cAAC,OAAD,CAAMvS,eAAe,gBAAgBoF,cAAe,CAAC,SAAU,KAAM,OAArE,SACG,eAAC,OAAD,CAAMA,cAAc,SAASyJ,GAAI,CAAC,MAAO,GAAzC,UACE,cAAC,UAAD,CAASxE,GAAG,KAAKlH,MAAM,MAAM/D,MAAM,YAAYE,GAAG,OAAlD,SACGf,EAAE,iBAEL,cAAC,UAAD,CAAS4E,MAAM,KAAK/D,MAAM,OAA1B,SACGb,EAAE,iDAKX,eAACiU,EAAA,EAAD,WACA,cAAC,GAAD,CACExB,YAAaA,EACbC,eAAgBA,EAChBC,WAAYA,EACZC,cAAeA,EACfC,wBAAyBA,IAExBJ,EAWD,cAACzM,EAAA,EAAD,UACA,mCACC2M,EACKuB,IAAQN,EAAyB,CAAC,cAAcO,KAAI,SAACvS,GAAD,OAClD,cAAC,GAAD,CAAkCA,KAAMA,EAAMwF,QAASA,GAAnCxF,EAAK0G,YAE3B4L,IAAQR,EAAe,CAAC,cAAcS,KAAI,SAACvS,GAAD,OACxC,cAAC,GAAD,CAAkCA,KAAMA,EAAMwF,QAASA,GAAnCxF,EAAK0G,gBAlBlB,cAACtC,EAAA,EAAD,UACb,mCACG2M,EACGuB,IAAQJ,EAAqB,CAAC,cAAcK,KAAI,SAACvS,GAAD,OAC9C,cAAC,GAAD,CAAkCA,KAAMA,EAAMwF,QAASA,GAAnCxF,EAAK0G,YAE3B4L,IAAQP,EAAW,CAAC,cAAcQ,KAAI,SAACvS,GAAD,OACpC,cAAC,GAAD,CAAkCA,KAAMA,EAAMwF,QAASA,GAAnCxF,EAAK0G,uBC5D9B8L,GAVoB,WAG/B,OAFAC,cAGC,mCACE,cAAC,GAAD,OCGQC,UARoB,WAC/B,OACE,cAACC,EAAA,EAAD,UACE,cAAC,GAAD,Q,4FCUFlQ,EAAkC,SAAC,GAA4E,IAA1EE,EAAyE,EAAzEA,MAAO5D,EAAkE,EAAlEA,SAAUE,EAAwD,EAAxDA,MAAO2C,EAAiD,EAAjDA,SAAUc,EAAuC,EAAvCA,WAAYG,EAA2B,EAA3BA,KAAM7D,EAAqB,EAArBA,KAAS2E,EAAY,kFAC5GiP,EAAgBC,iBAAO,GAM7B,OAJAC,qBAAU,WACRF,EAAcG,QAAUpQ,IACvB,CAACA,IAGF,eAAC,OAAD,yBAAM3D,KAAMA,EAAMC,MAAOyD,EAAa,eAAiBzD,EAAOF,SAAUA,GAAc4E,GAAtF,cACE,cAAC,IAAD,CAASqP,MAAOJ,EAAcG,QAASE,IAAKtQ,EAAOf,SAAUA,EAAUsR,SAAU,EAAGC,UAAU,MAC7FxQ,GAASE,GAAQ,+BAAOA,SAK/BJ,EAAQ2Q,aAAe,CACrBrU,SAAU,OACV2D,YAAY,EACZzD,MAAO,OACP2C,SAAU,GAGGa,O,0MCpCT4Q,EAAU,SAAC1P,GAAD,OACd,cAAC,MAAD,yBAAKZ,QAAQ,YAAYuQ,SAAO,EAACC,UAAW,cAAC,eAAD,CAAchR,MAAM,OAAOtD,MAAM,YAAYyP,GAAG,SAAc/K,GAA1G,wBAKI6P,EAAe,SAAC7P,GAAD,OACnB,cAAC,MAAD,yBAAKZ,QAAQ,aAAauQ,SAAO,EAACC,UAAW,cAAC,gBAAD,CAAehR,MAAM,OAAOtD,MAAM,YAAYyP,GAAG,SAAc/K,GAA5G,6BAiBI8P,EAAgB,SAAC9P,GAAD,OACpB,cAAC,MAAD,yBAAKZ,QAAQ,YAAYuQ,SAAO,EAACC,UAAW,cAAC,cAAD,CAAahR,MAAM,OAAOtD,MAAM,YAAYyP,GAAG,SAAc/K,GAAzG,0BAKI+P,EAAqB,SAAC/P,GAAD,OACzB,cAAC,MAAD,yBAAKZ,QAAQ,UAAUuQ,SAAO,EAACC,UAAW,cAAC,gBAAD,CAAehR,MAAM,OAAOtD,MAAM,UAAUyP,GAAG,SAAc/K,GAAvG,yB,mGCTa+M,IAlBM,SAAC/M,GAAW,IACvBvF,EAAMC,cAAND,EADsB,EAGJuV,cAAlBC,EAHsB,EAGtBA,MAAOC,EAHe,EAGfA,OAEPC,EAAYC,cAAZD,QAEFE,EAAa,OAAGF,QAAH,IAAGA,IAAWG,cAEzBC,EAA0BC,yBAAeP,EAAOC,EAAQzV,EAAG4V,GAA3DE,sBAER,OACE,cAAC,SAAD,yBAAQpR,QAASoR,GAA2BvQ,GAA5C,aACGvF,EAAE,sB,8CClBHgW,E,KAAa7W,QAAOC,IAAV,4NAaD4W,O,oDCQAxC,IAlBS,SAACyC,EAAmBC,GAA6B,IAAD,EAC5C7O,oBAAS,WACjC,IACE,IAAM8O,EAAcC,aAAaC,QAAQH,GAEzC,OAAOC,EAAcG,KAAKC,MAAMJ,GAAeF,EAC/C,MAAO7L,GACP,OAAO6L,MAP2D,mBAC/D1R,EAD+D,KACxDiS,EADwD,KAetE,OAJA9B,qBAAU,WACR0B,aAAaK,QAAQP,EAAiBI,KAAKI,UAAUnS,MACpD,CAACA,EAAO2R,IAEJ,CAAC3R,EAAOiS,K,uICfXG,EAAQxX,kBAAO0G,MAAP1G,CAAH,gDACK,gBAAG8F,EAAH,EAAGA,MAAH,SAAUQ,YAA+BR,EAAMC,OAAO4C,UAAU8O,aAG1EC,EAAQ1X,kBAAO2X,IAAP3X,CAAH,2EAWI6U,EAN4C,SAAC,GAAD,IAAGvO,EAAH,EAAGA,WAAY0G,EAAf,EAAeA,SAAa5G,EAA5B,gDACzD,cAACoR,EAAD,yBAAOlR,WAAYA,GAAgBF,GAAnC,aACE,cAACsR,EAAD,UAAQ1K,S,iCChBZ,oEAAO,IAAM/L,EAA2C,SAAC,GAOlD,IANLC,EAMI,EANJA,aACAC,EAKI,EALJA,QACAd,EAII,EAJJA,WAII,IAHJK,wBAGI,MAHe,EAGf,MAFJC,yBAEI,MAFgB,EAEhB,MADJC,sBACI,MADa,EACb,EAEEgX,EAAkB,IAAMjX,EAE1BkX,EAAe1W,EAAU,IAEzBP,IAIFiX,GADoB1W,EADMA,EAAU,IAAOP,GAEd,KAG/B,IAAMkX,EAAsB5W,EAAe,IAErC6W,EAAY,IAAO1X,EAEnB2X,EAAcD,EAAS,SAAI,EAAIF,EAAeD,EAAqBA,EAAkBE,GAI3F,OAAOxT,YAFgB0T,EAAcD,GAEJ/V,QAAQtB,KAG9BmB,EAAS,SAAC,GAErB,OAF0D,EAAnCC,aAAmC,EAArBC,eACgB","file":"static/js/6.a577ff24.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { Modal, Text, LinkExternal, Flex, Box } from 'uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { tokenEarnedPerThousandDollarsCompounding, getRoi } from 'utils/compoundApyHelpers'\n\ninterface ApyCalculatorModalProps {\n  onDismiss?: () => void\n  tokenPrice: number\n  apr: number\n  linkLabel: string\n  linkHref: string\n  earningTokenSymbol?: string\n  roundingDecimals?: number\n  compoundFrequency?: number\n  performanceFee?: number\n}\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(4, auto);\n  margin-bottom: 24px;\n`\n\nconst GridItem = styled.div`\n  margin-bottom: '10px';\n`\n\nconst ApyCalculatorModal: React.FC<ApyCalculatorModalProps> = ({\n  onDismiss,\n  tokenPrice,\n  apr,\n  linkLabel,\n  linkHref,\n  earningTokenSymbol = 'CAKE',\n  roundingDecimals = 2,\n  compoundFrequency = 1,\n  performanceFee = 0,\n}) => {\n  const { t } = useTranslation()\n  const oneThousandDollarsWorthOfToken = 1000 / tokenPrice\n\n  const tokenEarnedPerThousand1D = tokenEarnedPerThousandDollarsCompounding({\n    numberOfDays: 1,\n    farmApr: apr,\n    tokenPrice,\n    roundingDecimals,\n    compoundFrequency,\n    performanceFee,\n  })\n  const tokenEarnedPerThousand7D = tokenEarnedPerThousandDollarsCompounding({\n    numberOfDays: 7,\n    farmApr: apr,\n    tokenPrice,\n    roundingDecimals,\n    compoundFrequency,\n    performanceFee,\n  })\n  const tokenEarnedPerThousand30D = tokenEarnedPerThousandDollarsCompounding({\n    numberOfDays: 30,\n    farmApr: apr,\n    tokenPrice,\n    roundingDecimals,\n    compoundFrequency,\n    performanceFee,\n  })\n  const tokenEarnedPerThousand365D = tokenEarnedPerThousandDollarsCompounding({\n    numberOfDays: 365,\n    farmApr: apr,\n    tokenPrice,\n    roundingDecimals,\n    compoundFrequency,\n    performanceFee,\n  })\n\n  return (\n    <Modal title=\"ROI\" onDismiss={onDismiss}>\n      <Grid>\n        <GridItem>\n          <Text fontSize=\"12px\" bold color=\"textSubtle\" textTransform=\"uppercase\" mb=\"20px\">\n            {t('Timeframe')}\n          </Text>\n        </GridItem>\n        <GridItem>\n          <Text fontSize=\"12px\" bold color=\"textSubtle\" textTransform=\"uppercase\" mb=\"20px\">\n            {t('ROI')}\n          </Text>\n        </GridItem>\n        <GridItem>\n          <Text fontSize=\"12px\" bold color=\"textSubtle\" textTransform=\"uppercase\" mb=\"20px\">\n            {earningTokenSymbol} {t('per')} $1000\n          </Text>\n        </GridItem>\n        {/* 1 day row */}\n        <GridItem>\n          <Text>1d</Text>\n        </GridItem>\n        <GridItem>\n          <Text>\n            {getRoi({ amountEarned: tokenEarnedPerThousand1D, amountInvested: oneThousandDollarsWorthOfToken }).toFixed(\n              roundingDecimals,\n            )}\n            %\n          </Text>\n        </GridItem>\n        <GridItem>\n          <Text>{tokenEarnedPerThousand1D}</Text>\n        </GridItem>\n        {/* 7 day row */}\n        <GridItem>\n          <Text>7d</Text>\n        </GridItem>\n        <GridItem>\n          <Text>\n            {getRoi({ amountEarned: tokenEarnedPerThousand7D, amountInvested: oneThousandDollarsWorthOfToken }).toFixed(\n              roundingDecimals,\n            )}\n            %\n          </Text>\n        </GridItem>\n        <GridItem>\n          <Text>{tokenEarnedPerThousand7D}</Text>\n        </GridItem>\n        {/* 30 day row */}\n        <GridItem>\n          <Text>30d</Text>\n        </GridItem>\n        <GridItem>\n          <Text>\n            {getRoi({\n              amountEarned: tokenEarnedPerThousand30D,\n              amountInvested: oneThousandDollarsWorthOfToken,\n            }).toFixed(roundingDecimals)}\n            %\n          </Text>\n        </GridItem>\n        <GridItem>\n          <Text>{tokenEarnedPerThousand30D}</Text>\n        </GridItem>\n        {/* 365 day / APY row */}\n        <GridItem>\n          <Text>365d(APY)</Text>\n        </GridItem>\n        <GridItem>\n          <Text>\n            {getRoi({\n              amountEarned: tokenEarnedPerThousand365D,\n              amountInvested: oneThousandDollarsWorthOfToken,\n            }).toFixed(roundingDecimals)}\n            %\n          </Text>\n        </GridItem>\n        <GridItem>\n          <Text>{tokenEarnedPerThousand365D}</Text>\n        </GridItem>\n      </Grid>\n      <Box mb=\"28px\" maxWidth=\"280px\">\n        <Text fontSize=\"12px\" color=\"textSubtle\">\n          {t(\n            `Calculated based on current rates. Compounding %freq%x daily. Rates are estimates provided for your convenience only, and by no means represent guaranteed returns.`,\n            { freq: compoundFrequency.toLocaleString() },\n          )}\n        </Text>\n        {performanceFee > 0 && (\n          <Text mt=\"14px\" fontSize=\"12px\" color=\"textSubtle\">\n            {t(`All estimated rates take into account this pool's %fee%% performance fee`, { fee: performanceFee })}\n          </Text>\n        )}\n      </Box>\n      <Flex justifyContent=\"center\">\n        <LinkExternal href={linkHref}>{linkLabel}</LinkExternal>\n      </Flex>\n    </Modal>\n  )\n}\n\nexport default ApyCalculatorModal\n","import React from 'react'\nimport { Flex, TooltipText, IconButton, useModal, CalculateIcon, Skeleton, useTooltip } from 'uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { getPoolApr } from 'utils/apr'\nimport { tokenEarnedPerThousandDollarsCompounding, getRoi } from 'utils/compoundApyHelpers'\nimport { useGetApiPrice } from 'state/hooks'\nimport Balance from 'components/Balance'\nimport ApyCalculatorModal from 'components/ApyCalculatorModal'\nimport { SyrupPool } from 'state/types'\n\ninterface AprRowProps {\n  pool: SyrupPool\n  stakingTokenPrice: number\n  isAutoVault?: boolean\n  compoundFrequency?: number\n  performanceFee?: number\n}\n\nconst AprRow: React.FC<AprRowProps> = ({\n  pool,\n  stakingTokenPrice,\n  isAutoVault = false,\n  compoundFrequency = 1,\n  performanceFee = 0,\n}) => {\n  const { t } = useTranslation()\n\n  const { stakingToken, earningToken, totalStaked, isFinished, tokenPerBlock } = pool\n\n  const tooltipContent = isAutoVault\n    ? t('APY includes compounding, APR doesn’t. This pool’s CAKE is compounded automatically, so we show APY.')\n    : t('This pool’s rewards aren’t compounded automatically, so we show APR')\n\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(tooltipContent, { placement: 'bottom-end' })\n\n  const earningTokenPrice = useGetApiPrice(earningToken.address ? earningToken.address : '')\n  \n  const apr = getPoolApr(\n    stakingTokenPrice,\n    earningTokenPrice,\n    getBalanceNumber(totalStaked, stakingToken.decimals),\n    parseFloat(tokenPerBlock),\n  )\n\n  // special handling for tokens like tBTC or BIFI where the daily token rewards for $1000 dollars will be less than 0.001 of that token\n  const isHighValueToken = Math.round(earningTokenPrice / 1000) > 0\n  const roundingDecimals = isHighValueToken ? 4 : 2\n\n  const earningsPercentageToDisplay = () => {\n    if (isAutoVault) {\n      const oneThousandDollarsWorthOfToken = 1000 / earningTokenPrice\n      const tokenEarnedPerThousand365D = tokenEarnedPerThousandDollarsCompounding({\n        numberOfDays: 365,\n        farmApr: apr,\n        tokenPrice: earningTokenPrice,\n        roundingDecimals,\n        compoundFrequency,\n        performanceFee,\n      })\n      return getRoi({\n        amountEarned: tokenEarnedPerThousand365D,\n        amountInvested: oneThousandDollarsWorthOfToken,\n      })\n    }\n    return apr\n  }\n\n  const apyModalLink =\n    stakingToken.address && `$/#/swap?outputCurrency=${stakingToken.address}`\n\n  const [onPresentApyModal] = useModal(\n    <ApyCalculatorModal\n      tokenPrice={earningTokenPrice}\n      apr={apr}\n      linkLabel={`${t('Get')} ${stakingToken.symbol}`}\n      linkHref={apyModalLink || '/#/swap'}\n      earningTokenSymbol={earningToken.symbol}\n      roundingDecimals={isHighValueToken ? 4 : 2}\n      compoundFrequency={compoundFrequency}\n      performanceFee={performanceFee}\n    />,\n  )\n\n  return (\n    <Flex alignItems=\"center\" justifyContent=\"space-between\">\n      {tooltipVisible && tooltip}\n      <TooltipText ref={targetRef}>{isAutoVault ? t('APY') : t('APR')}:</TooltipText>\n      {isFinished || !apr ? (\n        <Skeleton width=\"82px\" height=\"32px\" />\n      ) : (\n        <Flex alignItems=\"center\">\n          <Balance\n            fontSize=\"16px\"\n            isDisabled={isFinished}\n            value={earningsPercentageToDisplay()}\n            decimals={2}\n            unit=\"%\"\n            bold\n          />\n          <IconButton onClick={onPresentApyModal} variant=\"text\" scale=\"sm\">\n            <CalculateIcon color=\"textSubtle\" width=\"18px\" />\n          </IconButton>\n        </Flex>\n      )}\n    </Flex>\n  )\n}\n\nexport default AprRow\n","import BigNumber from 'bignumber.js'\nimport { BLOCKS_PER_YEAR, CAKE_PER_BLOCK } from 'sdk'\n\n/**\n * Get the APR value in %\n * @param stakingTokenPrice Token price in the same quote currency\n * @param rewardTokenPrice Token price in the same quote currency\n * @param totalStaked Total amount of stakingToken in the pool\n * @param tokenPerBlock Amount of new cake allocated to the pool for each new block\n * @returns Null if the APR is NaN or infinite.\n */\nexport const getPoolApr = (\n  stakingTokenPrice: number,\n  rewardTokenPrice: number,\n  totalStaked: number,\n  tokenPerBlock: number,\n): number => {\n  const totalRewardPricePerYear = new BigNumber(rewardTokenPrice).times(tokenPerBlock).times(BLOCKS_PER_YEAR)\n  const totalStakingTokenInPool = new BigNumber(stakingTokenPrice).times(totalStaked)\n  const apr = totalRewardPricePerYear.div(totalStakingTokenInPool).times(100)\n  return apr.isNaN() || !apr.isFinite() ? null : apr.toNumber()\n}\n\n/**\n * Get farm APR value in %\n * @param poolWeight allocationPoint / totalAllocationPoint\n * @param cakePriceUsd Cake price in USD\n * @param poolLiquidityUsd Total pool liquidity in USD\n * @returns\n */\nexport const getFarmApr = (poolWeight: BigNumber, cakePriceUsd: BigNumber, poolLiquidityUsd: BigNumber): number => {\n  const yearlyCakeRewardAllocation = CAKE_PER_BLOCK.times(BLOCKS_PER_YEAR).times(poolWeight)\n  const apr = yearlyCakeRewardAllocation.times(cakePriceUsd).div(poolLiquidityUsd).times(100)\n  return apr.isNaN() || !apr.isFinite() ? null : apr.toNumber()\n}\n\nexport default null\n","import styled, { css, keyframes } from 'styled-components'\nimport { Card, Box } from 'uikit'\n\nconst PromotedGradient = keyframes`\n  0% {\n    background-position: 50% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 50% 0%;\n  }\n`\n\nexport const StyledCard = styled(Card)<{ isPromotedPool?: boolean; isFinished?: boolean }>`\n  max-width: 352px;\n  margin: 0 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ${({ isFinished, theme }) => theme.colors[isFinished ? 'textDisabled' : 'secondary']};\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n\n  ${({ isPromotedPool, theme }) =>\n    isPromotedPool\n      ? css`\n          background: linear-gradient(180deg, ${theme.colors.primaryBright}, ${theme.colors.secondary});\n          padding: 1px 1px 3px 1px;\n          background-size: 400% 400%;\n          animation: ${PromotedGradient} 3s ease infinite;\n        `\n      : `background: ${(props) => props.theme.card.background};`}\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    margin: 0 12px 46px;\n  }\n`\n\nexport const StyledCardInner = styled(Box)<{ isPromotedPool?: boolean }>`\n  background: ${({ theme }) => theme.card.background};\n  border-radius: ${({ isPromotedPool, theme }) => (isPromotedPool ? '31px' : theme.radii.card)};\n`\n\nexport default StyledCard\n","import React from 'react'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { useTranslation } from 'contexts/Localization'\nimport {\n  Flex,\n  Text,\n  TooltipText,\n  TimerIcon,\n  Skeleton,\n  useTooltip,\n} from 'uikit'\n\nimport { useBlock } from 'state/hooks'\n\nimport { SyrupPool } from 'state/types'\n\nimport Balance from 'components/Balance'\n\ninterface ExpandedFooterProps {\n  pool: SyrupPool\n  account: string\n  performanceFee?: number\n  isAutoVault?: boolean\n  totalCakeInVault?: BigNumber\n}\n\nconst ExpandedWrapper = styled(Flex)`\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n`\n\nconst ExpandedFooter: React.FC<ExpandedFooterProps> = ({\n  pool,\n  performanceFee = 0,\n  isAutoVault = false,\n  totalCakeInVault,\n}) => {\n  const { t } = useTranslation()\n\n  const { currentBlock } = useBlock()\n  \n  const { stakingToken, totalStaked, startBlock, endBlock, isFinished } = pool\n\n  const shouldShowBlockCountdown = Boolean(!isFinished && startBlock && endBlock)\n\n  const blocksUntilStart = Math.max(startBlock - currentBlock, 0)\n\n  const blocksRemaining = Math.max(endBlock - currentBlock, 0)\n\n  const hasPoolStarted = blocksUntilStart === 0 && blocksRemaining > 0\n\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(\n    t('Subtracted automatically from each yield harvest and burned.'),\n    { placement: 'bottom-end' },\n  )\n\n  return (\n    <ExpandedWrapper flexDirection=\"column\">\n      <Flex mb=\"2px\" justifyContent=\"space-between\" alignItems=\"center\">\n        <Text small>{t('Total staked')}:</Text>\n        <Flex alignItems=\"flex-start\">\n          {totalStaked ? (\n            <>\n              <Balance\n                fontSize=\"14px\"\n                value={\n                  isAutoVault\n                    ? getBalanceNumber(totalCakeInVault, stakingToken.decimals)\n                    : getBalanceNumber(totalStaked, stakingToken.decimals)\n                }\n              />\n              <Text ml=\"4px\" fontSize=\"14px\">\n                {stakingToken.symbol}\n              </Text>\n            </>\n          ) : (\n            <Skeleton width=\"90px\" height=\"21px\" />\n          )}\n        </Flex>\n      </Flex>\n      {shouldShowBlockCountdown && (\n        <Flex mb=\"2px\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Text small>{hasPoolStarted ? t('End') : t('Start')}:</Text>\n          <Flex alignItems=\"center\">\n            {blocksRemaining || blocksUntilStart ? (\n              <Balance\n                color=\"primary\"\n                fontSize=\"14px\"\n                value={hasPoolStarted ? blocksRemaining : blocksUntilStart}\n                decimals={0}\n              />\n            ) : (\n              <Skeleton width=\"54px\" height=\"21px\" />\n            )}\n            <Text ml=\"4px\" color=\"primary\" small>\n              {t('blocks')}\n            </Text>\n            <TimerIcon ml=\"4px\" color=\"primary\" />\n          </Flex>\n        </Flex>\n      )}\n      {isAutoVault && (\n        <Flex mb=\"2px\" justifyContent=\"space-between\" alignItems=\"center\">\n          {tooltipVisible && tooltip}\n          <TooltipText ref={targetRef} small>\n            {t('Performance Fee')}\n          </TooltipText>\n          <Flex alignItems=\"center\">\n            <Text ml=\"4px\" small>\n              {performanceFee / 100}%\n            </Text>\n          </Flex>\n        </Flex>\n      )}\n    </ExpandedWrapper>\n  )\n}\n\nexport default React.memo(ExpandedFooter)\n","import React, { useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport { Flex, CardFooter, ExpandableLabel, HelpIcon, useTooltip, Box } from 'uikit'\nimport { SyrupPool } from 'state/types'\nimport { CompoundingPoolTag, ManualPoolTag } from 'components/Tags'\nimport ExpandedFooter from './ExpandedFooter'\n\ninterface FooterProps {\n  pool: SyrupPool\n  account: string\n  performanceFee?: number\n  isAutoVault?: boolean\n  totalCakeInVault?: BigNumber\n}\n\nconst ExpandableButtonWrapper = styled(Flex)`\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n`\n\nconst Footer: React.FC<FooterProps> = ({\n  pool,\n  account,\n  performanceFee = 0,\n  isAutoVault = false,\n  totalCakeInVault,\n}) => {\n  const { t } = useTranslation()\n  \n  const [isExpanded, setIsExpanded] = useState(false)\n\n  const manualTooltipText = t('You must harvest and compound your earnings from this pool manually.')\n  const autoTooltipText = t(\n    'Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you.',\n  )\n\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(isAutoVault ? autoTooltipText : manualTooltipText, {\n    placement: 'bottom-end',\n  })\n\n  return (\n    <CardFooter>\n      <ExpandableButtonWrapper>\n        <Flex alignItems=\"center\">\n          {isAutoVault ? <CompoundingPoolTag /> : <ManualPoolTag />}\n          {tooltipVisible && tooltip}\n          <Box ref={targetRef}>\n            <HelpIcon ml=\"4px\" width=\"20px\" height=\"20px\" color=\"textSubtle\" />\n          </Box>\n        </Flex>\n        <ExpandableLabel expanded={isExpanded} onClick={() => setIsExpanded(!isExpanded)}>\n          {isExpanded ? t('Hide') : t('Details')}\n        </ExpandableLabel>\n      </ExpandableButtonWrapper>\n      {isExpanded && (\n        <ExpandedFooter\n          pool={pool}\n          account={account}\n          performanceFee={performanceFee}\n          isAutoVault={isAutoVault}\n          totalCakeInVault={totalCakeInVault}\n        />\n      )}\n    </CardFooter>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { CardHeader, Heading, Text, Flex } from 'uikit'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\n\nconst Wrapper = styled(CardHeader)<{ isFinished?: boolean; background?: string; isPromotedPool?: boolean }>`\n  background: ${({ isFinished, background, theme }) =>\n    isFinished ? theme.colors.backgroundDisabled : theme.colors.gradients[background]};\n  border-radius: ${({ theme, isPromotedPool }) =>\n    isPromotedPool ? '31px 31px 0 0' : `${theme.radii.card} ${theme.radii.card} 0 0`};\n`\n\nconst StyledCardHeader: React.FC<{\n  earningTokenSymbol: string\n  stakingTokenSymbol: string\n  isAutoVault?: boolean\n  isFinished?: boolean\n  isStaking?: boolean\n  isPromotedPool?: boolean\n}> = ({\n  earningTokenSymbol,\n  stakingTokenSymbol,\n  isFinished = false,\n  isAutoVault = false,\n  isStaking = false,\n  isPromotedPool = false,\n}) => {\n  const { t } = useTranslation()\n \n  const isCakePool = earningTokenSymbol === 'CAKE' && stakingTokenSymbol === 'CAKE'\n  const background = isStaking ? 'bubblegum' : 'cardHeader'\n\n  const getHeadingPrefix = () => {\n    if (isAutoVault) {\n      // vault\n      return `${t('Auto')}`\n    }\n    if (isCakePool) {\n      // manual cake\n      return `${t('Manual')}`\n    }\n    // all other pools\n    return `${t('Earn')}`\n  }\n\n  const getSubHeading = () => {\n    if (isAutoVault) {\n      return `${t('Automatic restaking')}`\n    }\n    if (isCakePool) {\n      return `${t('Earn CAKE, stake CAKE')}`\n    }\n    return `${t('Stake')} ${stakingTokenSymbol}`\n  }\n\n  return (\n    <Wrapper isPromotedPool={isPromotedPool} isFinished={isFinished} background={background}>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\">\n        <Flex flexDirection=\"column\">\n          <Heading color={isFinished ? 'textDisabled' : 'body'} scale=\"lg\">\n            {`${getHeadingPrefix()} ${earningTokenSymbol}`}\n          </Heading>\n          <Text color={isFinished ? 'textDisabled' : 'textSubtle'}>{getSubHeading()}</Text>\n        </Flex>\n      </Flex>\n    </Wrapper>\n  )\n}\n\nexport default StyledCardHeader\n","import React, { useState, useCallback } from 'react'\nimport { Button, AutoRenewIcon, Skeleton } from 'uikit'\nimport { ApprovalState } from 'hooks/useApproveCallback'\nimport useSyrupApprove from 'hooks/useSyrupApprove'\nimport { useTranslation } from 'contexts/Localization'\nimport useToast from 'hooks/useToast'\nimport { SyrupPool } from 'state/types'\n\ninterface ApprovalActionProps {\n  pool: SyrupPool\n\n  isLoading?: boolean\n\n  setNeedsApproval\n}\n\nconst ApprovalAction: React.FC<ApprovalActionProps> = ({ pool, isLoading = false, setNeedsApproval}) => {\n  const { syrupId, stakingToken, earningToken, isFinished } = pool\n\n  const { t } = useTranslation()\n\n  const [requestedApproval, setRequestedApproval] = useState(false)\n\n  const callback = () =>\n  {\n    toastSuccess(`${t('Contract Enabled')}`, `${t(`You can now stake in the ${earningToken.symbol} pool!`)}`)\n       \n    setRequestedApproval(false)\n\n    setNeedsApproval(false)\n  }\n\n  const [ approvalState, approveCallback ] = useSyrupApprove(stakingToken, syrupId, callback)\n\n  const { toastSuccess, toastError } = useToast()\n\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n\n      await approveCallback()\n      \n      if (approvalState ===  ApprovalState.UNKNOWN) {\n        // user rejected tx or didn't go thru\n        toastError(\n          `${t('Error')}`,\n          `${t(`Please try again. Confirm the transaction and make sure you are paying enough gas!`)}`,\n        )\n\n        setRequestedApproval(false)\n      }  else if (approvalState === ApprovalState.APPROVED)\n      {\n        toastSuccess(`${t('Contract Enabled')}`, `${t(`You can now stake in the ${earningToken.symbol} pool!`)}`)\n       \n        setRequestedApproval(false)\n    \n        setNeedsApproval(false)\n      }\n    } catch (e) {\n      console.error(e)\n      toastError('Error', e?.message)\n    }\n  }, [approvalState, approveCallback, setRequestedApproval, toastError, t, earningToken, setNeedsApproval, toastSuccess])\n\n  return (\n    <>\n      {isLoading ? (\n        <Skeleton width=\"100%\" height=\"52px\" />\n      ) : (\n        <Button\n          isLoading={requestedApproval}\n          endIcon={requestedApproval ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n          disabled={isFinished || requestedApproval}\n          onClick={handleApprove}\n          width=\"100%\"\n        >\n          {t('Enable')}\n        </Button>\n      )}\n    </>\n  )\n}\n\nexport default ApprovalAction\n","import { useCallback, useMemo } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { MaxUint256 } from '@ethersproject/constants'\nimport { useWeb3React } from '@web3-react/core'\nimport { Token } from 'sdk'\nimport { getSyrupPoolContractAddress } from 'utils/addressHelpers'\nimport { useAppDispatch } from 'state'\nimport { updateUserAllowance } from 'state/actions'\nimport { calculateGasMargin } from '../utils'\nimport { ApprovalState } from './useApproveCallback'\nimport { useTokenContract } from './useContract'\nimport { useSingleCallResult } from '../state/multicall/hooks'\n\nexport default function useSyrupApprove(\n  token: Token, syrupId, callback: any\n): [ApprovalState, () => Promise<void>] {\n  const { account } = useWeb3React()\n\n  const dispatch = useAppDispatch()\n  \n  const syrupPoolContract = getSyrupPoolContractAddress(syrupId)\n\n  const tokenContract = useTokenContract(token.address)\n\n  const inputs = useMemo(() => [account, syrupPoolContract], [account, syrupPoolContract])\n\n  const allowance = useSingleCallResult(tokenContract, 'allowance', inputs).result\n\n  const [ currentallowance ] = useMemo(() => [allowance ? new BigNumber(allowance.toString()) : undefined], [allowance])\n\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    if (!token || !syrupPoolContract) return ApprovalState.UNKNOWN\n\n    if (!currentallowance) return ApprovalState.UNKNOWN\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentallowance.gt(0) ? ApprovalState.APPROVED : ApprovalState.NOT_APPROVED\n  }, [token, syrupPoolContract, currentallowance])\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily')\n\n      return\n    }\n\n    if (!tokenContract) {\n      console.error('tokenContract is null')\n\n      return\n    }\n\n    if (!syrupPoolContract) {\n      console.error('no spender')\n\n      return\n    }\n\n    const estimatedGas = await tokenContract.estimateGas.approve(syrupPoolContract, MaxUint256)\n\n    // eslint-disable-next-line consistent-return\n    tokenContract\n           .approve(syrupPoolContract, MaxUint256, { gasLimit: calculateGasMargin(estimatedGas) })\n           .then(() => {\n            dispatch(updateUserAllowance(syrupId, account))\n\n            callback()\n      })\n      .catch((error: Error) => {\n        console.error('Failed to approve token', error)\n        throw error\n      })\n  }, [approvalState, tokenContract, syrupPoolContract, dispatch, syrupId, account, callback])\n\n  return [approvalState, approve]\n}\n\n \n \n","import React from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport { Modal, Text, Button } from 'uikit'\nimport useTheme from 'hooks/useTheme'\n\ninterface NotEnoughTokensModalProps {\n  tokenSymbol: string\n  onDismiss?: () => void\n}\n\nconst NotEnoughTokensModal: React.FC<NotEnoughTokensModalProps> = ({ tokenSymbol, onDismiss }) => {\n  const { t } = useTranslation()\n  const { theme } = useTheme()\n\n  return (\n    <Modal\n      title={`${tokenSymbol} ${t('required')}`}\n      onDismiss={onDismiss}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >   \n      <Text color=\"failure\" bold>\n        {t('insufficientBalance', { name: tokenSymbol })}\n      </Text>\n      <Text mt=\"24px\">{t(`You’ll need %tokensymbol% to stake in this pool!`, { tokensymbol: tokenSymbol })}</Text>\n      <Text>\n        {t(`Buy some %tokensymbol%, or make sure your %tokensymbol% isn’t in another pool or LP.`, {\n          tokensymbol: tokenSymbol,\n        })}\n      </Text>\n      <Button mt=\"24px\" as=\"a\" external href=\"/#/swap\">\n        {t('Buy')} {tokenSymbol}\n      </Button>\n      <Button variant=\"text\" onClick={onDismiss}>\n        {t('Close window')}\n      </Button>\n    </Modal>\n  )\n}\n\nexport default NotEnoughTokensModal\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Button } from 'uikit'\n\ninterface PercentageButtonProps {\n  onClick: () => void\n}\n\nconst StyledButton = styled(Button)`\n  flex-grow: 1;\n`\n\nconst PercentageButton: React.FC<PercentageButtonProps> = ({ children, onClick }) => {\n  return (\n    <StyledButton scale=\"xs\" mx=\"2px\" p=\"4px 16px\" variant=\"tertiary\" onClick={onClick}>\n      {children}\n    </StyledButton>\n  )\n}\n\nexport default PercentageButton\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Modal, Text, Flex, Image, Button, Slider, BalanceInput, AutoRenewIcon, Link } from 'uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useSyrupStake from 'hooks/useSyrupStake'\nimport useSyrupUnstake from 'hooks/useSyrupUnstake'\nimport useTheme from 'hooks/useTheme'\nimport useToast from 'hooks/useToast'\nimport BigNumber from 'bignumber.js'\nimport { getFullDisplayBalance, formatNumber, getDecimalAmount } from 'utils/formatBalance'\nimport { SyrupPool } from 'state/types'\nimport PercentageButton from './PercentageButton'\n\ninterface StakeModalProps {\n  pool: SyrupPool\n  stakingMax: BigNumber\n  stakingTokenPrice: number\n  isRemovingStake?: boolean\n  onDismiss?: () => void\n}\n\nconst StyledLink = styled(Link)`\n  width: 100%;\n`\n\nconst StakeModal: React.FC<StakeModalProps> = ({\n  pool,\n  stakingMax,\n  stakingTokenPrice,\n  isRemovingStake = false,\n  onDismiss,\n}) => {\n  const { syrupId, stakingToken, earningToken } = pool\n\n  const { t } = useTranslation()\n\n  const { theme } = useTheme()\n\n  const stakeCall = () =>\n  {\n    toastSuccess(`${t('Staked')}!`, t(`Your ${stakingToken.symbol} funds have been staked in the pool!`))\n\n    setPendingTx(false)\n    \n    onDismiss()\n  }\n\n  const [ onStake ] = useSyrupStake(syrupId, stakeCall)\n\n  const unstakeCall = () =>\n  {\n    toastSuccess(\n      `${t('Unstaked')}!`,\n      t(`Your ${earningToken.symbol} earnings have also been harvested to your wallet!`),\n    )\n\n    setPendingTx(false)\n    \n    onDismiss()\n  }\n\n  const [ onUnstake ] = useSyrupUnstake(syrupId, pool.enableEmergencyWithdraw, unstakeCall)\n\n  const { toastSuccess, toastError } = useToast()\n\n  const [pendingTx, setPendingTx] = useState(false)\n\n  const [stakeAmount, setStakeAmount] = useState('')\n\n  const [percent, setPercent] = useState(0)\n\n  const usdValueStaked = stakeAmount && formatNumber(new BigNumber(stakeAmount).times(stakingTokenPrice).toNumber())\n\n  const handleStakeInputChange = (input: string) => {\n    if (input) {\n      const convertedInput = getDecimalAmount(new BigNumber(input), stakingToken.decimals)\n      const percentage = Math.floor(convertedInput.dividedBy(stakingMax).multipliedBy(100).toNumber())\n      setPercent(Math.min(percentage, 100))\n    } else {\n      setPercent(0)\n    }\n    setStakeAmount(input)\n  }\n\n  const handleChangePercent = (sliderPercent: number) => {\n    if (sliderPercent > 0) {\n      const percentageOfStakingMax = stakingMax.dividedBy(100).multipliedBy(sliderPercent)\n      const amountToStake = getFullDisplayBalance(percentageOfStakingMax, stakingToken.decimals, stakingToken.decimals)\n      setStakeAmount(amountToStake)\n    } else {\n      setStakeAmount('')\n    }\n    setPercent(sliderPercent)\n  }\n\n  const handleConfirmClick = async () => {\n    setPendingTx(true)\n\n    if (isRemovingStake) {\n      // unstaking\n      try {\n        await onUnstake(stakeAmount, stakingToken.decimals)\n      } catch (e) {\n        toastError(t('Canceled'), t('Please try again and confirm the transaction.'))\n        setPendingTx(false)\n      }\n    } else {\n      try {\n        // staking\n        await onStake(stakeAmount, stakingToken.decimals)\n\n      } catch (e) {\n        toastError(t('Canceled'), t('Please try again and confirm the transaction.'))\n        setPendingTx(false)\n      }\n    }\n  }\n\n  return (\n    <Modal\n      title={isRemovingStake ? t('Unstake') : t('Stake in Syrup Pool')}\n      onDismiss={onDismiss}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\n        <Text bold>{isRemovingStake ? t('Unstake') : t('Stake')}:</Text>\n        <Flex alignItems=\"center\" minWidth=\"70px\">\n          <Image src={`/images/coins/${stakingToken.address}.png`} width={24} height={24} alt={stakingToken.symbol} />\n          <Text ml=\"4px\" bold>\n            {stakingToken.symbol}\n          </Text>\n        </Flex>\n      </Flex>\n      <BalanceInput\n        value={stakeAmount}\n        onUserInput={handleStakeInputChange}\n        currencyValue={`~${usdValueStaked || 0} USD`}\n      />\n      <Text mt=\"8px\" ml=\"auto\" color=\"textSubtle\" fontSize=\"12px\" mb=\"8px\">\n        {t(\"Balance\")}: {getFullDisplayBalance(stakingMax, stakingToken.decimals)}\n      </Text>\n      <Slider\n        min={0}\n        max={100}\n        value={percent}\n        onValueChanged={handleChangePercent}\n        name=\"stake\"\n        valueLabel={`${percent}%`}\n        step={1}\n      />\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mt=\"8px\">\n        <PercentageButton onClick={() => handleChangePercent(25)}>25%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(50)}>50%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(75)}>75%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(100)}>MAX</PercentageButton>\n      </Flex>\n      <Button\n        isLoading={pendingTx}\n        endIcon={pendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n        onClick={handleConfirmClick}\n        disabled={!stakeAmount || parseFloat(stakeAmount) === 0}\n        mt=\"24px\"\n      >\n        {pendingTx ? t('Confirming') : t('Confirm')}\n      </Button>\n      {!isRemovingStake && (\n        <StyledLink external href='/#/swap'>\n          <Button width=\"100%\" mt=\"8px\" variant=\"secondary\">\n            {t('getLP', { name: stakingToken.symbol})}\n          </Button>\n        </StyledLink>\n      )}\n    </Modal>\n  )\n}\n\nexport default StakeModal\n","import { BIG_TEN } from 'sdk'\nimport { useCallback } from 'react'\nimport { useAppDispatch } from 'state'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { updateUserStakedBalance, updateUserBalance } from 'state/actions'\nimport { useSyrupPoolContract } from './useContract'\nimport { calculateGasMargin } from '../utils'\n\nexport default function useSyrupStake(\n  syrupId, callback: any\n): [ (amount: string, decimals: number) => Promise<void>] {\n  const { account } = useWeb3React()\n\n  const dispatch = useAppDispatch()\n\n  const syrupPoolContract = useSyrupPoolContract(syrupId)\n  \n  const onStake = useCallback(async (amount: string, decimals = 18): Promise<void> => {\n    if (!syrupPoolContract) {\n      console.error('syrup pool contract is null')\n\n      return\n    }\n\n    const estimatedGas = await syrupPoolContract.estimateGas.deposit(new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString())\n                                                      \n    // eslint-disable-next-line consistent-return\n    syrupPoolContract\n           .deposit((new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString()), { gasLimit: calculateGasMargin(estimatedGas) })\n           .then(() => {\n              dispatch(updateUserStakedBalance(syrupId, account))\n\n              dispatch(updateUserBalance(syrupId, account))\n\n              callback()\n      })\n      .catch((error: Error) => {\n        console.error('Failed to stake token', error)\n        throw error\n      })\n    \n  }, [syrupPoolContract, dispatch, syrupId, account, callback])\n\n  return [ onStake ]\n}","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { BIG_TEN } from 'sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAppDispatch } from 'state'\nimport {\n  updateUserStakedBalance,\n  updateUserBalance,\n  updateUserPendingReward,\n} from 'state/actions'\nimport { useSyrupPoolContract } from './useContract'\nimport { calculateGasMargin } from '../utils'\n\nexport default function useSyrupUnstake(\n  syrupId, enableEmergencyWithdraw = false, callback: any\n): [ (amount: string, decimals: number) => Promise<void>] {\n  const { account } = useWeb3React()\n\n  const dispatch = useAppDispatch()\n\n  const syrupPoolContract = useSyrupPoolContract(syrupId)\n  \n  const onUnstake = useCallback(async (amount: string, decimals = 18): Promise<void> => {\n    if (!syrupPoolContract) {\n      console.error('syrup pool contract is null')\n\n      return\n    }\n\n    if (enableEmergencyWithdraw) {\n      const estimatedGas_em = await syrupPoolContract.estimateGas.emergencyWithdraw()\n                                                      \n      // eslint-disable-next-line consistent-return\n      syrupPoolContract\n             .emergencyWithdraw({ gasLimit: calculateGasMargin(estimatedGas_em) })\n             .then(() => {\n                callback()\n  \n                dispatch(updateUserStakedBalance(syrupId, account))\n  \n                dispatch(updateUserBalance(syrupId, account))\n          \n                dispatch(updateUserPendingReward(syrupId, account))\n        })\n        .catch((error: Error) => {\n          console.error('Failed to approve token', error)\n          throw error\n        })\n    } \n    else {\n      const estimatedGas = await syrupPoolContract.estimateGas.withdraw(new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString())\n                                                      \n      // eslint-disable-next-line consistent-return\n      syrupPoolContract\n             .withdraw((new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString()), { gasLimit: calculateGasMargin(estimatedGas) })\n             .then(() => {  \n                dispatch(updateUserStakedBalance(syrupId, account))\n  \n                dispatch(updateUserBalance(syrupId, account))\n          \n                dispatch(updateUserPendingReward(syrupId, account))\n\n                callback()\n        })\n        .catch((error: Error) => {\n          console.error('Failed to unstake token', error)\n          throw error\n        })\n    }\n    \n  }, [syrupPoolContract, dispatch, syrupId, account, callback, enableEmergencyWithdraw])\n\n  return [ onUnstake ]\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Flex, Text, Button, IconButton, AddIcon, MinusIcon, useModal, Skeleton } from 'uikit'\nimport BigNumber from 'bignumber.js'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBalanceNumber, getDecimalAmount } from 'utils/formatBalance'\nimport { SyrupPool } from 'state/types'\nimport Balance from 'components/Balance'\nimport NotEnoughTokensModal from '../Modals/NotEnoughTokensModal'\nimport StakeModal from '../Modals/StakeModal'\n\ninterface StakeActionsProps {\n  pool: SyrupPool\n  stakingTokenBalance: BigNumber\n  stakingTokenPrice: number\n  stakedBalance: BigNumber\n  isStaked: ConstrainBoolean\n  isLoading?: boolean\n}\n\nconst InlineBalance = styled(Balance)`\n  display: inline;\n`\n\nconst StakeAction: React.FC<StakeActionsProps> = ({\n  pool,\n  stakingTokenBalance,\n  stakingTokenPrice,\n  stakedBalance,\n  isStaked,\n  isLoading = false,\n}) => {\n  const { stakingToken, earningToken, stakingLimit, isFinished } = pool\n  const { t } = useTranslation()\n  const convertedLimit = getDecimalAmount(new BigNumber(stakingLimit), earningToken.decimals)\n  const stakingMax =\n    stakingLimit && stakingTokenBalance.isGreaterThan(convertedLimit) ? convertedLimit : stakingTokenBalance\n  const stakedTokenBalance = getBalanceNumber(stakedBalance, stakingToken.decimals)\n  const stakedTokenDollarBalance = getBalanceNumber(\n    stakedBalance.multipliedBy(stakingTokenPrice),\n    stakingToken.decimals,\n  )\n\n  const [onPresentTokenRequired] = useModal(<NotEnoughTokensModal tokenSymbol={stakingToken.symbol} />)\n\n  const [onPresentStake] = useModal(\n    <StakeModal stakingMax={stakingMax} pool={pool} stakingTokenPrice={stakingTokenPrice} />,\n  )\n\n  const [onPresentUnstake] = useModal(\n    <StakeModal\n      stakingMax={stakedBalance}\n      pool={pool}\n      stakingTokenPrice={stakingTokenPrice}\n      isRemovingStake\n    />,\n  )\n\n  const renderStakeAction = () => {\n    return isStaked ? (\n      <Flex justifyContent=\"space-between\" alignItems=\"center\">\n        <Flex flexDirection=\"column\">\n          <>\n            <Balance bold fontSize=\"20px\" decimals={3} value={stakedTokenBalance} />\n            <Text fontSize=\"12px\" color=\"textSubtle\">\n              ~\n              <InlineBalance\n                fontSize=\"12px\"\n                color=\"textSubtle\"\n                decimals={2}\n                value={stakedTokenDollarBalance}\n                unit=\" USD\"\n              />\n            </Text>\n          </>\n        </Flex>\n        <Flex>\n          <IconButton variant=\"secondary\" onClick={onPresentUnstake} mr=\"6px\">\n            <MinusIcon color=\"primary\" width=\"24px\" />\n          </IconButton>\n          <IconButton\n            variant=\"secondary\"\n            onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}\n            disabled={isFinished}\n          >\n            <AddIcon color=\"primary\" width=\"24px\" height=\"24px\" />\n          </IconButton>\n        </Flex>\n      </Flex>\n    ) : (\n      <Button disabled={isFinished} onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}>\n        {t('Stake')}\n      </Button>\n    )\n  }\n\n  return <Flex flexDirection=\"column\">{isLoading ? <Skeleton width=\"100%\" height=\"52px\" /> : renderStakeAction()}</Flex>\n}\n\nexport default StakeAction\n","import React, { useState } from 'react'\n\nimport {\n  Modal,\n  Text,\n  Button,\n  Heading,\n  Flex,\n  AutoRenewIcon,\n} from 'uikit'\n\nimport { useTranslation } from 'contexts/Localization'\n\nimport useTheme from 'hooks/useTheme'\n\nimport useSyrupHarvest from 'hooks/useSyrupHarvest'\n\nimport useToast from 'hooks/useToast'\n\nimport { Token } from 'sdk/types'\n\ninterface CollectModalProps {\n  formattedBalance: string\n  fullBalance: string\n  earningToken: Token\n  earningsDollarValue: string\n  syrupId: number\n  onDismiss?: () => void\n}\n\nconst CollectModal: React.FC<CollectModalProps> = ({\n  formattedBalance,\n  earningToken,\n  earningsDollarValue,\n  syrupId,\n  onDismiss,\n}) => {\n  const { t } = useTranslation()\n\n  const { theme } = useTheme()\n\n  const { toastSuccess, toastError } = useToast()\n\n  const rewardCallBack = () =>\n  {\n    toastSuccess(`${t('Harvested')}!`, t(`Your ${earningToken.symbol} earnings have been sent to your wallet!`))\n    \n    setPendingTx(false)\n    \n    onDismiss()\n  }\n\n  const [ onReward ] = useSyrupHarvest(syrupId, rewardCallBack)\n\n  const [pendingTx, setPendingTx] = useState(false)\n\n  const handleHarvestConfirm = async () => {\n    setPendingTx(true)\n\n      // harvesting\n      try {\n        await onReward()\n\n      } catch (e) {\n        toastError(t('Canceled'), t('Please try again and confirm the transaction.'))\n        setPendingTx(false)\n      }\n  }\n\n  return (\n    <Modal\n      title={`${earningToken.symbol} ${t('Harvest')}`}\n      onDismiss={onDismiss}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >\n      <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"24px\">\n        <Text>{t('Harvesting')}:</Text>\n        <Flex flexDirection=\"column\">\n          <Heading>\n            {formattedBalance} {earningToken.symbol}\n          </Heading>\n          <Text fontSize=\"12px\" color=\"textSubtle\">{`~${earningsDollarValue || 0} USD`}</Text>\n        </Flex>\n      </Flex>\n\n      <Button\n        mt=\"8px\"\n        onClick={handleHarvestConfirm}\n        isLoading={pendingTx}\n        endIcon={pendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n      >\n        {pendingTx ? t('Confirming') : t('Confirm')}\n      </Button>\n      <Button variant=\"text\" onClick={onDismiss} pb=\"0px\">\n        {t('Close window')}\n      </Button>\n    </Modal>\n  )\n}\n\nexport default CollectModal\n","import { useCallback } from 'react'\nimport { useAppDispatch } from 'state'\nimport { useWeb3React } from '@web3-react/core'\nimport { updateUserPendingReward, updateUserBalance } from 'state/actions'\nimport { useSyrupPoolContract } from './useContract'\nimport { calculateGasMargin } from '../utils'\n\nexport default function useSyrupHarvest(\n  syrupId, callback: any\n): [ () => Promise<void>] {\n  const { account } = useWeb3React()\n\n  const dispatch = useAppDispatch()\n\n  const syrupPoolContract = useSyrupPoolContract(syrupId)\n  \n  const onReward = useCallback(async (): Promise<void> => {\n    if (!syrupPoolContract) {\n      console.error('syrup pool contract is null')\n\n      return\n    }\n\n    const estimatedGas = await syrupPoolContract.estimateGas.getReward()\n                                                      \n    // eslint-disable-next-line consistent-return\n    syrupPoolContract\n           .getReward({ gasLimit: calculateGasMargin(estimatedGas) })\n           .then(() => {\n              dispatch(updateUserPendingReward(syrupId, account))\n\n              dispatch(updateUserBalance(syrupId, account))\n\n              callback()\n      })\n      .catch((error: Error) => {\n        console.error('Failed to harvest token', error)\n        throw error\n      })\n    \n  }, [syrupPoolContract, dispatch, syrupId, account, callback])\n\n  return [ onReward ]\n}\n\n \n","import React from 'react'\nimport { Flex, Text, Button, Heading, useModal, Skeleton } from 'uikit'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { Token } from 'sdk/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getFullDisplayBalance, getBalanceNumber, formatNumber } from 'utils/formatBalance'\nimport { useGetApiPrice } from 'state/hooks'\nimport Balance from 'components/Balance'\nimport CollectModal from '../Modals/CollectModal'\n\ninterface HarvestActionsProps {\n  earnings: BigNumber\n  earningToken: Token\n  syrupId: number\n  isLoading?: boolean\n}\n\nconst InlineBalance = styled(Balance)`\n  display: inline;\n`\n\nconst HarvestActions: React.FC<HarvestActionsProps> = ({\n  earnings,\n  earningToken,\n  syrupId,\n  isLoading = false,\n}) => {\n  const { t } = useTranslation()\n\n  const earningTokenPrice = useGetApiPrice(earningToken.address ? earningToken.address : '')\n\n  const earningTokenBalance = getBalanceNumber(earnings, earningToken.decimals)\n\n  const earningTokenDollarBalance = getBalanceNumber(earnings.multipliedBy(earningTokenPrice), earningToken.decimals)\n  \n  const fullBalance = getFullDisplayBalance(earnings, earningToken.decimals)\n \n  const formattedBalance = formatNumber(earningTokenBalance, 3, 3)\n \n  const earningsDollarValue = formatNumber(earningTokenDollarBalance)\n \n  const hasEarnings = earnings.toNumber() > 0\n\n  const [onPresentCollect] = useModal(\n    <CollectModal\n      formattedBalance={formattedBalance}\n      fullBalance={fullBalance}\n      earningToken={earningToken}\n      earningsDollarValue={earningsDollarValue}\n      syrupId={syrupId}\n    />,\n  )\n\n  return (\n    <Flex flexDirection=\"column\" mb=\"16px\">\n      <Flex justifyContent=\"space-between\" alignItems=\"center\">\n        <Flex flexDirection=\"column\">\n          {isLoading ? (\n            <Skeleton width=\"80px\" height=\"48px\" />\n          ) : (\n            <>\n              {hasEarnings ? (\n                <Balance bold fontSize=\"20px\" decimals={5} value={earningTokenBalance} />\n              ) : (\n                <Heading color=\"textDisabled\">0</Heading>\n              )}\n              <Text fontSize=\"12px\" color={hasEarnings ? 'textSubtle' : 'textDisabled'}>\n                ~\n                {hasEarnings ? (\n                  <InlineBalance\n                    fontSize=\"12px\"\n                    color=\"textSubtle\"\n                    decimals={2}\n                    value={earningTokenDollarBalance}\n                    unit=\" USD\"\n                  />\n                ) : (\n                  '0 USD'\n                )}\n              </Text>\n            </>\n          )}\n        </Flex>\n        <Flex>\n          <Button disabled={!hasEarnings} onClick={onPresentCollect}>\n            { t('Harvest')}\n          </Button>\n        </Flex>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default HarvestActions\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { BIG_ZERO } from 'sdk'\nimport { Flex, Text, Box } from 'uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { SyrupPool } from 'state/types'\nimport ApprovalAction from './ApprovalAction'\nimport StakeActions from './StakeActions'\nimport HarvestActions from './HarvestActions'\n\nconst InlineText = styled(Text)`\n  display: inline;\n`\n\ninterface CardActionsProps {\n  pool: SyrupPool\n\n  stakedBalance: BigNumber,\n\n  stakingTokenPrice: number\n}\n\nconst CardActions: React.FC<CardActionsProps> = ({ pool, stakedBalance, stakingTokenPrice }) => {\n  const { syrupId, stakingToken, earningToken, harvest, userData } = pool\n  // Pools using native BNB behave differently than pools using a token\n\n  const { t } = useTranslation()\n\n  const stakingTokenBalance = userData?.stakingTokenBalance ? new BigNumber(userData.stakingTokenBalance) : BIG_ZERO\n \n  const allowance = userData?.allowance ? new BigNumber(userData.allowance) : BIG_ZERO\n\n  const earnings = userData?.pendingReward ? new BigNumber(userData.pendingReward) : BIG_ZERO\n \n  const notEnoughAllowance = !allowance.gt(0)\n\n  const [needsApproval, setNeedsApproval] = useState(notEnoughAllowance)\n\n  if(needsApproval !== notEnoughAllowance)\n  {\n    setNeedsApproval(notEnoughAllowance);\n  }\n\n  const isStaked = stakedBalance.gt(0)\n\n  const isLoading = !userData\n\n  return (\n    <Flex flexDirection=\"column\">\n      <Flex flexDirection=\"column\">\n        {harvest && (\n          <>\n            <Box display=\"inline\">\n              <InlineText color=\"secondary\" textTransform=\"uppercase\" bold fontSize=\"12px\">\n                {`${earningToken.symbol} `}\n              </InlineText>\n              <InlineText color=\"textSubtle\" textTransform=\"uppercase\" bold fontSize=\"12px\">\n                {t(`Earned`)}\n              </InlineText>\n            </Box>\n            <HarvestActions\n              earnings={earnings}\n              earningToken={earningToken}\n              syrupId={syrupId}\n              isLoading={isLoading}\n            />\n          </>\n        )}\n        <Box display=\"inline\">\n          <InlineText color={isStaked ? 'secondary' : 'textSubtle'} textTransform=\"uppercase\" bold fontSize=\"12px\">\n            {isStaked ? stakingToken.symbol : t(`Stake`)}{' '}\n          </InlineText>\n          <InlineText color={isStaked ? 'textSubtle' : 'secondary'} textTransform=\"uppercase\" bold fontSize=\"12px\">\n            {isStaked ? t(`Staked`) : `${stakingToken.symbol}`}\n          </InlineText>\n        </Box>\n        {needsApproval ? (\n          <ApprovalAction pool={pool} isLoading={isLoading} setNeedsApproval={setNeedsApproval}/>\n        ) : (\n          <StakeActions\n            isLoading={isLoading}\n            pool={pool}\n            stakingTokenBalance={stakingTokenBalance}\n            stakingTokenPrice={stakingTokenPrice}\n            stakedBalance={stakedBalance}\n            isStaked={isStaked}\n          />\n        )}\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default CardActions\n","import BigNumber from 'bignumber.js'\nimport React from 'react'\nimport { BIG_ZERO } from 'sdk'\nimport { CardBody, Flex, Text, CardRibbon } from 'uikit'\nimport UnlockButton from 'components/UnlockButton'\nimport { useTranslation } from 'contexts/Localization'\nimport { useGetApiPrice } from 'state/hooks'\nimport { SyrupPool } from 'state/types'\nimport AprRow from './AprRow'\nimport { StyledCard, StyledCardInner } from './StyledCard'\nimport CardFooter from './CardFooter'\nimport StyledCardHeader from './StyledCardHeader'\nimport CardActions from './CardActions'\n\nconst Syruppoolcard: React.FC<{ pool: SyrupPool; account: string; }> = ({ pool, account }) => {\n  const { syrupId, stakingToken, earningToken, isFinished, userData } = pool\n\n  const { t } = useTranslation()\n\n  const stakedBalance = userData?.stakedBalance ? new BigNumber(userData.stakedBalance) : BIG_ZERO\n  \n  const accountHasStakedBalance = stakedBalance.gt(0)\n  \n  const stakingTokenPrice = useGetApiPrice(stakingToken.address ? stakingToken.address : '')\n\n  return (\n    <StyledCard\n      isFinished={isFinished && syrupId !== 0}\n      ribbon={isFinished && <CardRibbon variantColor=\"textDisabled\" text={`${t('Finished')}`} />}\n    >\n      <StyledCardInner>\n        <StyledCardHeader\n          isStaking={accountHasStakedBalance}\n          earningTokenSymbol={earningToken.symbol}\n          stakingTokenSymbol={stakingToken.symbol}\n          isFinished={isFinished && syrupId !== 0}\n        />\n        <CardBody>\n          <AprRow pool={pool} stakingTokenPrice={stakingTokenPrice} />\n          <Flex mt=\"24px\" flexDirection=\"column\">\n            {account ? (\n              <CardActions pool={pool} stakedBalance={stakedBalance} stakingTokenPrice={stakingTokenPrice} />\n            ) : (\n              <>\n                <Text mb=\"10px\" textTransform=\"uppercase\" fontSize=\"12px\" color=\"textSubtle\" bold>\n                  {t('Start Earning')}\n                </Text>\n                <UnlockButton />\n              </>\n            )}\n          </Flex>\n        </CardBody>\n        <CardFooter pool={pool} account={account} />\n      </StyledCardInner>\n    </StyledCard>\n  )\n}\n\nexport default Syruppoolcard\n","import React from 'react'\nimport {\n  ButtonMenu,\n  ButtonMenuItem,\n  Toggle,\n  Text,\n  Flex,\n  NotificationDot,\n} from 'uikit'\nimport { useTranslation } from 'contexts/Localization'\n\nconst SyruppoolTab = ({ showHistory, setShowHistory, stakedOnly, setStakedOnly, hasStakeInFinishedPools }) => {\n  const { t } = useTranslation()\n\n  return (\n    <Flex alignItems=\"center\" justifyContent=\"center\" mb=\"32px\">\n      <Flex alignItems=\"center\" flexDirection={['column', null, 'row', null]}>\n        <ButtonMenu activeIndex={showHistory ? 1 : 0} onItemClick={(index) => setShowHistory(index === 1)} scale=\"sm\" variant=\"subtle\">\n          <ButtonMenuItem>\n            {t('Live')}\n          </ButtonMenuItem>\n          <NotificationDot show={hasStakeInFinishedPools}>\n            <ButtonMenuItem>\n              {t('Finished')}\n            </ButtonMenuItem>\n          </NotificationDot>\n        </ButtonMenu>\n        <Flex mt={['4px', null, 0, null]} ml={[0, null, '24px', null]} justifyContent=\"center\" alignItems=\"center\">\n          <Toggle scale=\"sm\" checked={stakedOnly} onChange={() => setStakedOnly((prev) => !prev)} />\n          <Text ml=\"8px\">{t('Staked only')}</Text>\n        </Flex>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default SyruppoolTab\n","import React, { useMemo } from 'react'\r\nimport FarmsPageHeader from 'components/FarmsPageHeader'\r\nimport Page from 'components/layout/Page'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { Heading, Flex } from 'uikit'\r\nimport orderBy from 'lodash/orderBy'\r\nimport partition from 'lodash/partition'\r\nimport usePersistState from 'hooks/usePersistState'\r\nimport { useSyrupPools, useBlock } from 'state/hooks'\r\nimport FlexLayout from 'components/layout/Flex'\r\nimport Syruppoolcard from './Syruppoolcard'\r\nimport SyruppoolTab from './SyruppoolTab'\r\n\r\nconst Syruppools: React.FC = () => {\r\n    const { t } = useTranslation()\r\n\r\n    const { account } = useWeb3React()\r\n\r\n    const pools = useSyrupPools(account)\r\n\r\n    const { currentBlock } = useBlock()\r\n\r\n    const [stakedOnly, setStakedOnly] = usePersistState(false, 'grampus_syrup_pool_staked')\r\n\r\n    const [showHistory, setShowHistory] = usePersistState(true, 'grampus_syrup_pool_history')\r\n \r\n    const [finishedPools, openPools] = useMemo(\r\n      () => partition(pools, (pool) => pool.isFinished || (currentBlock > pool.endBlock && pool.endBlock > 0)),\r\n      [currentBlock, pools],\r\n    )\r\n\r\n    const stakedOnlyFinishedPools = useMemo(\r\n      () => finishedPools.filter((pool) => pool.userData && new BigNumber(pool.userData.stakedBalance).isGreaterThan(0)),\r\n      [finishedPools],\r\n    )\r\n\r\n    const stakedOnlyOpenPools = useMemo(\r\n      () => openPools.filter((pool) => pool.userData && new BigNumber(pool.userData.stakedBalance).isGreaterThan(0)),\r\n      [openPools],\r\n    )\r\n\r\n    const hasStakeInFinishedPools = stakedOnlyFinishedPools.length > 0\r\n\r\n    return (\r\n      <>\r\n        <FarmsPageHeader>\r\n         <Flex justifyContent=\"space-between\" flexDirection={['column', null, 'row']}>\r\n            <Flex flexDirection=\"column\" mr={['8px', 0]}>\r\n              <Heading as=\"h1\" scale=\"xxl\" color=\"secondary\" mb=\"24px\">\r\n                {t('Stake Pools')}\r\n              </Heading>\r\n              <Heading scale=\"md\" color=\"text\">\r\n                {t('Stake some tokens to earn new tokens')}\r\n              </Heading>\r\n            </Flex>\r\n          </Flex>\r\n        </FarmsPageHeader>\r\n        <Page>\r\n        <SyruppoolTab\r\n          showHistory={showHistory}\r\n          setShowHistory={setShowHistory}\r\n          stakedOnly={stakedOnly}\r\n          setStakedOnly={setStakedOnly}\r\n          hasStakeInFinishedPools={hasStakeInFinishedPools}\r\n        />\r\n        { !showHistory ? <FlexLayout>\r\n            <> \r\n              {stakedOnly\r\n                ? orderBy(stakedOnlyOpenPools, ['sortOrder']).map((pool) => (\r\n                    <Syruppoolcard key={pool.syrupId} pool={pool} account={account} />\r\n                  ))\r\n                : orderBy(openPools, ['sortOrder']).map((pool) => (\r\n                    <Syruppoolcard key={pool.syrupId} pool={pool} account={account} />\r\n                  ))}\r\n            </>\r\n        </FlexLayout>\r\n        : <FlexLayout> \r\n          <> \r\n          {stakedOnly\r\n              ? orderBy(stakedOnlyFinishedPools, ['sortOrder']).map((pool) => (\r\n                  <Syruppoolcard key={pool.syrupId} pool={pool} account={account} />\r\n                ))\r\n              : orderBy(finishedPools, ['sortOrder']).map((pool) => (\r\n                  <Syruppoolcard key={pool.syrupId} pool={pool} account={account} />\r\n                ))} \r\n           </>\r\n        </FlexLayout> }\r\n      </Page>\r\n      </>\r\n    )   \r\n}\r\n \r\nexport default Syruppools\r\n","import React from 'react'\r\nimport { useFetchPublicData } from 'state/hooks'\r\nimport Syruppools from './Syruppools'\r\n\r\nconst Syruppoolsagent : React.FC = () => {\r\n    useFetchPublicData()\r\n\r\n    return (\r\n     <>\r\n       <Syruppools />\r\n     </>\r\n    );\r\n}\r\n\r\nexport default Syruppoolsagent","import React from 'react'\r\nimport { RefreshContextProvider } from 'contexts/RefreshContext'\r\nimport Syruppoolsagent from './Syruppoolsagent'\r\n\r\nconst Syruppoolwrapper: React.FC = () => {\r\n    return (\r\n      <RefreshContextProvider>\r\n        <Syruppoolsagent />\r\n      </RefreshContextProvider>\r\n    );\r\n}\r\n\r\nexport default Syruppoolwrapper","import React, { useEffect, useRef } from 'react'\nimport CountUp from 'react-countup'\nimport { Text } from 'uikit'\n\ninterface TextProps {\n  isDisabled?: boolean\n  fontSize?: string\n  color?: string\n  bold?: boolean\n}\n\ninterface BalanceProps extends TextProps {\n  value?: number\n  decimals?: number\n  unit?: string\n}\n\nconst Balance: React.FC<BalanceProps> = ({ value, fontSize, color, decimals, isDisabled, unit, bold, ...props }) => {\n  const previousValue = useRef(0)\n\n  useEffect(() => {\n    previousValue.current = value\n  }, [value])\n\n  return (\n    <Text bold={bold} color={isDisabled ? 'textDisabled' : color} fontSize={fontSize} {...props}>\n      <CountUp start={previousValue.current} end={value} decimals={decimals} duration={1} separator=\",\" />\n      {value && unit && <span>{unit}</span>}\n    </Text>\n  )\n}\n\nBalance.defaultProps = {\n  fontSize: '32px',\n  isDisabled: false,\n  color: 'text',\n  decimals: 3,\n}\n\nexport default Balance\n","import React from 'react'\nimport { Tag, VerifiedIcon, CommunityIcon, BinanceIcon, RefreshIcon, AutoRenewIcon } from 'uikit'\n\nconst CoreTag = (props) => (\n  <Tag variant=\"secondary\" outline startIcon={<VerifiedIcon width=\"18px\" color=\"secondary\" mr=\"4px\" />} {...props}>\n    Core\n  </Tag>\n)\n\nconst CommunityTag = (props) => (\n  <Tag variant=\"textSubtle\" outline startIcon={<CommunityIcon width=\"18px\" color=\"secondary\" mr=\"4px\" />} {...props}>\n    Community\n  </Tag>\n)\n\nconst BinanceTag = (props) => (\n  <Tag variant=\"binance\" outline startIcon={<BinanceIcon width=\"18px\" color=\"secondary\" mr=\"4px\" />} {...props}>\n    Binance\n  </Tag>\n)\n\nconst DualTag = (props) => (\n  <Tag variant=\"textSubtle\" outline {...props}>\n    Dual\n  </Tag>\n)\n\nconst ManualPoolTag = (props) => (\n  <Tag variant=\"secondary\" outline startIcon={<RefreshIcon width=\"18px\" color=\"secondary\" mr=\"4px\" />} {...props}>\n    Manual\n  </Tag>\n)\n\nconst CompoundingPoolTag = (props) => (\n  <Tag variant=\"success\" outline startIcon={<AutoRenewIcon width=\"18px\" color=\"success\" mr=\"4px\" />} {...props}>\n    Auto\n  </Tag>\n)\n\nexport { CoreTag, CommunityTag, BinanceTag, DualTag, ManualPoolTag, CompoundingPoolTag }\n","import React from 'react'\nimport { Button, useWalletModal } from 'uikit'\nimport { getENVChainId } from 'sdk'\nimport { useActiveWeb3React } from 'hooks'\nimport useAuth from 'hooks/useAuth'\nimport { useTranslation } from 'contexts/Localization'\n\nconst UnlockButton = (props) => {\n  const { t } = useTranslation()\n\n  const { login, logout } = useAuth()\n\n  const { chainId } = useActiveWeb3React()\n\n  const activeChainId = chainId ?? getENVChainId()\n\n  const { onPresentConnectModal } = useWalletModal(login, logout, t, activeChainId)\n\n  return (\n    <Button onClick={onPresentConnectModal} {...props}>\n      {t('Unlock Wallet')}\n    </Button>\n  )\n}\n\nexport default UnlockButton\n","import styled from 'styled-components'\n\nconst FlexLayout = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  & > * {\n    min-width: 280px;\n    max-width: 31.5%;\n    width: 100%;\n    margin: 0 8px;\n    margin-bottom: 32px;\n  }\n`\n\nexport default FlexLayout\n","import { useEffect, useState } from 'react'\n\n/**\n * Same as \"useState\" but saves the value to local storage each time it changes\n */\nconst usePersistState = (initialValue: any, localStorageKey: string) => {\n  const [value, setValue] = useState(() => {\n    try {\n      const valueFromLS = localStorage.getItem(localStorageKey)\n\n      return valueFromLS ? JSON.parse(valueFromLS) : initialValue\n    } catch (error) {\n      return initialValue\n    }\n  })\n\n  useEffect(() => {\n    localStorage.setItem(localStorageKey, JSON.stringify(value))\n  }, [value, localStorageKey])\n\n  return [value, setValue]\n}\n\nexport default usePersistState\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Box } from 'uikit'\nimport Container from '../layout/Container'\n\nconst Outer = styled(Box)<{ background?: string }>`\n  background: ${({ theme, background }) => background || theme.colors.gradients.bubblegum};\n`\n\nconst Inner = styled(Container)`\n  padding-top: 32px;\n  padding-bottom: 32px;\n`\n\nconst FarmsPageHeader: React.FC<{ background?: string }> = ({ background, children, ...props }) => (\n  <Outer background={background} {...props}>\n    <Inner>{children}</Inner>\n  </Outer>\n)\n\nexport default FarmsPageHeader\n","export const tokenEarnedPerThousandDollarsCompounding = ({\n  numberOfDays,\n  farmApr,\n  tokenPrice,\n  roundingDecimals = 2,\n  compoundFrequency = 1,\n  performanceFee = 0,\n}) => {\n  // Everything here is worked out relative to a year, with the asset compounding at the compoundFrequency rate. 1 = once per day\n  const timesCompounded = 365 * compoundFrequency\n  // We use decimal values rather than % in the math for both APY and the number of days being calculates as a proportion of the year\n  let aprAsDecimal = farmApr / 100\n\n  if (performanceFee) {\n    // Reduce the APR by the % performance fee\n    const feeRelativeToApr = (farmApr / 100) * performanceFee\n    const aprAfterFee = farmApr - feeRelativeToApr\n    aprAsDecimal = aprAfterFee / 100\n  }\n\n  const daysAsDecimalOfYear = numberOfDays / 365\n  // Calculate the starting TOKEN balance with a dollar balance of $1000.\n  const principal = 1000 / tokenPrice\n  // This is a translation of the typical mathematical compounding APY formula. Details here: https://www.calculatorsoup.com/calculators/financial/compound-interest-calculator.php\n  const finalAmount = principal * (1 + aprAsDecimal / timesCompounded) ** (timesCompounded * daysAsDecimalOfYear)\n  // To get the TOKEN amount earned, deduct the amount after compounding (finalAmount) from the starting TOKEN balance (principal)\n  const interestEarned = finalAmount - principal\n\n  return parseFloat(interestEarned.toFixed(roundingDecimals))\n}\n\nexport const getRoi = ({ amountEarned, amountInvested }) => {\n  const percentage = (amountEarned / amountInvested) * 100\n  return percentage\n}\n"],"sourceRoot":""}