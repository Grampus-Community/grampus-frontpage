(this.webpackJsonpgrampuscommunity=this.webpackJsonpgrampuscommunity||[]).push([[7],{1259:function(e,t,n){"use strict";n.r(t);var r,c,i,o,a,s,d,l=n(1),u=n.n(l),j=n(373),b=n(78),x=n(361),O=n(18),p=n(972),m=n(239),h=n(43),f=n(17),v=n(1041),g=n.n(v),w=n(1050),y=n.n(w),C=n(971),A=n(970),F=n(0),T=function(e){var t=e.showFinished,n=e.setShowFinished,r=e.showRewarded,c=e.setShowRewarded,i=e.hasRewardedInFinishedPools,o=Object(h.c)().t;return Object(F.jsx)(f.Flex,{alignItems:"center",justifyContent:"center",mb:"32px",children:Object(F.jsxs)(f.Flex,{alignItems:"center",flexDirection:["column",null,"row",null],children:[Object(F.jsxs)(f.ButtonMenu,{activeIndex:t?1:0,onItemClick:function(e){return n(1===e)},scale:"sm",variant:"subtle",children:[Object(F.jsx)(f.ButtonMenuItem,{children:o("Live")}),Object(F.jsx)(f.NotificationDot,{show:i,children:Object(F.jsx)(f.ButtonMenuItem,{children:o("Finished")})})]}),Object(F.jsxs)(f.Flex,{mt:["4px",null,0,null],ml:[0,null,"24px",null],justifyContent:"center",alignItems:"center",children:[Object(F.jsx)(f.Toggle,{scale:"sm",checked:r,onChange:function(){return c((function(e){return!e}))}}),Object(F.jsx)(f.Text,{ml:"8px",children:o("Rewarded only")})]})]})})},k=n(964),I=n(5),D=n(4),S=Object(D.default)(f.Card)(r||(r=Object(I.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){return e.theme.mediaQueries.sm})),R=Object(D.default)(f.Box)(c||(c=Object(I.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.radii.card})),M=Object(D.default)(f.CardHeader)(i||(i=Object(I.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.isFinished,n=e.background,r=e.theme;return t?r.colors.backgroundDisabled:r.colors.gradients[n]}),(function(e){var t=e.theme;return"".concat(t.radii.card," ").concat(t.radii.card," 0 0")})),E=function(e){var t=e.rewardTokenSymbol,n=e.isFinished,r=void 0!==n&&n,c=e.isRewarded,i=void 0!==c&&c,o=Object(h.c)().t,a=i?"bubblegum":"cardHeader";return Object(F.jsx)(M,{isFinished:r,background:a,children:Object(F.jsx)(f.Flex,{alignItems:"center",justifyContent:"space-between",children:Object(F.jsx)(f.Flex,{flexDirection:"column",children:Object(F.jsx)(f.Heading,{color:r?"textDisabled":"body",scale:"lg",children:"".concat("".concat(o("Earn"))," ").concat(t)})})})})},B=D.default.div(o||(o=Object(I.a)(["\n  margin-top: 10px;\n  margin-bottom: 10px;\n"]))),H=function(e){var t=e.airdropCount,n=void 0===t?0:t,r=e.baseAirdropAmount,c=void 0===r?0:r,i=Object(h.c)().t,o=c*n;return Object(F.jsxs)(B,{children:[Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"5px",children:[Object(F.jsxs)(f.Text,{ml:"5px",children:[i("AirdropSupply"),":"]}),Object(F.jsx)(f.Text,{mr:"5px",children:o})]}),Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"5px",children:[Object(F.jsxs)(f.Text,{ml:"5px",children:[i("AirdropCounts"),":"]}),Object(F.jsx)(f.Text,{mr:"5px",children:n})]})]})},z=D.default.div(a||(a=Object(I.a)(["\n  margin-top: 24px;\n  margin-bottom: 10px;\n"]))),_=function(e){e.inviteRewardRatio;var t=e.userAirdropAmount,n=void 0===t?0:t,r=(e.userInviterAmount,e.userInviterCount,Object(h.c)().t);return Object(F.jsx)(z,{children:Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"5px",children:[Object(F.jsxs)(f.Text,{ml:"5px",children:[r("AirdropRewards"),":"]}),Object(F.jsx)(f.Text,{mr:"5px",children:n})]})})},P=n(963),L=n(952),J=Object(D.default)(f.Flex)(s||(s=Object(I.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),N=function(e){var t=e.rewardToken,n=e.airdropCount,r=e.hasAirdropCount,c=e.hasAirdropAmount,i=(e.account,Object(h.c)().t),o=n&&n!==r,a=n?Math.max(n-r,0):0;return Object(F.jsxs)(J,{flexDirection:"column",children:[Object(F.jsxs)(f.Flex,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(F.jsxs)(f.Text,{small:!0,children:[i("Total airdrop"),":"]}),Object(F.jsx)(f.Flex,{alignItems:"flex-start",children:c?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(L.a,{fontSize:"14px",value:c}),Object(F.jsx)(f.Text,{ml:"4px",fontSize:"14px",children:t.symbol})]}):Object(F.jsx)(f.Skeleton,{width:"90px",height:"21px"})})]}),o&&Object(F.jsxs)(f.Flex,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(F.jsxs)(f.Text,{small:!0,children:[i("End"),":"]}),Object(F.jsxs)(f.Flex,{alignItems:"center",children:[a?Object(F.jsx)(L.a,{color:"primary",fontSize:"14px",value:a,decimals:0}):Object(F.jsx)(f.Skeleton,{width:"54px",height:"21px"}),Object(F.jsx)(f.Text,{ml:"4px",color:"primary",small:!0,children:i("AirdropRemainingCounts")})]})]})]})},K=u.a.memo(N),W=Object(D.default)(f.Flex)(d||(d=Object(I.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),Q=function(e){var t,n,r,c=e.pool,i=e.account,o=Object(h.c)().t,a=Object(l.useState)(!1),s=Object(O.a)(a,2),d=s[0],u=s[1];return Object(F.jsxs)(f.CardFooter,{children:[Object(F.jsxs)(W,{children:[Object(F.jsx)(f.Flex,{alignItems:"center",children:Object(F.jsx)(P.d,{})}),Object(F.jsx)(f.ExpandableLabel,{expanded:d,onClick:function(){return u(!d)},children:o(d?"Hide":"Details")})]}),d&&Object(F.jsx)(K,{rewardToken:c.rewardToken,airdropCount:null===(t=c.info)||void 0===t?void 0:t.airdropCount,hasAirdropCount:null===(n=c.info)||void 0===n?void 0:n.hasAirdropCount,hasAirdropAmount:null===(r=c.info)||void 0===r?void 0:r.hasAirdropAmount,account:i})]})},U=n(8),V=n.n(U),Y=n(26),q=n(368),G=n(10),X=n(3),Z=n(131),$=n(155),ee=n(76),te=n(93),ne=n(62);var re,ce=n(237),ie=function(e){var t=e.invitor,n=e.id,r=e.rewardTokenSymbol,c=e.minDropAmount,i=e.maxDropAmount,o=e.onDismiss,a=Object(h.c)().t,s=Object(q.a)().theme,d=Object(ce.a)(),u=d.toastSuccess,j=d.toastError,x=function(e,t,n){var r=Object(b.d)(),c=r.account,i=r.library,o=Object($.b)(),a=Object(G.K)(),s=Object(ne.a)(e);n||(n=G.a);var d=Object(ee.m)(),u=Object(O.a)(d,1)[0],j=Math.ceil(Date.now()/1e3)+u;return[Object(l.useCallback)(Object(Y.a)(V.a.mark((function r(){var d,l,u,b,x,O,p;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s){r.next=3;break}return console.error("airdrop contract is null"),r.abrupt("return");case 3:return d=Object(Z.a)().find((function(t){return t.id===e})),r.next=6,s.nonces(c);case 6:l=r.sent,u=[{name:"version",type:"uint256"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],b={version:d.version,chainId:a,verifyingContract:d.address},x=[{name:"invitor",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],O={invitor:n,nonce:l.toHexString(),deadline:j},p=JSON.stringify({types:{EIP712Domain:u,reward:x},domain:b,primaryType:"reward",message:O}),i.send("eth_signTypedData_v4",[c,p]).then(X.splitSignature).then((function(e){var r=e.v,i=e.r,a=e.s;s.reward(n,l.toHexString(),j,r,i,a,{gasLimit:G.n}).then((function(){o(Object(te.c)(c)),o(Object(te.b)()),t()})).catch((function(e){throw console.error("Failed to harvest token",e),e}))}));case 13:case"end":return r.stop()}}),r)}))),[s,o,e,c,n,t,i,j,a])]}(n,(function(){u("".concat(a("Harvested"),"!"),a("Your earnings have been sent to your wallet!")),w(!1),o()}),t),p=Object(O.a)(x,1)[0],m=Object(l.useState)(!1),v=Object(O.a)(m,2),g=v[0],w=v[1],y=function(){var e=Object(Y.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,p();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),j(a("Canceled"),a("Please try again and confirm the transaction.")),w(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(f.Modal,{title:"".concat(r," ").concat(a("Harvest")),onDismiss:o,headerBackground:s.colors.gradients.cardHeader,children:[Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"10px",children:[Object(F.jsxs)(f.Text,{ml:"10px",children:[a("AirdropEarnMin"),":"]}),Object(F.jsx)(f.Text,{mr:"10px",children:c})]}),Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"10px",children:[Object(F.jsxs)(f.Text,{ml:"10px",children:[a("AirdropEarnMax"),":"]}),Object(F.jsx)(f.Text,{mr:"10px",children:i})]}),Object(F.jsx)(f.Button,{mt:"8px",onClick:y,isLoading:g,endIcon:g?Object(F.jsx)(f.AutoRenewIcon,{spin:!0,color:"currentColor"}):null,children:a(g?"Confirming":"Confirm")}),Object(F.jsx)(f.Button,{variant:"text",onClick:o,pb:"0px",children:a("Close window")})]})},oe=function(e){var t,n,r=e.pool,c=e.invitor,i=e.isLoading,o=void 0!==i&&i,a=Object(h.c)().t,s=null===(t=r.info)||void 0===t?void 0:t.baseAirdropAmount,d=null===(n=r.info)||void 0===n?void 0:n.sgeOffset,l=s-s*d/100,u=s+s*d/100,j=Object(f.useModal)(Object(F.jsx)(ie,{invitor:c,id:r.id,minDropAmount:l,maxDropAmount:u,rewardTokenSymbol:r.rewardToken.symbol})),b=Object(O.a)(j,1)[0];return Object(F.jsx)(f.Flex,{flexDirection:"column",mb:"16px",children:Object(F.jsxs)(f.Flex,{justifyContent:"space-between",alignItems:"center",children:[Object(F.jsx)(f.Flex,{flexDirection:"column",children:o?Object(F.jsx)(f.Skeleton,{width:"80px",height:"48px"}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"5px",children:[Object(F.jsxs)(f.Text,{ml:"5px",children:[a("AirdropEarnMin"),":"]}),Object(F.jsx)(f.Text,{mr:"5px",children:l})]}),Object(F.jsxs)(f.Flex,{justifyContent:"space-between",mb:"5px",children:[Object(F.jsxs)(f.Text,{ml:"5px",children:[a("AirdropEarnMax"),":"]}),Object(F.jsx)(f.Text,{mr:"5px",children:u})]})]})}),Object(F.jsx)(f.Flex,{children:Object(F.jsx)(f.Button,{onClick:b,children:a("Harvest")})})]})})},ae=Object(D.default)(f.Text)(re||(re=Object(I.a)(["\n  display: inline;\n"]))),se=function(e){var t=e.pool,n=Object(h.c)().t,r=t.info.airdropCount-t.info.hasAirdropCount>0&&t.userData&&0===t.userData.userAirdropAmount,c=!t.userData;return Object(F.jsx)(f.Flex,{flexDirection:"column",children:Object(F.jsx)(f.Flex,{flexDirection:"column",children:r&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(f.Box,{display:"inline",children:[Object(F.jsx)(ae,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(t.rewardToken.symbol," ")}),Object(F.jsx)(ae,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n("Earned")})]}),Object(F.jsx)(oe,{invitor:function(e){var t=window.location.search.substring(1);if(-1===t.indexOf("?")&&(t=window.location.hash.split("?")[1]),t)for(var n=t.split("&"),r=0;r<n.length;r++){var c=n[r].split("=");if(c[0]===e)return c[1]}}("invitor"),pool:t,isLoading:c})]})})})},de=function(e){var t=e.pool,n=e.account,r=t.rewardToken,c=t.info,i=t.userData,o=c&&c.airdropCount===c.hasAirdropCount,a=i&&i.userAirdropAmount>0,s=Object(h.c)().t;return Object(F.jsx)(S,{isFinished:o,ribbon:o&&Object(F.jsx)(f.CardRibbon,{variantColor:"textDisabled",text:"".concat(s("Finished"))}),children:Object(F.jsxs)(R,{children:[Object(F.jsx)(E,{isRewarded:a,rewardTokenSymbol:r.symbol,isFinished:o}),Object(F.jsxs)(f.CardBody,{children:[Object(F.jsx)(H,{airdropCount:c.airdropCount,baseAirdropAmount:c.baseAirdropAmount}),Object(F.jsx)(_,{inviteRewardRatio:c.inviteRewardRatio,userAirdropAmount:null===i||void 0===i?void 0:i.userAirdropAmount,userInviterAmount:null===i||void 0===i?void 0:i.userInviterAmount,userInviterCount:null===i||void 0===i?void 0:i.userInviterCount}),Object(F.jsx)(f.Flex,{mt:"24px",flexDirection:"column",children:n?Object(F.jsx)(se,{pool:t}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(f.Text,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:s("Start Earning")}),Object(F.jsx)(k.a,{})]})})]}),Object(F.jsx)(Q,{pool:t,account:n})]})})},le=function(){var e=Object(h.c)().t,t=Object(b.d)().account,n=Object(x.a)(t),r=Object(C.a)(!1,"grampus_airdrop_pool_finished"),c=Object(O.a)(r,2),i=c[0],o=c[1],a=Object(C.a)(!1,"grampus_airdrop_pool_rewarded"),s=Object(O.a)(a,2),d=s[0],u=s[1],j=Object(l.useMemo)((function(){return y()(n,(function(e){return e.info.airdropCount===e.info.hasAirdropCount}))}),[n]),v=Object(O.a)(j,2),w=v[0],k=v[1],I=Object(l.useMemo)((function(){return w.filter((function(e){return e.userData&&(e.userData.userAirdropAmount>0||e.userData.userInviterCount>0)}))}),[w]),D=Object(l.useMemo)((function(){return k.filter((function(e){return e.userData&&(e.userData.userAirdropAmount>0||e.userData.userInviterCount>0)}))}),[k]),S=I.length>0;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(p.a,{children:Object(F.jsx)(f.Flex,{justifyContent:"space-between",flexDirection:["column",null,"row"],children:Object(F.jsxs)(f.Flex,{flexDirection:"column",mr:["8px",0],children:[Object(F.jsx)(f.Heading,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:e("Airdrop Pools")}),Object(F.jsx)(f.Heading,{scale:"md",color:"text",children:e("earn random amount of airdrop tokens")})]})})}),Object(F.jsxs)(m.a,{children:[Object(F.jsx)(T,{showFinished:i,setShowFinished:o,showRewarded:d,setShowRewarded:u,hasRewardedInFinishedPools:S}),i?Object(F.jsx)(A.a,{children:Object(F.jsx)(F.Fragment,{children:d?g()(I,["sortOrder"]).map((function(e){return Object(F.jsx)(de,{pool:e,account:t},e.id)})):g()(w,["sortOrder"]).map((function(e){return Object(F.jsx)(de,{pool:e,account:t},e.id)}))})}):Object(F.jsx)(A.a,{children:Object(F.jsx)(F.Fragment,{children:d?g()(D,["sortOrder"]).map((function(e){return Object(F.jsx)(de,{pool:e,account:t},e.id)})):g()(k,["sortOrder"]).map((function(e){return Object(F.jsx)(de,{pool:e,account:t},e.id)}))})})]})]})},ue=function(){var e=Object(b.d)().account;return Object(x.d)(e),Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(le,{})})};t.default=function(){return Object(F.jsx)(j.b,{children:Object(F.jsx)(ue,{})})}},952:function(e,t,n){"use strict";var r=n(2),c=n(33),i=n(1),o=n(960),a=n.n(o),s=n(17),d=n(0),l=function(e){var t=e.value,n=e.fontSize,o=e.color,l=e.decimals,u=e.isDisabled,j=e.unit,b=e.bold,x=Object(c.a)(e,["value","fontSize","color","decimals","isDisabled","unit","bold"]),O=Object(i.useRef)(0);return Object(i.useEffect)((function(){O.current=t}),[t]),Object(d.jsxs)(s.Text,Object(r.a)(Object(r.a)({bold:b,color:u?"textDisabled":o,fontSize:n},x),{},{children:[Object(d.jsx)(a.a,{start:O.current,end:t,decimals:l,duration:1,separator:","}),t&&j&&Object(d.jsx)("span",{children:j})]}))};l.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3},t.a=l},963:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(2),c=(n(1),n(17)),i=n(0),o=function(e){return Object(i.jsx)(c.Tag,Object(r.a)(Object(r.a)({variant:"secondary",outline:!0,startIcon:Object(i.jsx)(c.VerifiedIcon,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Core"}))},a=function(e){return Object(i.jsx)(c.Tag,Object(r.a)(Object(r.a)({variant:"textSubtle",outline:!0,startIcon:Object(i.jsx)(c.CommunityIcon,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Community"}))},s=function(e){return Object(i.jsx)(c.Tag,Object(r.a)(Object(r.a)({variant:"secondary",outline:!0,startIcon:Object(i.jsx)(c.RefreshIcon,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Manual"}))},d=function(e){return Object(i.jsx)(c.Tag,Object(r.a)(Object(r.a)({variant:"success",outline:!0,startIcon:Object(i.jsx)(c.AutoRenewIcon,{width:"18px",color:"success",mr:"4px"})},e),{},{children:"Auto"}))}},964:function(e,t,n){"use strict";var r=n(2),c=(n(1),n(17)),i=n(10),o=n(29),a=n(243),s=n(43),d=n(0);t.a=function(e){var t=Object(s.c)().t,n=Object(a.a)(),l=n.login,u=n.logout,j=Object(o.a)().chainId,b=null!==j&&void 0!==j?j:Object(i.K)(),x=Object(c.useWalletModal)(l,u,t,b).onPresentConnectModal;return Object(d.jsx)(c.Button,Object(r.a)(Object(r.a)({onClick:x},e),{},{children:t("Unlock Wallet")}))}},970:function(e,t,n){"use strict";var r,c=n(5),i=n(4).default.div(r||(r=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  & > * {\n    min-width: 280px;\n    max-width: 31.5%;\n    width: 100%;\n    margin: 0 8px;\n    margin-bottom: 32px;\n  }\n"])));t.a=i},971:function(e,t,n){"use strict";var r=n(18),c=n(1);t.a=function(e,t){var n=Object(c.useState)((function(){try{var n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(r){return e}})),i=Object(r.a)(n,2),o=i[0],a=i[1];return Object(c.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o,t]),[o,a]}},972:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r,c,i=n(2),o=n(33),a=n(5),s=(n(1),n(4)),d=n(17),l=n(374),u=n(0),j=Object(s.default)(d.Box)(r||(r=Object(a.a)(["\n  background: ",";\n"])),(function(e){var t=e.theme;return e.background||t.colors.gradients.bubblegum})),b=Object(s.default)(l.a)(c||(c=Object(a.a)(["\n  padding-top: 32px;\n  padding-bottom: 32px;\n"]))),x=function(e){var t=e.background,n=e.children,r=Object(o.a)(e,["background","children"]);return Object(u.jsx)(j,Object(i.a)(Object(i.a)({background:t},r),{},{children:Object(u.jsx)(b,{children:n})}))}}}]);
//# sourceMappingURL=7.148ea99c.chunk.js.map